(window.webpackJsonp=window.webpackJsonp||[]).push([["reactmode"],{"/KOk":function(e,t){},"1Xm9":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.enableMuseumCardMouseOver=new n.a("enableMuseumCardMouseOver"),a.renderMuseumCard=new n.a("renderMuseumCard"),a.toggleBingImageOverlay=new n.a("toggleBingImageOverlay"),a.toggleHeaderClickHeaderExpanded=new n.a("toggleHeaderClickHeaderExpanded"),a.toggleImageUI=new n.a("toggleImageUI"),a.toggleMuseumCreditsCard=new n.a("toggleMuseumCreditsCard"),a.togglePrevAndNextButtons=new n.a("togglePrevAndNextButtons"),a.updateBingImageHeight=new n.a("updateBingImageHeight"),a.updateBingImageSource=new n.a("updateBingImageSourceStep"),a.updateBingImageSourceStep2=new n.a("updateBingImageSource2"),a.updateImageDownloadComplete=new n.a("updateImageDownloadComplete"),a.updateLayoutStatus=new n.a("updateLayoutStatus"),a.updateRecommendedSearchBingImageOverlayVisibility=new n.a("updateRecommendedSearchBingImageOverlayVisibility"),a.updateSearchHistoryBingImageOverlayVisibility=new n.a("updateSearchHistoryBingImageOverlayVisibility"),a.updateThemeImageAttribution=new n.a("updateThemeImageAttribution")},"27Co":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ERkP"),a=i.n(n),r=i("4Ixr");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M16 2.61719C16 2.96094 15.9349 3.29427 15.8047 3.61719C15.6745 3.9401 15.4844 4.22656 15.2344 4.47656L4.94531 14.7656L0 16L1.23438 11.0547L11.5234 0.765625C11.7734 0.515625 12.0599 0.325521 12.3828 0.195312C12.7057 0.0651042 13.0391 0 13.3828 0C13.7422 0 14.0807 0.0703125 14.3984 0.210938C14.7161 0.346354 14.9922 0.533854 15.2266 0.773438C15.4661 1.00781 15.6536 1.28385 15.7891 1.60156C15.9297 1.91927 16 2.25781 16 2.61719ZM2.54688 11.1562C3.09896 11.3385 3.57292 11.6302 3.96875 12.0312C4.36979 12.4271 4.66146 12.901 4.84375 13.4531L13.2891 5L11 2.71094L2.54688 11.1562ZM1.375 14.625L3.94531 13.9844C3.89323 13.7448 3.80729 13.5182 3.6875 13.3047C3.57292 13.0911 3.43229 12.901 3.26562 12.7344C3.09896 12.5677 2.90885 12.4271 2.69531 12.3125C2.48177 12.1927 2.25521 12.1068 2.01562 12.0547L1.375 14.625ZM14 4.28906C14.1302 4.15885 14.2552 4.03646 14.375 3.92188C14.4948 3.80729 14.6016 3.6875 14.6953 3.5625C14.7891 3.43229 14.862 3.29427 14.9141 3.14844C14.9714 2.9974 15 2.82292 15 2.625C15 2.40104 14.9557 2.19271 14.8672 2C14.7839 1.80208 14.6667 1.63021 14.5156 1.48438C14.3698 1.33333 14.1979 1.21615 14 1.13281C13.8073 1.04427 13.599 1 13.375 1C13.1771 1 13.0026 1.02865 12.8516 1.08594C12.7057 1.13802 12.5677 1.21094 12.4375 1.30469C12.3125 1.39844 12.1927 1.50521 12.0781 1.625C11.9635 1.74479 11.8411 1.86979 11.7109 2L14 4.28906Z"}))}}},"2WFq":function(e,t){},"2tnv":function(e,t,i){"use strict";function n(){return{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}i.d(t,"a",(function(){return n}))},"3RYC":function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return c}));var n=i("ERkP"),a=i("vX+A");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var s=0,c=Object(n.memo)((function(e){var t=e.children,i=r(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l(),i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=t;r[d]||(r[d]=Object(a.b)(e,t,i,n));return r[d]}(e.backend,e.context,e.options,e.debugMode),i=!e.context;return[t,i]}(o(e,["children"])),2),c=i[0],u=i[1];return n.useEffect((function(){return u&&s++,function(){u&&(0===--s&&(l()[d]=null))}}),[]),n.createElement(a.a.Provider,{value:c},t)}));c.displayName="DndProvider";var d=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function l(){return void 0!==e?e:window}}).call(this,i("fRV1"))},"4Ixr":function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),r=i("r6MD"),o=i("OnwC");class s extends o.a{renderTitleText(e){return"string"==typeof Object(r.a)(e,"titleText")?a.a.createElement("title",null,Object(r.a)(e,"titleText")):null}}s.defaultProps={viewBox:"0 0 16 16",width:"16px",height:"16px",xmlns:"http://www.w3.org/2000/svg"},t.a=s},"4YCp":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("+viU"),a=i("hrln"),r=i("OnwC"),o=i("TxXh"),s=i("o1qX"),c=i("ERkP"),d=i.n(c),l=i("yR4y"),u=i("uhNu");class g extends r.a{constructor(){super(...arguments),this.handledProps={filled:void 0,size:void 0,managedClasses:void 0}}render(){return d.a.createElement(o.default,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),managedClasses:this.props.managedClasses}),this.props.children)}generateClassNames(){const{badge__filled:e,badge__small:t,badge__large:i}=this.props.managedClasses;return super.generateClassNames(Object(s.a)([e,this.props.filled],[i,this.props.size===u.a.large],[t,this.props.size===u.a.small]))}}g.displayName=l.a+"Badge",g.defaultProps={size:u.a.small,filled:!0,managedClasses:{}};var h=g;const p=Object(n.a)(a.a)(h)},"5GsF":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.layoutChange=new n.a("layoutChange"),a.elementsSizeChange=new n.a("elementsSizeChange"),a.expandCollapseHeader=new n.a("expandCollapseHeader"),a.highlightBackgroundImage=new n.a("highlightBackgroundImage"),a.animateFadeOverlay=new n.a("animateFadeOverlay"),a.getSearchHistoryVisibility=new n.a("getSearchHistoryVisibility"),a.getSearchHistoryItemStatus=new n.a("getSearchHistoryItemStatus"),a.updateBackgroundImageOverlay=new n.a("updateBackgroundImageOverlay"),a.updateBackgroundImageOverlayGradient=new n.a("updateBackgroundImageOverlayGradient")},"5RNZ":function(e,t,i){"use strict";var n=i("OnwC"),a=i("b12f"),r=i("o1qX"),o=i("ERkP"),s=i.n(o),c=i("yR4y");class d extends n.a{constructor(){super(...arguments),this.handledProps={after:void 0,before:void 0}}render(){return s.a.createElement(a.default,Object.assign({},this.unhandledProps()),void 0!==this.props.before?this.props.before:void 0,s.a.createElement("span",{className:Object(r.a)(this.props.managedClasses.contextMenuItem_contentRegion)},this.props.children),void 0!==this.props.after?this.props.after:void 0)}}d.displayName=c.a+"ContextMenuItem",d.defaultProps={managedClasses:{}},t.default=d},"7FLv":function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return m}));var n,a=i("3ZGc"),r=i("swXE"),o=i("6eT7"),s=i("MLPK"),c=i("6QMD"),d=i("MF9s");!function(e){e[e.e1=1]="e1",e[e.e2=2]="e2",e[e.e3=3]="e3",e[e.e4=4]="e4",e[e.e5=6]="e5",e[e.e6=8]="e6",e[e.e7=9]="e7",e[e.e8=12]="e8",e[e.e9=16]="e9",e[e.e10=24]="e10",e[e.e11=32]="e11",e[e.e12=40]="e12",e[e.e13=48]="e13",e[e.e14=64]="e14",e[e.e15=80]="e15",e[e.e16=96]="e16",e[e.e17=192]="e17"}(n||(n={}));const l={blurMultiplier:.225,blurBase:2,xOffsetMultiplier:0,yOffsetMultiplier:0,opacity:.11},u={blurMultiplier:.9,blurBase:0,xOffsetMultiplier:0,yOffsetMultiplier:.4,opacity:.13};function g(e,t,i){return n=>{const{r:s,g:l,b:u}=Object(c.i)(t),{xOffsetMultiplier:g,yOffsetMultiplier:h,opacity:p,blurMultiplier:m,blurBase:b=0}=i,f=2-Object(r.k)(Object(c.i)(Object(d.k)(n)));return[g,h].map(t=>parseFloat((t*e).toFixed(1))).concat(b+m*e).map(a.a).concat(new o.a(s,l,u,p*f).toStringWebRGBA()).join(" ")}}function h(e,t=s.a){return i=>{const n=g.bind(null,e,t);return[u,l].map(e=>n(e)(i)).join(", ")}}function p(e){return{"box-shadow":h(e)}}function m(e,t=s.a){return i=>({"box-shadow":h(e,t)})}},"7JxJ":function(e,t,i){"use strict";var n=i("iuMt"),a=i("3ZGc"),r=i("s6ks"),o=i("odxL"),s=i("SP+O"),c=i("MF9s"),d=i("objN");const l=Object.assign(Object.assign({},r.a),{button:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(r.b)()),{padding:"0",border:"0","justify-content":"flex-start","background-color":"transparent",color:o.d,fill:o.d}),Object(n.a)(Object.assign(Object.assign({"border-color":"transparent","box-shadow":"none"},d.r),{"& $button_contentRegion::before":Object.assign({background:s.c,height:Object(a.a)(c.s)},d.p)}))),{"a&, button&":{},"& $button_contentRegion::before":{[d.D]:{background:d.a.buttonText}},"&:hover $button_contentRegion::before":Object.assign({background:o.b},d.p),"&:hover$button__disabled $button_contentRegion::before":{display:"none"},"&:active $button_contentRegion::before":Object.assign({background:o.a},d.p),"&$button__disabled, &$button__disabled $button_contentRegion::before":Object.assign({"background-color":"transparent"},d.l),"&:hover:enabled, a&:not($button__disabled):hover":Object.assign({color:o.b,fill:o.b,"background-color":"transparent"},d.r),"&:active:enabled, a&:not($button__disabled):active":{color:o.a,fill:o.a,"background-color":"transparent"}}),d.E),{"a&:not($button__disabled)":{[d.D]:{background:d.a.background,color:d.v,fill:d.v},"&:not($button__disabled):hover":Object.assign({},d.t),"&:hover $button_contentRegion::before":{[d.D]:{background:d.v}},"& $button_contentRegion::before":{[d.D]:{background:"transparent"}}}})});t.a=l},"7YXi":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("OnwC"),a=i("ERkP"),r=i.n(a),o=i("o1qX");class s extends n.a{constructor(){super(...arguments),this.handledProps={bottomPositionOverride:void 0,clearNotificationToastTimeout:void 0,managedClasses:void 0,notificationComponent:void 0,notificationDurationMs:void 0,notificationKey:void 0,onNotificationTimeout:void 0,toastCenteredWithTextAlign:void 0,toastFitNFinishStyleUpdates:void 0},this.closeOnTimeout=e=>{this.props.onNotificationTimeout&&this.props.onNotificationTimeout(e)}}componentDidMount(){const{notificationKey:e}=this.props;this.currentNotificationKey=e,this.initializeNotification()}componentDidUpdate(){this.updateNotification()}render(){const{managedClasses:e={},notificationComponent:t,notificationKey:i,bottomPositionOverride:n,toastCenteredWithTextAlign:a,toastFitNFinishStyleUpdates:s}=this.props,c=s?Object(o.a)(e.notificationContainer_updated,[e.notificationContainerCenteredWithTextAlign_updated,a]):Object(o.a)(e.notificationContainer,[e.notificationContainerCenteredWithTextAlign,a]);return i&&t?r.a.createElement("div",{className:c,key:i,style:n?{bottom:n}:void 0},t):null}componentWillUnmount(){this.cancelNotificationTimeout()}updateNotification(){const{notificationKey:e,clearNotificationToastTimeout:t}=this.props;this.currentNotificationKey!==e?(this.cancelNotificationTimeout(),this.currentNotificationKey=e,this.initializeNotification()):t&&this.cancelNotificationTimeout()}initializeNotification(){const{notificationDurationMs:e}=this.props;this.removeNotificationAfterTimeout(this.currentNotificationKey,e)}cancelNotificationTimeout(){this.closeNotificationToastImmediateId&&window.clearTimeout(this.closeNotificationToastImmediateId)}removeNotificationAfterTimeout(e,t){this.closeNotificationToastImmediateId=window.setTimeout(this.closeOnTimeout.bind(this,e),t||3e3)}}var c=i("+viU"),d=i("0fst");const l={notificationContainer:{position:"fixed","justify-content":"center",bottom:"32px",left:"50%",transform:"translate(-50%)","z-index":""+d.a.Above},notificationContainerCenteredWithTextAlign:{display:"inline-flex",left:"24px",right:"24px",transform:"none","margin-left":"auto","margin-right":"auto","text-align":"center","max-width":"420px"},notificationContainer_updated:{position:"fixed","justify-content":"center",bottom:"32px",left:"50%","max-width":"424px",transform:"translate(-50%)","z-index":""+d.a.Above},notificationContainerCenteredWithTextAlign_updated:{display:"inline-flex",left:"24px",right:"24px",transform:"none","margin-left":"auto","margin-right":"auto","text-align":"center","max-width":"424px"},notificationToast:{visibility:"visible",opacity:"1"}},u=Object(c.a)(l)(s)},"87Cp":function(e,t,i){"use strict";i.r(t),i.d(t,"BackgroundImageEdgeNext",(function(){return Gt})),i.d(t,"BackgroundImageEdgeNextActions",(function(){return j.a})),i.d(t,"BackgroundImageEdgeNextBaseConnector",(function(){return Dt})),i.d(t,"BackgroundImageEdgeNextConnector",(function(){return zt})),i.d(t,"BackgroundImageEdgeNextReducer",(function(){return ft})),i.d(t,"ToolingInfo",(function(){return qt}));var n,a,r,o=i("2WFq");!function(e){e.BingImageOfTheDay="BingImageOfTheDay",e.BrowserLocal="BrowserLocal",e.Iris="Iris",e.NoBackground="NoBackground",e.FREBackground="FREBackground",e.EnterpriseBackground="EnterpriseBackground"}(n||(n={})),function(e){e.Edge="Edge",e.EdgeNext="EdgeNext"}(a||(a={})),function(e){e.Start="Start",e.End="End"}(r||(r={}));var s=i("4k19"),c=i("XLvf");const d={inspect:e=>{const{config:t,state:i}=e,{localizedStrings:o}=t,d=e.connectorArgs&&e.connectorArgs.provider;let l,u=t.API;i.currentBackgroundImageType===s.a.custom?u=n.BrowserLocal:i.currentBackgroundImageType===s.a.off&&(u=n.NoBackground);const g=t.showRecommendedSearchBingImageOverlay&&i.showRecommendedSearchBingImageOverlay,h=i.showSearchHistoryBingImageOverlay&&(t.showSearchHistoryBingImageOverlayAllMode||t.showSearchHistoryBingImageOverlaySelectiveMode);switch(u){case n.BingImageOfTheDay:l={backgroundImageSource:i.imageSource,delayRenderingOfMuseumCard:i.delayRenderingOfMuseumCard,downloadRestrictedText:o.downloadRestricted,downloadText:o.download,enableMuseumCardMouseOver:i.enableMuseumCardMouseOver,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:i.headerExpanded,hideImageText:o.hideImage,imageData:i.imageData,imageHeight:i.imageHeight,layoutType:t.layoutType,museumCardArrowPosition:t.museumCardArrowPosition?t.museumCardArrowPosition:r.End,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardBottomMargin:t.museumCardBottomMargin,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,nextBackgroundImageSource:i.nextImageSource,nextEnabled:i.nextEnabled,nextText:o.next,noDownloadText:o.noDownload,onClickNextCallback:d?()=>d.nextImage():void 0,onClickPrevCallback:d?()=>d.prevImage():void 0,onMouseEnterCallback:()=>{t.layoutType===a.Edge&&(Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn)&&d.toggleMuseumCreditsCard(!!i.enableMuseumCardMouseOver||i.showMuseumCreditsCard)},onMouseExitCallback:()=>{t.layoutType===a.Edge&&(Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn)&&d.toggleMuseumCreditsCard((!i.enableMuseumCardMouseOver||!i.headerExpanded)&&i.showMuseumCreditsCard)},prevEnabled:i.prevEnabled,previousText:o.previous,recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,selectedAPI:t.API,shareFacebookText:o.shareFacebook,shareSkypeText:o.shareSkype,shareTwitterText:o.shareTwitter,showBingImageLinearGradientOverlay:!Object(c.isNullOrUndefined)(t.showBingImageLinearGradientOverlay)&&t.showBingImageLinearGradientOverlay,showRecommendedSearchBingImageOverlay:g,showSearchHistoryBingImageOverlay:h,showBingImageOverlay:i.showBingImageOverlay,showDownloadLink:t.showDownloadLink,showHideImageButton:t.showHideImageButton&&i.showImageUI,showImageUI:i.showImageUI,showMuseumCreditsCard:i.showMuseumCreditsCard,showPrevNextButtons:Object(c.isNullOrUndefined)(t.museumCardControlsAlwaysOn)?i.showPrevAndNextButtons:t.museumCardControlsAlwaysOn,showSocialButtons:t.showSocialButtons,transitionHeightBottomPercent:t.transitionHeightBottomPercent};break;case n.BrowserLocal:l={backgroundImageSource:i.imageSource,delayRenderingOfMuseumCard:i.delayRenderingOfMuseumCard,enableMuseumCardMouseOver:!1,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:i.headerExpanded,layoutType:t.layoutType,museumCardArrowPosition:t.museumCardArrowPosition?t.museumCardArrowPosition:r.End,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardBottomMargin:t.museumCardBottomMargin,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,nextBackgroundImageSource:i.nextImageSource,nextEnabled:!1,nextText:"",prevEnabled:!1,previousText:"",recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,selectedAPI:u,showBingImageOverlay:!1,showBingImageLinearGradientOverlay:!Object(c.isNullOrUndefined)(t.showBingImageLinearGradientOverlay)&&t.showBingImageLinearGradientOverlay,showRecommendedSearchBingImageOverlay:g,showSearchHistoryBingImageOverlay:h,showDownloadLink:!1,showHideImageButton:!1,showImageUI:!1,showPrevNextButtons:!1,showSocialButtons:!1};break;case n.Iris:l={backgroundImageSource:i.imageSource,bingImageDataConnector:e.connectorArgs.bingImageDataConnector,delayRenderingOfMuseumCard:i.delayRenderingOfMuseumCard,disableHotspots:t.disableHotspots,disableMuseumCard:!!t.disableMusuemCard||i.disableMuseumCard,enableMuseumCardMouseOver:!0,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:i.headerExpanded,hideHotspotsOnPeek:!!Object(c.isNullOrUndefined)(t.hideHotspotsOnPeek)||t.hideHotspotsOnPeek,imageData:i.imageData,layoutType:a.EdgeNext,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardBottomMargin:t.museumCardBottomMargin,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,selectedAPI:u,showImageUI:!0,showMuseumCreditsCard:i.showMuseumCreditsCard,connector:e.connectorArgs.connector,imageExpirationSeconds:t.irisImageExpirationTimeSeconds,irisInfo:Object.assign(i.irisInfo||{},{irisMuseumBarText:o.irisMuseumBarText,irisDefaultImageTitleText:o.irisDefaultImageTitleText,irisDefaultImageCopyText:o.irisDefaultImageCopyText,irisLikeButtonText:o.irisLikeButtonText,irisLikeButtonAuxText:o.irisLikeButtonAuxText,irisLikeButtonClickedText:o.irisLikeButtonClickedText,irisDislikeButtonText:o.irisDislikeButtonText,irisDislikeButtonAuxText:o.irisDislikeButtonAuxText,irisDislikeButtonClickedText:o.irisDislikeButtonClickedText}),transitionHeightBottomPercent:t.transitionHeightBottomPercent,imageHeight:i.imageHeight,nextBackgroundImageSource:i.nextImageSource,hideImageText:null,museumCardArrowPosition:null,nextEnabled:!1,nextText:null,prevEnabled:!1,previousText:null,recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,showBingImageOverlay:!0,showBingImageLinearGradientOverlay:!Object(c.isNullOrUndefined)(t.showBingImageLinearGradientOverlay)&&t.showBingImageLinearGradientOverlay,showRecommendedSearchBingImageOverlay:g,showSearchHistoryBingImageOverlay:h,showDownloadLink:!1,showHideImageButton:!1,showPrevNextButtons:!1,showSocialButtons:!1,onMouseEnterCallback:void 0,onMouseExitCallback:void 0};break;case n.FREBackground:l={backgroundImageSource:i.imageSource,delayRenderingOfMuseumCard:!1,enableMuseumCardMouseOver:!1,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:!1,hideImageText:o.hideImage,layoutType:t.layoutType,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardBottomMargin:t.museumCardBottomMargin,museumCardArrowPosition:t.museumCardArrowPosition?t.museumCardArrowPosition:r.End,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,nextBackgroundImageSource:i.nextImageSource,nextEnabled:i.nextEnabled,nextText:o.next,noDownloadText:o.noDownload,onClickNextCallback:void 0,onClickPrevCallback:void 0,prevEnabled:i.prevEnabled,previousText:o.previous,recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,selectedAPI:t.API,showBingImageOverlay:i.showBingImageOverlay,showBingImageLinearGradientOverlay:!Object(c.isNullOrUndefined)(t.showBingImageLinearGradientOverlay)&&t.showBingImageLinearGradientOverlay,showRecommendedSearchBingImageOverlay:g,showSearchHistoryBingImageOverlay:h,showDownloadLink:t.showDownloadLink,showHideImageButton:t.showHideImageButton&&i.showImageUI,showImageUI:!1,showMuseumCreditsCard:i.showMuseumCreditsCard,showPrevNextButtons:i.showPrevAndNextButtons,showSocialButtons:t.showSocialButtons,transitionHeightBottomPercent:t.transitionHeightBottomPercent};break;case n.EnterpriseBackground:l={backgroundImageSource:i.imageSource,delayRenderingOfMuseumCard:!1,enableMuseumCardMouseOver:!1,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:!1,hideImageText:o.hideImage,layoutType:t.layoutType,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardArrowPosition:t.museumCardArrowPosition?t.museumCardArrowPosition:r.End,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,nextBackgroundImageSource:i.nextImageSource,nextEnabled:i.nextEnabled,nextText:o.next,noDownloadText:o.noDownload,onClickNextCallback:void 0,onClickPrevCallback:void 0,prevEnabled:i.prevEnabled,previousText:o.previous,recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,selectedAPI:n.EnterpriseBackground,showBingImageOverlay:i.showBingImageOverlay,showDownloadLink:t.showDownloadLink,showHideImageButton:t.showHideImageButton&&i.showImageUI,showImageUI:!1,showMuseumCreditsCard:i.showMuseumCreditsCard,showPrevNextButtons:i.showPrevAndNextButtons,showSocialButtons:t.showSocialButtons,transitionHeightBottomPercent:t.transitionHeightBottomPercent};break;default:l={backgroundImageSource:"",delayRenderingOfMuseumCard:i.delayRenderingOfMuseumCard,downloadRestrictedText:o.downloadRestricted,downloadText:o.download,enableMuseumCardMouseOver:i.enableMuseumCardMouseOver,exitFullViewText:o.exitFullView?o.exitFullView:"Exit full view",feedDisplaySetting:i.feedDisplaySetting,headerExpanded:i.headerExpanded,hideImageText:o.hideImage,layoutType:t.layoutType,museumCardArrowPosition:t.museumCardArrowPosition?t.museumCardArrowPosition:r.End,museumCardBottomBuffer:e.connectorArgs&&e.connectorArgs.museumCardBottomBuffer,museumCardBottomMargin:t.museumCardBottomMargin,museumCardExpandActionOn:!!Object(c.isNullOrUndefined)(t.museumCardExpandActionOn)||t.museumCardExpandActionOn,museumCardPosition:t.museumCardPosition?t.museumCardPosition:r.End,nextBackgroundImageSource:"",nextEnabled:!1,nextText:o.next,noDownloadText:o.noDownload,prevEnabled:!1,previousText:o.previous,recommendedSitesEnabled:e.connectorArgs&&e.connectorArgs.recommendedSitesEnabled,selectedAPI:t.API,shareFacebookText:o.shareFacebook,shareSkypeText:o.shareSkype,shareTwitterText:o.shareTwitter,showBingImageOverlay:!1,showBingImageLinearGradientOverlay:!Object(c.isNullOrUndefined)(t.showBingImageLinearGradientOverlay)&&t.showBingImageLinearGradientOverlay,showRecommendedSearchBingImageOverlay:g,showSearchHistoryBingImageOverlay:h,showDownloadLink:!1,showHideImageButton:t.layoutType===a.Edge,showImageUI:!1,showPrevNextButtons:!1,showSocialButtons:!1}}return l.ariaLabel_BackgroundImage=o.ariaLabel_BackgroundImage,l.elementtiming="TTVR.BackgroundImage",l.imageAttributionProps=i.imageAttributionProps,l.expandIconSvgPath=t.expandIconSvgPath,l.searchIconSvgPath=t.searchIconSvgPath,{props:l,missingChildren:[]}}};var l=i("+viU"),u=i("MF9s"),g=i("objN"),h=i("rRWH");const p={museumCard:{bottom:"1px","max-width":"240px"},museumCard_credits:{"border-radius":"initial","line-height":"13px"},museumCard_titleText:{background:"none","border-radius":"initial","font-size":"14px","line-height":"23px","margin-bottom":"5px",padding:"0","& a svg":{height:"14px",top:"1px",width:"14px"},"& button":{background:"rgba(0,0,0,.6)",height:"24px",width:"24px","& svg":{height:"10px",width:"10px"}},"& span":{padding:"1px 8px 4px"}},museumCard_socialLink:{"& svg":{height:"25px",width:"25px"}},museumCard_copyrightLink:{color:"rgba(255,255,255,.75)"},museumCard_link_Collapsed:{"& svg path":{fill:"black",[g.D]:{fill:g.a.buttonText}}},museumCard_linkTitle_Collapsed:{color:"black"},museumCard_titleText_Expanded:{"& span":{background:"rgba(0,0,0,.6)"}}},m={museumCard:{bottom:"8px"},museumCard_credits:{},museumCard_titleText:{"font-size":"12px","line-height":"32px","& svg":{height:"14px",top:"2px",width:"14px"},"& button":{background:"rgba(17,17,17,.8)","border-radius":"4px",height:"32px",width:"32px"},"& span":{background:"rgba(17,17,17,.8)","border-radius":"4px",padding:"8px"}}},b={museumCard:{bottom:"26px","&:hover #museumCard_titleText":{background:"rgba(0,0,0,.6)"}},museumCard_credits:{},museumCard_titleText:{padding:Object(h.c)("5px 11px 7px 7px","5px 7px 7px 11px"),"& button":{height:"23px"},"& span":{padding:"3px"}}};var f=i("w339"),C=i("Jw3B"),v=i("5mwN"),y=i("qGiF"),S=i("6u3Q"),x=i("D57K"),O=i("VZ41"),T=i("SPwp"),w=i("Vvi2"),I=i("4Bhc"),E=i("HxRh"),k=i("QnRU"),j=i("1Xm9"),L=i("s9+9"),D=i("hnBi"),B=i("gqHb"),P=i("Z3LZ");const A=new class{constructor(){this.copyrightText="",this.fallbackImageURL="",this.museumBarText="",this.titleText=""}setup(e,t,i,n,a){this.connector=e,this.copyrightText=t,this.fallbackImageURL=i,this.museumBarText=n,this.titleText=a}toggleMuseumCreditsCard(e){window.clearTimeout(this.museumCardToggleTimer),this.museumCardToggleTimer=window.setTimeout(()=>j.a.toggleMuseumCreditsCard.getActionSender(this.connector).send(e),100)}loadImageHotSpots(){return Object(x.b)(this,void 0,void 0,(function*(){yield this.irisFetchPromise,j.a.updateBingImageSource.getActionSender(this.connector).send(this.irisImageURL,this.imageDataProps,s.a.bing,this.irisStateInfo)}))}updateImageMetadata(e,t,i){e&&t&&i&&(this.irisImageURL=e,this.imageDataProps=t,this.irisStateInfo=i)}getImageHotSpotsData(e){return Object(x.b)(this,void 0,void 0,(function*(){this.irisFetchPromise=new Promise((t,i)=>Object(x.b)(this,void 0,void 0,(function*(){const i=!Object(c.isNullOrUndefined)(e)&&e,n={copyrighttext:null,copyrightcreditstext:null,title:null,copyrightlink:null,downloadurl:null,fullstartdate:null,market:null,nextenabled:!1,prevenabled:!1,wallpaper:!1},a={};let r,o;if(this.irisDataConnector=yield D.a.getInstance().rootReducer.getDataConnector(L.a.IrisData),!this.irisDataConnector)return void B.a.trackAppErrorEvent(Object.assign(Object.assign({},E.Ye),{message:"No Iris data connector for background image"}));if(i){if(!k.a.addImageCreativeToDislikeList())return}if(o=i?yield this.irisDataConnector.getImagePayload(!0):yield this.irisDataConnector.getImagePayload(),Object(c.isNullOrUndefined)(o)||Object(c.isNullOrUndefined)(o.creatives)||o.creatives.length<=0)return r=this.fallbackImageURL,n.title=this.museumBarText,a.disableMuseumCard=!0,B.a.trackAppErrorEvent(Object.assign(Object.assign({},E.Ze),{message:`No creative in surface info. Triggered by dislike: ${i}. Surface info: ${o}`})),this.updateImageMetadata(r,n,a),void j.a.updateBingImageSource.getActionSender(this.connector).send(r,n,s.a.bing,a,!0);const d=o.creatives[0],l={copyrighttext:d.content.title,copyrightcreditstext:d.content.copyright},u={titleLink:d.content.cta,ctaType:d.content.cta_type,creativeId:d.content.creativeId,placementId:o.placement,impTelemetry:d.telemetry?d.telemetry.impressionUrl:null,actTelemetry:d.telemetry?d.telemetry.actionUrl:null,hsList:H(d)};r=d.content.LANDSCAPE,Object.assign(n,l),Object.assign(a,u),Object(c.isNullOrUndefined)(a.impTelemetry)||(i?(w.a.sendActionUpdate(a.impTelemetry),j.a.updateBingImageSource.getActionSender(this.connector).send(r,n,s.a.bing,a,!0)):(Object(P.j)().then(()=>{this.irisDataConnector.fetchedNewImage()&&w.a.sendActionUpdate(a.impTelemetry)}),this.updateImageMetadata(r,n,a))),t()}))),this.irisFetchPromise}))}},H=e=>{if(Object(c.isNullOrUndefined)(e)||Object(c.isNullOrUndefined)(e.content)||Object(c.isNullOrUndefined)(e.content.hs)||0===e.content.hs.length)return null;const t=[];return e.content.hs.forEach(e=>{t.push(e)}),t};var M=i("ERkP"),_=i.n(M),R=i("Am8i");const N=(e,t,i,n)=>_.a.createElement("svg",{className:t,id:e,viewBox:i,xmlns:"http://www.w3.org/2000/svg",role:"img"},_.a.createElement("path",{fill:"#fff",d:n})),F=(e,t)=>N("irisMuseumCard_Expander",e,"0 0 24 24",t||"M12.748109,3.00129623 L20.3018618,3.00180934 L20.4020922,3.01572723 L20.4020922,3.01572723 L20.5009384,3.04332427 L20.5009384,3.04332427 L20.562038,3.06925661 L20.562038,3.06925661 C20.6410724,3.1041481 20.7149598,3.15467904 20.7799038,3.21960789 L20.8206178,3.2636488 L20.8206178,3.2636488 L20.8811543,3.34512786 L20.8811543,3.34512786 L20.9183431,3.41015101 L20.9183431,3.41015101 L20.9570257,3.50046614 L20.9570257,3.50046614 L20.9762122,3.56459327 L20.9762122,3.56459327 L20.9897917,3.6285349 L20.9897917,3.6285349 L20.9991061,3.72173042 L20.9991061,3.72173042 L20.9996358,11.2551867 C20.9996358,11.6694002 20.6638494,12.0051867 20.2496358,12.0051867 C19.86994,12.0051867 19.5561448,11.7230328 19.5064824,11.3569572 L19.4996358,11.2551867 L19.499109,5.55929623 L5.559109,19.5042962 L11.2496358,19.5051867 C11.6293316,19.5051867 11.9431268,19.7873406 11.9927892,20.1534161 L11.9996358,20.2551867 C11.9996358,20.6348824 11.7174819,20.9486776 11.3514064,20.9983401 L11.2496358,21.0051867 L3.71377826,21.0044149 L3.71377826,21.0044149 L3.68479427,21.0015557 C3.61873208,20.9969438 3.55601894,20.9831072 3.49674051,20.9620251 L3.40660837,20.9231054 L3.40660837,20.9231054 L3.38941968,20.912609 C3.18521908,20.8022226 3.03877229,20.5991703 3.00535123,20.3598222 L2.998109,20.2551867 L2.998109,12.7512962 C2.998109,12.3370827 3.33389544,12.0012962 3.748109,12.0012962 C4.12780477,12.0012962 4.44159996,12.2834501 4.49126239,12.6495257 L4.498109,12.7512962 L4.498109,18.4432962 L18.438109,4.50029623 L12.748109,4.50129623 C12.3684132,4.50129623 12.054618,4.21914235 12.0049556,3.85306678 L11.998109,3.75129623 C11.998109,3.37160046 12.2802629,3.05780527 12.6463384,3.00814284 L12.748109,3.00129623 Z");var U=i("Gsg7"),V=i("o1qX");class z extends v.a{constructor(e){super(e),this.handledProps={containerRef:void 0,copyrighttext:void 0,copyrightcreditstext:void 0,creditsCardTelemetryTags:void 0,exitFullViewText:void 0,expandIconSvgPath:void 0,headerExpanded:void 0,imageUrl:void 0,layoutType:void 0,managedClasses:void 0,onClickCallback:void 0,showCredits:void 0,titleRef:void 0,connector:void 0,imageExpirationSeconds:void 0,irisInfo:void 0},this.onScroll=()=>{this.props.containerRef&&this.props.containerRef.current&&(window.scrollY>0?this.props.containerRef.current.style.opacity="0":this.props.containerRef.current.style.opacity="1")},this.getNewIrisContent=()=>Object(x.b)(this,void 0,void 0,(function*(){A.getImageHotSpotsData(!0),this.dislikeCountWasIncremented&&window.setTimeout(()=>{this.setState({likeClicked:!1,dislikeClicked:!1})},3e3)})),this.museumTitleClickHandler=()=>{const{actTelemetry:e}=this.props.irisInfo||{};this.sendIrisActionTelemetry(e,O.a.Click)},this.likeClickButtonHandler=()=>{const{actTelemetry:e}=this.props.irisInfo||{};this.setState({likeClicked:!0}),this.sendIrisActionTelemetry(e,O.a.Like)},this.dislikeClickButtonHandler=()=>{const{actTelemetry:e}=this.props.irisInfo||{};this.setState({dislikeClicked:!0}),this.dislikeCountWasIncremented=k.a.addImageCreativeToDislikeList(),this.dislikeCountWasIncremented&&(this.sendIrisActionTelemetry(e,O.a.Dislike),this.getNewIrisContent())},this.sendIrisActionTelemetry=(e,t)=>{if(e){const i=T.a.formatTelemetryActionUrl(e,t);w.a.sendActionUpdate(i)}},this.updateTelemetryObjects=()=>{this.linkTitleTelemetryTags=this.rootTelemetryObject.addOrUpdateChild({name:"LinkTitle",behavior:R.c.Show,content:{headline:this.props.copyrighttext?this.props.copyrighttext:""},destinationUrl:this.props.irisInfo?this.props.irisInfo.titleLink:""}).render(),this.copyrightLinkTelemetryTags=this.rootTelemetryObject.addOrUpdateChild({name:"CopyrightLink",behavior:R.c.Navigate,content:{headline:this.props.copyrighttext?this.props.copyrighttext:""},destinationUrl:this.props.irisInfo?this.props.irisInfo.titleLink:""}).render()},this.state={likeClicked:!1,dislikeClicked:!1,showCredits:!1},this.rootTelemetryObject=new U.a({name:"IrisMuseumCard",type:R.f.Module}),this.likeButtonTelemetryTags=this.rootTelemetryObject.addOrUpdateChild({name:"Like",behavior:R.c.Like}).render(),this.dislikeButtonTelemetryTags=this.rootTelemetryObject.addOrUpdateChild({name:"DisLike",behavior:R.c.Dislike}).render(),this.dislikeCountWasIncremented=!0,this.updateTelemetryObjects()}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentDidUpdate(e){this.props.irisInfo&&e.irisInfo&&this.props.irisInfo.titleLink!==e.irisInfo.titleLink&&this.updateTelemetryObjects()}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){return _.a.createElement(y.a,null,e=>{super.render();const{managedClasses:t,irisInfo:i}=this.props;return i&&!i.disableMuseumCard?_.a.createElement("div",Object.assign({className:t.museumCard,id:"museumCard",ref:this.props.containerRef},this.props.creditsCardTelemetryTags),this.renderCreditsCard(),this.renderTitleBar()):null})}renderIcon(e,t){return _.a.createElement("div",{className:t.museumCard_floatDirection+" "+t.museumCard_irisIconContainer},e)}renderButtonTextArea(e,t,i){return _.a.createElement("div",{className:i.museumCard_floatDirection+" "+i.museumCard_irisButtonTextContainer},_.a.createElement("div",{className:Object(V.a)(i.museumCard_irisButtonText,[i.museumCard_floatDirection,!0])},e),_.a.createElement("div",{className:Object(V.a)(i.museumCard_irisAuxButtonText,[i.museumCard_floatDirection,!0])},t))}renderSentimentButtons(){const{managedClasses:e}=this.props;return _.a.createElement(y.a,null,t=>{return super.render(),_.a.createElement("div",null,_.a.createElement("button",Object.assign({className:e.museumCard_irisButton,onClick:this.likeClickButtonHandler,ref:this.likeButtonRef,id:"Like"},this.likeButtonTelemetryTags),_.a.createElement(_.a.Fragment,null,this.renderIcon((i=e.museumCard_irisButtonIcon,N("irisMuseumCard_HeartIcon",i,"0 0 21 21","M11.75 1C12.3385 1 12.8906 1.11198 13.4062 1.33594C13.9219 1.5599 14.3724 1.86458 14.7578 2.25C15.1432 2.63021 15.4453 3.08073 15.6641 3.60156C15.888 4.11719 16 4.66667 16 5.25C16 5.81771 15.8906 6.36198 15.6719 6.88281C15.4583 7.40365 15.1536 7.86198 14.7578 8.25781L8 15.0078L1.24219 8.25781C0.846354 7.86198 0.539062 7.40365 0.320312 6.88281C0.106771 6.36198 0 5.81771 0 5.25C0 4.66667 0.109375 4.11719 0.328125 3.60156C0.552083 3.08073 0.856771 2.63021 1.24219 2.25C1.6276 1.86458 2.07812 1.5599 2.59375 1.33594C3.10938 1.11198 3.66146 1 4.25 1C4.68229 1 5.06771 1.04948 5.40625 1.14844C5.74479 1.2474 6.05729 1.38542 6.34375 1.5625C6.63542 1.73438 6.91146 1.94271 7.17188 2.1875C7.4375 2.43229 7.71354 2.70052 8 2.99219C8.28646 2.70052 8.5599 2.43229 8.82031 2.1875C9.08594 1.94271 9.36198 1.73438 9.64844 1.5625C9.9401 1.38542 10.2552 1.2474 10.5938 1.14844C10.9323 1.04948 11.3177 1 11.75 1ZM14.0469 7.54688C14.3542 7.23958 14.5885 6.88802 14.75 6.49219C14.9115 6.09635 14.9922 5.68229 14.9922 5.25C14.9922 4.79688 14.9089 4.375 14.7422 3.98438C14.5755 3.58854 14.3438 3.2474 14.0469 2.96094C13.7552 2.66927 13.4115 2.44271 13.0156 2.28125C12.625 2.11458 12.2031 2.03125 11.75 2.03125C11.3125 2.03125 10.9245 2.10156 10.5859 2.24219C10.2474 2.3776 9.9349 2.55729 9.64844 2.78125C9.36198 3.00521 9.08594 3.26042 8.82031 3.54688C8.5599 3.82812 8.28646 4.11458 8 4.40625C7.71875 4.125 7.44531 3.84115 7.17969 3.55469C6.91406 3.26823 6.63542 3.01042 6.34375 2.78125C6.05729 2.55208 5.74219 2.36458 5.39844 2.21875C5.0599 2.07292 4.67708 2 4.25 2C3.80208 2 3.38021 2.08594 2.98438 2.25781C2.58854 2.42448 2.24219 2.65625 1.94531 2.95312C1.65365 3.24479 1.42188 3.58854 1.25 3.98438C1.08333 4.38021 1 4.80208 1 5.25C1 5.68229 1.08073 6.09635 1.24219 6.49219C1.40885 6.88802 1.64583 7.23958 1.95312 7.54688L8 13.5938L14.0469 7.54688Z")),e),this.renderButtonTextArea(this.props.irisInfo.irisLikeButtonText,this.props.irisInfo.irisLikeButtonAuxText,e))),_.a.createElement("button",Object.assign({className:e.museumCard_irisButton,onClick:this.dislikeClickButtonHandler,ref:this.dislikeButtonRef,id:"DisLike"},this.dislikeButtonTelemetryTags),_.a.createElement(_.a.Fragment,null,this.renderIcon((e=>N("irisMuseumCard_HeartBrokenIcon",e,"0 0 21 21","M11.75 0.992188C12.3385 0.992188 12.8906 1.10417 13.4062 1.32812C13.9219 1.54688 14.3724 1.84896 14.7578 2.23438C15.1432 2.61979 15.4453 3.07031 15.6641 3.58594C15.888 4.10156 16 4.65365 16 5.24219C16 5.8099 15.8906 6.35417 15.6719 6.875C15.4583 7.39062 15.1536 7.84635 14.7578 8.24219L8 15L1.24219 8.24219C0.846354 7.84635 0.539062 7.39062 0.320312 6.875C0.106771 6.35417 0 5.8099 0 5.24219C0 4.65365 0.109375 4.10156 0.328125 3.58594C0.552083 3.07031 0.856771 2.61979 1.24219 2.23438C1.6276 1.84896 2.07812 1.54688 2.59375 1.32812C3.10938 1.10417 3.66146 0.992188 4.25 0.992188C4.82812 0.992188 5.36979 1.09896 5.875 1.3125C6.38542 1.52083 6.84635 1.82812 7.25781 2.23438C7.38281 2.35417 7.50521 2.47656 7.625 2.60156C7.75 2.72656 7.875 2.85156 8 2.97656C8.125 2.85156 8.2474 2.72656 8.36719 2.60156C8.49219 2.47656 8.61719 2.35417 8.74219 2.23438C9.15365 1.82812 9.61198 1.52083 10.1172 1.3125C10.6276 1.09896 11.1719 0.992188 11.75 0.992188ZM14.0469 7.53906C14.3542 7.23177 14.5885 6.88021 14.75 6.48438C14.9115 6.08854 14.9922 5.67448 14.9922 5.24219C14.9922 4.78906 14.9062 4.36719 14.7344 3.97656C14.5677 3.58073 14.3385 3.23698 14.0469 2.94531C13.7552 2.64844 13.4115 2.41667 13.0156 2.25C12.625 2.07812 12.2031 1.99219 11.75 1.99219C11.3125 1.99219 10.8984 2.07292 10.5078 2.23438C10.1172 2.39583 9.76562 2.63021 9.45312 2.9375C9.10938 3.27604 8.77344 3.61719 8.44531 3.96094C8.1224 4.30469 7.79427 4.64844 7.46094 4.99219L10.4609 7.99219L8.10156 10.3438L7.39844 9.64062L9.04688 7.99219L6.04688 4.99219L7.32031 3.71094C7.1849 3.59115 7.05469 3.46354 6.92969 3.32812C6.80469 3.19271 6.67708 3.0625 6.54688 2.9375C6.23438 2.63021 5.88281 2.39583 5.49219 2.23438C5.10677 2.07292 4.69271 1.99219 4.25 1.99219C3.79688 1.99219 3.3724 2.07812 2.97656 2.25C2.58594 2.41667 2.24219 2.64844 1.94531 2.94531C1.65365 3.23698 1.42188 3.58073 1.25 3.97656C1.08333 4.36719 1 4.78906 1 5.24219C1 5.66927 1.08333 6.08333 1.25 6.48438C1.41667 6.88542 1.65104 7.23698 1.95312 7.53906L8 13.5859L14.0469 7.53906Z"))(e.museumCard_irisButtonIcon),e),this.renderButtonTextArea(this.props.irisInfo.irisDislikeButtonText,this.props.irisInfo.irisDislikeButtonAuxText,e))));var i})}renderSentimentSection(){return this.state.likeClicked?_.a.createElement("div",null,this.props.irisInfo.irisLikeButtonClickedText):this.state.dislikeClicked?_.a.createElement("div",null,this.props.irisInfo.irisDislikeButtonClickedText):this.renderSentimentButtons()}renderCreditsCard(){const{managedClasses:e,irisInfo:t}=this.props;return _.a.createElement("div",{className:Object(V.a)(e.museumCard_credits,[e.museumCard__show,this.props.showCredits]),id:"museumCard_credits"},_.a.createElement("div",{className:e.museumCard_copyrightDetails,id:"museumCard_copyrightDetails"},_.a.createElement("span",{className:e.museumCard_copyrightLink,id:"museumCard_copyright",onClick:this.museumTitleClickHandler},t&&t.ctaType===I.a.offPageNavigation&&t.titleLink?_.a.createElement("a",Object.assign({href:t.titleLink,target:"_blank",className:e.museumCard_copyrightLink},this.copyrightLinkTelemetryTags),this.props.copyrighttext):this.props.copyrighttext),_.a.createElement("p",{className:e.museumCard_creditsText,id:"museumCard_creditsText"},this.props.copyrightcreditstext)),this.props.copyrighttext||this.props.copyrightcreditstext?_.a.createElement("div",{className:e.museumCard_divider}):null,this.renderSentimentSection())}renderTitleBar(){const{managedClasses:e}=this.props;return _.a.createElement(y.a,null,t=>(super.render(),_.a.createElement("button",Object.assign({className:Object(V.a)(e.museumCard_titleText,[e.museumCard_titleActive,this.props.headerExpanded]),id:"museumCard_titleText",onClick:this.props.onClickCallback},this.linkTitleTelemetryTags),"rtl"!==t.direction?_.a.createElement(_.a.Fragment,null,F(e.museumCard_cameraLogo,this.props.expandIconSvgPath),_.a.createElement("div",{className:e.museumCard_linkTitle,id:"museumCard_linkTitle"},this.props.headerExpanded?this.props.exitFullViewText:this.props.irisInfo.irisMuseumBarText)):_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:e.museumCard_linkTitle,id:"museumCard_linkTitle"},this.props.headerExpanded?this.props.exitFullViewText:this.props.irisInfo.irisMuseumBarText),F(e.museumCard_cameraLogo,this.props.expandIconSvgPath)))))}}z.defaultProps={showCredits:!1};var G=i("0fst"),q=i("HZZz");const $={museumCard:{color:"#fff",position:"absolute",transition:"opacity .3s ease","z-index":""+G.a.Over},museumCard_floatDirection:{float:Object(h.c)("left","right")},museumCard_irisIconContainer:{width:"38px"},museumCard_irisButtonTextContainer:{width:"330px"},museumCard_credits:{background:"rgba(0,0,0,.6)","border-bottom":"1px solid transparent","border-radius":"4px",display:"none",float:"none","font-family":"inherit","font-size":"12px","font-weight":""+q.fontWeight.normal,"margin-bottom":"10px","max-width":"384px",padding:"10px 16px 17px"},museumCard__show:{display:"block"},museumCard_copyrightDetails:{},museumCard_creditsText:{color:"rgba(255,255,255,.6)","font-size":"13px",margin:"0","padding-top":"10px"},museumCard_copyrightLink:{color:"#fff","font-family":"inherit","font-size":"20px","font-weight":""+q.fontWeight.normal,"line-height":"24px","text-decoration":"none","[href]&:hover":{cursor:"pointer","text-decoration":"underline"}},museumCard_titleText:{background:"none",border:"none","border-radius":"4px",display:"inline-block","font-size":"14px","line-height":"23px","margin-bottom":"5px",overflow:"hidden","white-space":"nowrap","&:hover":{cursor:"pointer"},float:"none"},museumCard_titleActive:{background:"rgba(0,0,0,.6) !important"},museumCard_cameraLogo:{display:"inline",fill:"fff",height:"16px","font-size":"20px","line-height":"18px",position:"relative",top:"1px",width:"20px"},museumCard_linkTitle:{background:"none",border:"none",color:"#fff",display:"inline",height:"auto","padding-left":"12px","padding-right":"12px",position:"relative","text-decoration":"none",width:"auto","&:hover":{cursor:"pointer"}},museumCard_irisButton:{color:"#fff",background:"none",border:"none",cursor:"pointer",display:"block",margin:"0 0 16px 0",width:"100%"},museumCard_irisButtonIcon:{height:"18px",width:"18px",margin:Object(h.c)("0 20px 0 0","0 0 0 20px")},museumCard_irisButtonText:{"font-size":"14px","margin-bottom":"10px",width:"100%","text-align":Object(h.c)("left","right")},museumCard_irisAuxButtonText:{"font-size":"12px","text-align":Object(h.c)("left","right")},museumCard_divider:{"background-color":"#fff",height:"1px",margin:"14px 0 17px 0",width:"100%"},museumCard__hidden:{visibility:"hidden"},museumCard_button:{background:"transparent",border:"none",color:"inherit",cursor:"pointer","& svg":{fill:"#fff",position:"relative"}},museumCard_buttonDisabled:{"& svg":{fill:"rgba(255, 255, 255, .6)"}}},Z=Object(l.a)($)(z);var W=i("Gh/O"),K=i("uE1O"),Y=i("IATt");class X extends Y.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return _.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),_.a.createElement("path",{d:"M16 3.53906C15.7812 3.86719 15.5339 4.17448 15.2578 4.46094C14.9818 4.74219 14.6823 5 14.3594 5.23438C14.3646 5.30729 14.3672 5.38021 14.3672 5.45312C14.3724 5.52083 14.375 5.59115 14.375 5.66406C14.375 6.32031 14.3047 6.96875 14.1641 7.60938C14.0234 8.25 13.8203 8.86979 13.5547 9.46875C13.1693 10.3385 12.6875 11.1172 12.1094 11.8047C11.5312 12.487 10.875 13.0651 10.1406 13.5391C9.41146 14.013 8.61458 14.375 7.75 14.625C6.88542 14.875 5.97917 15 5.03125 15C4.13542 15 3.26042 14.8776 2.40625 14.6328C1.55729 14.3828 0.755208 14.013 0 13.5234C0.255208 13.5547 0.515625 13.5703 0.78125 13.5703C1.52604 13.5703 2.24479 13.4505 2.9375 13.2109C3.63542 12.9714 4.27604 12.6224 4.85938 12.1641C4.51042 12.1589 4.17448 12.1016 3.85156 11.9922C3.52865 11.8776 3.23177 11.7214 2.96094 11.5234C2.69531 11.3203 2.46094 11.0807 2.25781 10.8047C2.0599 10.5287 1.90625 10.224 1.79688 9.89062C1.90104 9.90625 2.0026 9.91927 2.10156 9.92969C2.20573 9.9401 2.3099 9.94531 2.41406 9.94531C2.70573 9.94531 2.99219 9.90625 3.27344 9.82812C2.88802 9.75 2.53385 9.61198 2.21094 9.41406C1.89323 9.21615 1.61719 8.97656 1.38281 8.69531C1.14844 8.40885 0.966146 8.08854 0.835938 7.73438C0.705729 7.375 0.640625 7 0.640625 6.60938V6.57031C1.09896 6.83073 1.59635 6.96875 2.13281 6.98438C1.90365 6.82812 1.69792 6.65104 1.51562 6.45312C1.33854 6.25 1.1875 6.03125 1.0625 5.79688C0.9375 5.5625 0.841146 5.3151 0.773438 5.05469C0.705729 4.79427 0.671875 4.52604 0.671875 4.25C0.671875 3.95833 0.708333 3.67448 0.78125 3.39844C0.854167 3.11719 0.966146 2.85156 1.11719 2.60156C1.53385 3.11719 1.9974 3.58073 2.50781 3.99219C3.01823 4.39844 3.5599 4.7474 4.13281 5.03906C4.71094 5.33073 5.3151 5.5625 5.94531 5.73438C6.57552 5.90104 7.22135 6 7.88281 6.03125C7.85156 5.91146 7.82812 5.78906 7.8125 5.66406C7.80208 5.53385 7.79688 5.40625 7.79688 5.28125C7.79688 4.82812 7.88281 4.40365 8.05469 4.00781C8.22656 3.60677 8.46094 3.25781 8.75781 2.96094C9.05469 2.66406 9.40104 2.42969 9.79688 2.25781C10.1979 2.08594 10.625 2 11.0781 2C11.5365 2 11.9714 2.09115 12.3828 2.27344C12.7995 2.45052 13.1641 2.70573 13.4766 3.03906C13.8464 2.96615 14.2031 2.86458 14.5469 2.73438C14.8958 2.59896 15.2318 2.4349 15.5547 2.24219C15.4349 2.6224 15.25 2.96875 15 3.28125C14.7552 3.59375 14.4609 3.85156 14.1172 4.05469C14.7734 3.97656 15.401 3.80469 16 3.53906Z"}))}}class Q extends Y.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return _.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),_.a.createElement("path",{d:"M15.4141 9.30469C15.6068 9.64323 15.7526 10 15.8516 10.375C15.9505 10.75 16 11.1328 16 11.5234C16 12.1432 15.8828 12.7266 15.6484 13.2734C15.4141 13.8151 15.0938 14.2891 14.6875 14.6953C14.2865 15.0964 13.8125 15.4141 13.2656 15.6484C12.724 15.8828 12.1432 16 11.5234 16C11.1328 16 10.75 15.9505 10.375 15.8516C10 15.7526 9.64323 15.6068 9.30469 15.4141C9.08594 15.4505 8.86719 15.4792 8.64844 15.5C8.4349 15.5156 8.21875 15.5234 8 15.5234C7.30729 15.5234 6.64062 15.4349 6 15.2578C5.35938 15.0755 4.76042 14.8229 4.20312 14.5C3.64583 14.1719 3.13802 13.7786 2.67969 13.3203C2.22135 12.862 1.82812 12.3542 1.5 11.7969C1.17708 11.2396 0.924479 10.6406 0.742188 10C0.565104 9.35938 0.476562 8.69271 0.476562 8C0.476562 7.78125 0.484375 7.5651 0.5 7.35156C0.520833 7.13281 0.549479 6.91406 0.585938 6.69531C0.393229 6.35677 0.247396 6 0.148438 5.625C0.0494792 5.25 0 4.86719 0 4.47656C0 3.85677 0.117188 3.27604 0.351562 2.73438C0.585938 2.1875 0.903646 1.71354 1.30469 1.3125C1.71094 0.90625 2.1849 0.585938 2.72656 0.351562C3.27344 0.117188 3.85677 0 4.47656 0C4.86719 0 5.25 0.0494792 5.625 0.148438C6 0.247396 6.35677 0.393229 6.69531 0.585938C6.91406 0.549479 7.13021 0.523438 7.34375 0.507812C7.5625 0.486979 7.78125 0.476562 8 0.476562C8.69271 0.476562 9.35938 0.567708 10 0.75C10.6406 0.927083 11.2396 1.17969 11.7969 1.50781C12.3542 1.83073 12.862 2.22135 13.3203 2.67969C13.7786 3.13802 14.1693 3.64583 14.4922 4.20312C14.8203 4.76042 15.0729 5.35938 15.25 6C15.4323 6.64062 15.5234 7.30729 15.5234 8C15.5234 8.21875 15.513 8.4375 15.4922 8.65625C15.4766 8.86979 15.4505 9.08594 15.4141 9.30469ZM8.03125 12.8125C8.33854 12.8125 8.64844 12.7891 8.96094 12.7422C9.27344 12.6953 9.57031 12.625 9.85156 12.5312C10.138 12.4323 10.4036 12.3047 10.6484 12.1484C10.8932 11.9922 11.1042 11.8073 11.2812 11.5938C11.4635 11.375 11.6068 11.125 11.7109 10.8438C11.8151 10.5573 11.8672 10.2344 11.8672 9.875C11.8672 9.41667 11.7865 9.03385 11.625 8.72656C11.4635 8.41406 11.25 8.15625 10.9844 7.95312C10.724 7.74479 10.4245 7.58073 10.0859 7.46094C9.7474 7.33594 9.40104 7.23438 9.04688 7.15625C8.69792 7.07292 8.35417 7 8.01562 6.9375C7.68229 6.875 7.38281 6.80208 7.11719 6.71875C6.85677 6.63021 6.64583 6.52083 6.48438 6.39062C6.32292 6.25521 6.24219 6.07552 6.24219 5.85156C6.24219 5.64323 6.28646 5.47135 6.375 5.33594C6.46354 5.19531 6.57812 5.08333 6.71875 5C6.85938 4.91146 7.01823 4.84896 7.19531 4.8125C7.3724 4.77604 7.54948 4.75781 7.72656 4.75781C8.04948 4.75781 8.32031 4.79167 8.53906 4.85938C8.75781 4.92708 8.94271 5.01302 9.09375 5.11719C9.25 5.21615 9.38021 5.32552 9.48438 5.44531C9.59375 5.5599 9.69531 5.66927 9.78906 5.77344C9.88802 5.8724 9.99219 5.95573 10.1016 6.02344C10.2109 6.09115 10.3464 6.125 10.5078 6.125C10.6328 6.125 10.7526 6.10938 10.8672 6.07812C10.9818 6.04167 11.0833 5.98958 11.1719 5.92188C11.2604 5.85417 11.3307 5.77083 11.3828 5.67188C11.4349 5.56771 11.4609 5.44792 11.4609 5.3125C11.4609 5.06771 11.3984 4.84635 11.2734 4.64844C11.1484 4.44531 10.9844 4.26562 10.7812 4.10938C10.5781 3.95312 10.3464 3.81771 10.0859 3.70312C9.83073 3.58333 9.57031 3.48698 9.30469 3.41406C9.03906 3.33594 8.77865 3.27865 8.52344 3.24219C8.27344 3.20573 8.05469 3.1875 7.86719 3.1875C7.42969 3.1875 6.99219 3.23698 6.55469 3.33594C6.11719 3.42969 5.72396 3.58594 5.375 3.80469C5.02604 4.02344 4.74219 4.3099 4.52344 4.66406C4.3099 5.01302 4.20312 5.44531 4.20312 5.96094C4.20312 6.33594 4.25521 6.66146 4.35938 6.9375C4.46354 7.21354 4.61198 7.45312 4.80469 7.65625C5.0026 7.85417 5.23958 8.02083 5.51562 8.15625C5.79688 8.28646 6.10938 8.39583 6.45312 8.48438C6.84896 8.58854 7.24479 8.6901 7.64062 8.78906C8.03646 8.88281 8.43229 8.98177 8.82812 9.08594C8.94792 9.11719 9.0651 9.15885 9.17969 9.21094C9.29427 9.26302 9.39323 9.32812 9.47656 9.40625C9.5651 9.48438 9.63542 9.57552 9.6875 9.67969C9.73958 9.78385 9.76562 9.90625 9.76562 10.0469C9.76562 10.2656 9.70833 10.4557 9.59375 10.6172C9.48438 10.7734 9.34375 10.9036 9.17188 11.0078C9 11.112 8.8125 11.1901 8.60938 11.2422C8.40625 11.2891 8.21354 11.3125 8.03125 11.3125C7.67708 11.3125 7.38281 11.2708 7.14844 11.1875C6.91927 11.1042 6.72396 11 6.5625 10.875C6.40625 10.7448 6.27344 10.6068 6.16406 10.4609C6.0599 10.3099 5.95573 10.1719 5.85156 10.0469C5.7526 9.91667 5.64062 9.8099 5.51562 9.72656C5.39583 9.64323 5.24219 9.60156 5.05469 9.60156C4.79948 9.60156 4.58073 9.67969 4.39844 9.83594C4.22135 9.99219 4.13281 10.2031 4.13281 10.4688C4.13281 10.6354 4.16146 10.7969 4.21875 10.9531C4.28125 11.1042 4.35938 11.2474 4.45312 11.3828C4.64062 11.6589 4.875 11.888 5.15625 12.0703C5.4375 12.2526 5.73698 12.3984 6.05469 12.5078C6.3776 12.6172 6.70833 12.6953 7.04688 12.7422C7.39062 12.7891 7.71875 12.8125 8.03125 12.8125Z"}))}}class J extends Y.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return _.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),_.a.createElement("path",{d:"M15.1172 0C15.237 0 15.349 0.0234375 15.4531 0.0703125C15.5625 0.117188 15.6562 0.182292 15.7344 0.265625C15.8177 0.34375 15.8828 0.4375 15.9297 0.546875C15.9766 0.651042 16 0.763021 16 0.882812V15.1172C16 15.237 15.9766 15.3516 15.9297 15.4609C15.8828 15.5651 15.8177 15.6589 15.7344 15.7422C15.6562 15.8203 15.5625 15.8828 15.4531 15.9297C15.349 15.9766 15.237 16 15.1172 16H11.0391V9.80469H13.1172L13.4297 7.39062H11.0391V5.85156C11.0391 5.42448 11.1302 5.1224 11.3125 4.94531C11.4948 4.76302 11.8021 4.67188 12.2344 4.67188H13.5156V2.51562C13.2083 2.47396 12.8984 2.44792 12.5859 2.4375C12.2734 2.42188 11.9609 2.41406 11.6484 2.41406C11.1536 2.41406 10.7135 2.48958 10.3281 2.64062C9.94792 2.79167 9.625 3.00781 9.35938 3.28906C9.09375 3.5651 8.89062 3.90104 8.75 4.29688C8.61458 4.6875 8.54688 5.125 8.54688 5.60938V7.39062H6.46094V9.80469H8.54688V16H0.882812C0.763021 16 0.648438 15.9766 0.539062 15.9297C0.434896 15.8828 0.341146 15.8203 0.257812 15.7422C0.179688 15.6589 0.117188 15.5651 0.0703125 15.4609C0.0234375 15.3516 0 15.237 0 15.1172V0.882812C0 0.763021 0.0234375 0.651042 0.0703125 0.546875C0.117188 0.4375 0.179688 0.34375 0.257812 0.265625C0.341146 0.182292 0.434896 0.117188 0.539062 0.0703125C0.648438 0.0234375 0.763021 0 0.882812 0H15.1172Z"}))}}var ee=i("r6MD");class te extends v.a{constructor(e){super(e),this.handledProps={arrowsPosition:void 0,containerRef:void 0,copyrighttext:void 0,copyrightcreditstext:void 0,copyrightlink:void 0,creditsCardTelemetryTags:void 0,downloadRestrictedText:void 0,downloadText:void 0,downloadUrl:void 0,exitFullViewText:void 0,facebookShareUrl:void 0,feedDisplaySetting:void 0,title:void 0,headerExpanded:void 0,imageUrl:void 0,layoutType:void 0,managedClasses:void 0,museumCardExpandActionOn:void 0,museumCardTelemetryTags:void 0,museumCardLinkTelemetryTags:void 0,nextEnabled:void 0,nextText:void 0,noDownloadText:void 0,onClickCallback:void 0,onClickNextCallback:void 0,onClickPrevCallback:void 0,onMouseEnterCallback:void 0,onMouseExitCallback:void 0,prevEnabled:void 0,previousText:void 0,shareFacebookText:void 0,shareSkypeText:void 0,shareTwitterText:void 0,showCredits:void 0,showDownloadLink:void 0,showPrevAndNextButtons:void 0,showSocialButtons:void 0,skypeShareUrl:void 0,twitterShareUrl:void 0,titleRef:void 0,wallpaper:void 0}}render(){return _.a.createElement(y.a,null,e=>{this.currentDesignSystem=e,super.render();const t=_.a.createElement(X),i=_.a.createElement(Q),n=_.a.createElement(J);let o;return o=this.props.showDownloadLink?this.props.wallpaper?_.a.createElement("div",{className:this.getClassName("museumCard_downloadContainer")},_.a.createElement("a",{className:this.getClassName("museumCard_downloadLink"),href:this.props.downloadUrl,download:!0,"aria-label":this.props.downloadText},this.props.downloadText),_.a.createElement("div",{className:this.getClassName("museumCard_downloadRestrictedText")},"(",this.props.downloadRestrictedText,")")):_.a.createElement("div",{className:this.getClassName("museumCard_downloadContainer")},_.a.createElement("div",{className:this.getClassName("museumCard_downloadRestrictedText")},this.props.noDownloadText)):"",_.a.createElement("div",{className:this.getClassName("museumCard"),id:"museumCard",ref:this.props.containerRef,onMouseEnter:this.props.onMouseEnterCallback,onMouseLeave:this.props.onMouseExitCallback},_.a.createElement("div",{className:this.generateMuseumCardComponentClassNames(),id:"museumCard_credits"},this.props.showSocialButtons?_.a.createElement("div",{id:"shareoptions"},_.a.createElement("a",{className:this.getClassName("museumCard_socialLink"),"aria-label":this.props.shareFacebookText,target:"_blank",href:this.props.facebookShareUrl},n),_.a.createElement("a",{className:this.getClassName("museumCard_socialLink"),"aria-label":this.props.shareTwitterText,target:"_blank",href:this.props.twitterShareUrl},t),_.a.createElement("a",{className:this.getClassName("museumCard_socialLink"),"aria-label":this.props.shareSkypeText,target:"_blank",href:this.props.skypeShareUrl},i)):"",o,_.a.createElement("div",{className:this.getClassName("museumCard_copyrightDetails"),id:"museumCard_copyrightDetails"},_.a.createElement("a",Object.assign({target:"_blank",className:this.getClassName("museumCard_copyrightLink"),id:"museumCard_copyrightLink",href:this.props.copyrightlink},this.props.creditsCardTelemetryTags),this.props.copyrighttext),_.a.createElement("p",{className:this.getClassName("museumCard_creditsText"),id:"museumCard_creditsText"},this.props.copyrightcreditstext))),_.a.createElement("div",{className:this.generateTitleTextClassNames(),id:"museumCard_titleText",ref:this.props.titleRef},this.props.showPrevAndNextButtons&&this.props.arrowsPosition==r.Start?this.renderPrevArrow():"",this.props.showPrevAndNextButtons&&this.props.arrowsPosition==r.Start?this.renderNextArrow():"",_.a.createElement("span",null,this.props.layoutType===a.Edge||this.headerCollapsed(a.EdgeNext)?_.a.createElement("a",Object.assign({className:this.generateMuseumCardLinkClassNames(),id:"museumCard_link",target:"_blank","aria-label":"bing",href:"https://www.bing.com?form=HPEDGE"},this.props.museumCardLinkTelemetryTags),(s=this.getClassName("museumCard_linkLogo"),_.a.createElement("svg",{"aria-label":"bing",className:s,id:"museumCard_linkLogo",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",role:"img"},_.a.createElement("title",null,"Bing"),_.a.createElement("path",{fill:"#fff",d:"M 14 30.94 v -28.14 l -8 -2.8 v 35.54 l 8 4.46 l 20 -11.5 v -9.1 Z",id:"museumCard_bingLogoBodyPath"}),_.a.createElement("path",{opacity:".75",fill:"#FFF",d:"M 25.28 24.43 l 8.72 -5.03 l -17.74 -6.2 l 3.47 8.65 l 5.55 2.58 Z",id:"museumCard_bingLogoTipPath"})))):"",_.a.createElement("a",Object.assign({onClick:this.props.museumCardExpandActionOn?this.props.onClickCallback:null,target:"_blank",className:this.generateMuseumCardLinkTitleClassNames(),id:"museumCard_linkTitle",tabIndex:0,role:"button",href:this.props.layoutType!==a.Edge&&this.props.museumCardExpandActionOn?"#":this.props.copyrightlink},this.props.museumCardTelemetryTags),this.props.headerExpanded&&this.props.layoutType===a.EdgeNext?this.props.exitFullViewText:this.props.title)),this.props.showPrevAndNextButtons&&this.props.arrowsPosition==r.End?this.renderPrevArrow():"",this.props.showPrevAndNextButtons&&this.props.arrowsPosition==r.End?this.renderNextArrow():""));var s})}getMuseumCardButtonClass(e){return this.getClassName("museumCard_button")+(e?"":" "+this.getClassName("museumCard_buttonDisabled"))}componentDidMount(){super.componentDidMount()}generateMuseumCardLinkTitleClassNames(){let e=this.getClassName("museumCard_linkTitle");return this.headerCollapsed(a.Edge)&&!Object(S.e)(this.currentDesignSystem)&&(e+=" "+this.getClassName("museumCard_linkTitle_Collapsed")),e}headerCollapsed(e){return this.props.layoutType===e&&!this.props.headerExpanded}generateMuseumCardLinkClassNames(){let e=this.getClassName("museumCard_link");return this.headerCollapsed(a.Edge)&&!Object(S.e)(this.currentDesignSystem)&&(e+=" "+this.getClassName("museumCard_link_Collapsed")),e}generateClassNames(e){const t=this.getClassName(e);return super.generateClassNames(t)}generateMuseumCardComponentClassNames(){let e=this.getClassName("museumCard_credits");return e=this.props.showCredits?`${e} ${this.props.managedClasses.museumCard__show}`:e,super.generateClassNames(e)}generateTitleTextClassNames(){let e=this.getClassName("museumCard_titleText");return this.props.layoutType===a.Edge&&this.props.headerExpanded&&(e+=" "+this.getClassName("museumCard_titleText_Expanded")),super.generateClassNames(e)}renderPrevArrow(){return _.a.createElement(y.a,null,e=>{super.render();const t=_.a.createElement(W.a),i=_.a.createElement(K.a);return _.a.createElement("button",{className:this.getMuseumCardButtonClass(this.props.prevEnabled),onClick:this.props.onClickPrevCallback,"aria-label":this.props.previousText,"aria-disabled":!this.props.prevEnabled,disabled:!this.props.prevEnabled},"rtl"!=e.direction?t:i)})}renderNextArrow(){return _.a.createElement(y.a,null,e=>{super.render();const t=_.a.createElement(W.a),i=_.a.createElement(K.a);return _.a.createElement("button",{className:this.getMuseumCardButtonClass(this.props.nextEnabled),onClick:this.props.onClickNextCallback,"aria-label":this.props.nextText,"aria-disabled":!this.props.nextEnabled,disabled:!this.props.nextEnabled},"rtl"!=e.direction?i:t)})}getClassName(e){return Object(ee.a)(this.props.managedClasses,e,"")}}te.defaultProps={showCredits:!1};const ie={museumCard:{color:"#fff",position:"absolute","max-width":"320px"},museumCard_credits:{background:"rgba(0,0,0,.6)","border-bottom":"1px solid transparent","border-radius":"4px",display:"none","font-family":"inherit","font-size":"12px","font-weight":""+q.fontWeight.normal,"margin-bottom":"10px","min-width":"190px",padding:"10px 16px 17px"},museumCard__show:{[Object(C.e)(C.a.c3,C.a.c4)]:{display:"block"}},museumCard_copyrightDetails:{},museumCard_creditsText:{color:"rgba(255,255,255,.6)","font-size":"13px",margin:"0","padding-top":"10px"},museumCard_copyrightLink:{color:"#fff","font-family":"inherit","font-size":"20px","font-weight":""+q.fontWeight.normal,"line-height":"24px","text-decoration":"none","[href]&:hover":{cursor:"pointer","text-decoration":"underline"}},museumCard_titleText:{"border-radius":"4px",display:"inline-block",overflow:"hidden","white-space":"nowrap","[href]":{cursor:"pointer"}},museumCard_link:{color:"#fff","padding-left":Object(h.c)("initial","12px"),"padding-right":Object(h.c)("12px","initial"),"text-decoration":"none","& > svg path":{[g.D]:{fill:g.a.buttonText}}},museumCard_linkLogo:{"font-size":"20px","line-height":"18px",position:"relative",top:"4px",width:"18px"},museumCard_linkTitle:{color:"#fff",cursor:"pointer",position:"relative","text-decoration":"none"},museumCard_socialLink:{color:"#fff",fill:"#fff","font-size":"20px",height:"20px","line-height":"24px",padding:"0 10px 0 0","text-decoration":"none",width:"20px"},museumCard_downloadContainer:{"border-bottom":"1px solid white","font-size":"14px","line-height":"24px","margin-bottom":"15px","padding-bottom":"15px"},museumCard_downloadLink:{color:"#fff","text-decoration":"none"},museumCard_downloadRestrictedText:{color:"rgba(255,255,255,.6)","text-decoration":"none"},museumCard__hidden:{visibility:"hidden"},museumCard_button:{background:"transparent",border:"none",color:"inherit",cursor:"pointer","& svg":{fill:"#fff",position:"relative","& > path":{[g.D]:{fill:g.a.buttonText}}}},museumCard_buttonDisabled:{"& svg":{fill:"rgba(255, 255, 255, .6)","& > path":{[g.D]:{fill:g.a.disabledText}}}}},ne=Object(l.a)(ie)(te);var ae,re=i("mzbC"),oe=i("EQZC"),se=i("+djJ"),ce=i("mObi"),de=i("mOQN"),le=i("eoyk"),ue=i("qibw"),ge=i("OPjr");!function(e){e.aboveTheFold="g_abvFold",e.backgroundImageAttribution="backgroundImageAttribution",e.backgroundImageAttributionParent="backgroundImageAttributionParent",e.bingImage="g_bimg",e.navBar="g_nav",e.quickLinks="c_ql",e.quickLinksToggle="tscc",e.search="c_srch",e.settingsButton="c_setting",e.waffle="c_waffle",e.welcome="c_welcome"}(ae||(ae={}));class he extends v.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},v.b),{imageAttributionUrl:void 0,imageHorizontalAlignment:void 0,layoutState:void 0,managedClasses:void 0}),this.handleScrollEvent=e=>{this.setState({scrolled:!0})},this.state={backgroundImageTypeChanged:!1,isTopSitesContainerCollapsed:!1,scrolled:!1};const t=new U.a({name:"BackgroundImageAttribution",type:R.f.Module});this.containerTelemetry=t.addOrUpdateChild({name:"background-image-attribution",type:R.f.Module}),this.containerTelemetryTags=this.containerTelemetry.render(),this.imageAttributionUrl=e.imageAttributionUrl,this.imageHorizontalAlignment=e.imageHorizontalAlignment,this.layoutState=e.layoutState}componentDidMount(){return Object(x.b)(this,void 0,void 0,(function*(){window.addEventListener("scroll",this.handleScrollEvent),ge.a.toggleCollapsibleControl.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||this.handleTopSitesCollapsed(t[0])}),le.a.updateLayout.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||this.handleLayoutStateChange(t[0])})}))}render(){return super.render(),_.a.createElement(y.a,null,e=>this.renderImageAttribution(e.direction===ue.a.ltr))}renderImageAttribution(e){return _.a.createElement("div",Object.assign({},this.containerTelemetryTags,this.unhandledProps(),{className:this.generateClassNames(this.props.managedClasses.backgroundImageAttribution),id:ae.backgroundImageAttribution,style:this.getAttributionElementStyles(e)}))}getAttributionElementStyles(e){const t=Object.assign({},this.props.style);if(t.content=this.imageAttributionUrl,t.maxWidth=.1*screen.width+"px",t.visibility="hidden",Object(c.isNullOrUndefined)(this.layoutState)||Object(c.isNullOrUndefined)(this.imageAttributionUrl)||this.layoutState.currentLayout!==s.i.custom||this.layoutState.currentBackgroundImageType!==s.a.theme)return t;const i=this.findPlaceForAttribution(e);return Object(c.isNull)(i)||(t.left=i.left+"px",t.right=i.right+"px",t.top=i.top+"px",t.bottom=i.bottom+"px",t.width=i.width+"px",t.height=i.height+"px",t.visibility="visible"),t}findPlaceForAttribution(e){const t=document.getElementById(ae.backgroundImageAttribution);if(Object(c.isNull)(t))return null;const i=t.getBoundingClientRect(),n=i.width,a=i.height;if("always"!==this.layoutState.selectedFeedDisplaySetting){const t=this.findPlaceForAttributionAboveTopics(n,a,this.imageHorizontalAlignment,e);return Object(c.isNull)(t)?this.findPlaceForAttributionNextToSearchBox(n,a,this.imageHorizontalAlignment,e):t}return this.findPlaceForAttributionNextToSearchBox(n,a,this.imageHorizontalAlignment,e)}findPlaceForAttributionAboveTopics(e,t,i,n){const a=document.getElementById(ae.bingImage),r=document.getElementById(ae.aboveTheFold);if(Object(c.isNull)(a)||Object(c.isNull)(r))return null;const o=a.getBoundingClientRect(),s=r.getBoundingClientRect(),d=document.getElementById(ae.settingsButton),l=Object(c.isNull)(d)?null:d.getBoundingClientRect(),u=document.getElementById(ae.waffle),g=Object(c.isNull)(u)?null:u.getBoundingClientRect(),h={top:0,left:0,bottom:0,right:0};if(h.top=s.bottom-t,h.bottom=s.bottom,!Object(c.isNullOrUndefined)(l)&&h.top<l.bottom||!Object(c.isNullOrUndefined)(g)&&h.top<g.bottom)return null;"right"===i?(h.left=0,h.right=e):(h.right=o.right,h.left=h.right-e),n||(h.left=o.right-h.left,h.right=o.right-h.right);const p=this.buildClientRectFromPosition(h.top,h.left,h.bottom,h.right);return this.clientRectIntersectsWithQuickLinks(p)?null:p}findPlaceForAttributionNextToSearchBox(e,t,i,n){const a=document.getElementById(ae.bingImage),r=document.getElementById(ae.search),o=document.getElementById(ae.navBar);if(Object(c.isNull)(a)||Object(c.isNull)(r)||Object(c.isNull)(o))return null;const s=a.getBoundingClientRect();if(o.getBoundingClientRect().top-s.top<t)return null;const d=r.firstElementChild.getBoundingClientRect(),l=document.getElementById(ae.settingsButton),u=Object(c.isNull)(l)?null:l.getBoundingClientRect(),g=this.layoutState.greetingEnabled?document.getElementById(ae.welcome):document.getElementById(ae.waffle),h=Object(c.isNull)(g)?null:g.getBoundingClientRect();let p=0,m=0;if(n?"right"===i?(m=Object(c.isNull)(h)?0:h.right,p=d.left-m):(m=d.right,p=Object(c.isNull)(u)?s.right-m:u.left-m):"right"===i?(m=Object(c.isNull)(u)?0:u.right,p=d.left-m):(m=d.right,p=Object(c.isNull)(h)?s.right-m:h.left-m),e<p){const i={top:0,left:0,bottom:0,right:0};i.left=m+(p-e)/2,i.right=i.left+e,n||(i.left=s.right-i.left,i.right=s.right-i.right),i.top=s.top,i.bottom=i.top+t;const a=this.buildClientRectFromPosition(i.top,i.left,i.bottom,i.right);return this.clientRectIntersectsWithQuickLinks(a)?null:a}return null}clientRectIntersectsWithQuickLinks(e){const t=document.getElementById(ae.quickLinks),i=document.getElementById(ae.quickLinksToggle);if(!Object(c.isNull)(i)&&!Object(c.isNull)(t)){const n=i.getBoundingClientRect();if(this.state.isTopSitesContainerCollapsed)return this.rectanglesIntersect(n,e);{const i=t.getBoundingClientRect();return this.rectanglesIntersect(n,e)||this.rectanglesIntersect(i,e)}}return!1}rectanglesIntersect(e,t){return!Object(c.isNull)(e)&&!Object(c.isNull)(t)&&!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}buildClientRectFromPosition(e,t,i,n){return{top:e,left:t,right:n,bottom:i,width:n-t,height:i-e}}handleTopSitesCollapsed(e){this.setState({isTopSitesContainerCollapsed:e})}handleLayoutStateChange(e){const t=this.layoutState.currentBackgroundImageType;this.layoutState=e,this.setState({backgroundImageTypeChanged:t!==this.layoutState.currentBackgroundImageType})}}he.defaultProps={};const pe=Object(l.a)({backgroundImageAttribution:{"box-sizing":"border-box",padding:"10px",position:"relative"}})(he);class me extends Y.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return _.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),_.a.createElement("path",{d:"M8.71094 8L14.1016 13.3984L13.3984 14.1016L8 8.71094L2.60156 14.1016L1.89844 13.3984L7.28906 8L1.89844 2.60156L2.60156 1.89844L8 7.28906L13.3984 1.89844L14.1016 2.60156L8.71094 8Z"}))}}var be;!function(e){e.hotspot="hotspot",e.hotspotAccess="hotspotAccess",e.hotspotClickable="hotspotClickable",e.hotspotFadeIn="hotspotFadeIn",e.hotspotFadeOut="hotspotFadeOut",e.hotspotSpot="hotspotSpot",e.hotspotSubTextArea="hotspotSubTextArea",e.hotspotTextArea="hotspotTextArea"}(be||(be={}));const fe={[be.hotspot]:{height:"max-content",position:"absolute",width:"max-content","z-index":""+(G.a.Over-10)},[be.hotspotAccess]:{"&:focus div":{animation:"backgroundFadeInAnimation 0.5s linear","animation-fill-mode":"forwards","z-index":""+(G.a.Over-8)},"&:focus div div":{animation:"opacityFadeInAnimation 0.5s linear","animation-fill-mode":"forwards","z-index":""+(G.a.Over-8)},cursor:"default"},[be.hotspotClickable]:{cursor:"pointer !important"},[be.hotspotFadeIn]:{animation:"opacityFadeInAnimation 0.5s ease-in-out","animation-fill-mode":"forwards"},[be.hotspotFadeOut]:{animation:"opacityFadeOutAnimation 0.5s ease-in-out","animation-fill-mode":"forwards"},[be.hotspotSpot]:{"background-color":"rgba(0, 0, 0, 0.64)","border-radius":"16px",cursor:"default",float:Object(h.c)("left","right"),height:"32px",margin:Object(h.c)("0 8px 0 0","0 0 0 8px"),width:"32px"},[be.hotspotSubTextArea]:{"font-size":"12px","line-height":"16px",color:"rgba(255, 255, 255, 0.74)",opacity:"0"},[be.hotspotTextArea]:{"border-radius":"4px",color:"#FFFFFF",float:Object(h.c)("left","right"),"font-size":"14px","line-height":"20px","max-width":"256px",padding:"4px 12px 10px 12px","&:hover":{animation:"backgroundFadeInAnimation 0.5s linear","animation-fill-mode":"forwards","z-index":""+(G.a.Over-8)},"&:hover div":{animation:"opacityFadeInAnimation 0.5s linear","animation-fill-mode":"forwards","z-index":""+(G.a.Over-8)}},"@keyframes backgroundFadeInAnimation":{from:{"background-color":"rgba(0, 0, 0, 0)"},to:{"background-color":"rgba(0, 0, 0, 0.64)"}},"@keyframes backgroundFadeOutAnimation":{from:{"background-color":"rgba(0, 0, 0, 0.64)"},to:{"background-color":"rgba(0, 0, 0, 0)"}},"@keyframes opacityFadeInAnimation":{from:{opacity:"0"},to:{opacity:"1"}},"@keyframes opacityFadeOutAnimation":{from:{opacity:"1"},to:{opacity:"0"}}};var Ce=i("Gil3"),ve=i("yzcK"),ye=i("u5KZ"),Se=i("J4SF");const xe=e=>{switch(e.ctaType){case I.a.offPageNavigation:return ve.a.hasValidCTASupportData(e.ctaType,e.ctaMetaData)?Object(Ce.f)(e.ctaMetaData):void Se.a.trackAppErrorEvent(Object.assign(Object.assign({},E.hf),{message:"Invalid CTA Offpage Nav Data",pb:Object.assign(Object.assign({},E.hf.pb),{customMessage:`ctaType: ${e.ctaType||""} and ctaMetaData: ${e.ctaMetaData||""}`})}));case I.a.inPageNavigation:return Object(Ce.e)(e.ctaMetaData,e.delayInMs);case I.a.executeAction:return Object(Ce.c)(e.ctaMetaData)}};var Oe,Te=i("Gy7L"),we=i("+Ht2");!function(e){e.alert="Alert",e.edge="Edge",e.edit="Edit",e.globe="Globe",e.lightbulb="Lightbulb",e.meetNow="MeetNow",e.news="News",e.search="Search",e.success="Success"}(Oe||(Oe={}));const Ie="-8 -8 40 40",Ee="M12,1.99622391 C16.0499218,1.99622391 19.3566662,5.19096617 19.4958079,9.24527692 L19.5,9.49622391 L19.5,13.5931945 L20.8800025,16.7492056 C20.949058,16.9071328 20.9847056,17.0776351 20.9847056,17.25 C20.9847056,17.9403559 20.4250615,18.5 19.7347056,18.5 L15,18.5014962 C15,20.1583504 13.6568542,21.5014962 12,21.5014962 C10.4023191,21.5014962 9.09633912,20.2525762 9.00509269,18.6777689 L8.99954674,18.4992239 L4.27486429,18.5 C4.10352557,18.5 3.93401618,18.4647755 3.7768624,18.3965139 C3.14366026,18.121475 2.85331154,17.3852002 3.1283504,16.7519981 L4.5,13.594148 L4.50000001,9.4961162 C4.50059668,5.34132493 7.85208744,1.99622391 12,1.99622391 Z M13.4995467,18.4992239 L10.5,18.5014962 C10.5,19.3299233 11.1715729,20.0014962 12,20.0014962 C12.7796961,20.0014962 13.4204487,19.4066081 13.4931334,18.6459562 L13.4995467,18.4992239 Z M12,3.49622391 C8.67983848,3.49622391 6.00047762,6.17047646 6,9.49622391 L6,13.905852 L4.65602014,17 L19.3525351,17 L18,13.9068055 L18.0001102,9.5090803 L17.9963601,9.28387824 C17.8853006,6.05040449 15.2415749,3.49622391 12,3.49622391 Z",ke="-500 -500 3000 3000",je="M1865 1519q11 0 21 10t10 21q0 11-6 21t-13 19q-36 54-78 102t-90 92q-40 36-92 71t-111 63-119 46-115 18q-124 0-223-44t-169-121-107-182-38-224q0-61 16-119t44-113q35 102 106 182t163 137 197 85 209 30q95 0 185-19t176-62q8-4 17-8t17-5zM543 1411q0 92 17 179t54 167 91 149 130 125q-121-21-229-70t-201-120-168-163-127-196-81-221-29-238q0-67 30-123t79-99 108-74 118-48q100-30 209-30 53 0 107 8t107 23 102 40 91 58l-14 6q-28 11-52 23t-49 29q-65 45-118 111t-93 143-60 160-22 161zM1020 0q145 0 284 33t262 98 224 165 169 231q42 80 65 166t24 178q0 76-20 145t-58 127-94 103-124 76q-46 20-95 31t-99 11q-36 0-82-2t-94-11-90-24-72-42q-10-8-19-21t-9-28q0-13 13-30t30-42 31-59 14-81q0-96-36-178t-98-148-140-115-164-78q-144-48-298-48-112 0-221 26t-209 81q67-133 160-238t209-177T734 38t286-38z",Le="-8 -8 40 40",De="M21.0303301,2.96966991 C22.4277928,4.36713263 22.4277928,6.63286737 21.0303301,8.03033009 L9.06200371,19.9986565 C8.78512854,20.2755316 8.44079112,20.4753584 8.06302761,20.5783848 L2.94733805,21.9735729 C2.38746387,22.1262658 1.87373417,21.6125361 2.02642713,21.0526619 L3.4216152,15.9369724 C3.52464161,15.5592089 3.72446837,15.2148715 4.00134354,14.9379963 L15.9696699,2.96966991 C17.3671326,1.5722072 19.6328674,1.5722072 21.0303301,2.96966991 Z M15.0001717,6.06057288 L5.06200371,15.9986565 C4.96971199,16.0909482 4.90310306,16.2057273 4.86876093,16.3316485 L3.81891446,20.1810855 L7.6683515,19.1312391 C7.79427267,19.0968969 7.90905181,19.030288 8.00134354,18.9379963 L17.9391717,8.99957288 L15.0001717,6.06057288 Z M17.0303301,4.03033009 L16.0601717,4.99957288 L18.9991717,7.93957288 L19.9696699,6.96966991 C20.7813462,6.15799363 20.7813462,4.84200637 19.9696699,4.03033009 C19.1579936,3.21865381 17.8420064,3.21865381 17.0303301,4.03033009 Z",Be="-5 -5 26 26",Pe="M7.93868 0H8.06132C10.6629 0 12.8409 1.14472 14.5951 3.43415C15.5317 4.87619 16 6.3777 16 7.93868V8.06132C16 10.6629 14.8553 12.8409 12.5659 14.5951C11.1238 15.5317 9.6223 16 8.06132 16H7.93868C5.33705 16 3.15912 14.8553 1.40488 12.5659C0.468293 11.1312 0 9.62973 0 8.06132V7.93868C0 5.33705 1.14472 3.15912 3.43415 1.40488C4.86876 0.468293 6.37027 0 7.93868 0ZM4.89477 5.32962H11.1052C10.9268 4.46736 10.715 3.72404 10.4697 3.09965C9.74123 1.47921 8.90871 0.66899 7.97213 0.66899C7.08757 0.66899 6.28478 1.46806 5.56376 3.0662C5.29617 3.66829 5.07317 4.42276 4.89477 5.32962ZM1.20418 5.32962H4.17003C4.21463 5.32962 4.31498 4.93194 4.47108 4.13659C4.90221 2.72427 5.43368 1.65761 6.06551 0.936585H6.03206C4.11429 1.56098 2.69082 2.62764 1.76167 4.13659C1.39001 4.82044 1.20418 5.21812 1.20418 5.32962ZM9.93449 0.936585C10.7001 1.79884 11.2985 3.14053 11.7296 4.96167C11.7296 5.20697 11.7631 5.32962 11.83 5.32962H14.7958C14.164 3.64971 12.997 2.36376 11.2948 1.47178C10.8636 1.24878 10.4102 1.07038 9.93449 0.936585ZM0.936585 5.99861C0.758188 6.79396 0.66899 7.47038 0.66899 8.02787C0.66899 8.5259 0.758188 9.18374 0.936585 10.0014H4.10314C4.03624 9.22091 4.00279 8.60767 4.00279 8.16167V7.83833C4.00279 7.39233 4.03624 6.77909 4.10314 5.99861H0.936585ZM4.80557 5.99861C4.71638 6.77909 4.67178 7.45552 4.67178 8.02787C4.67178 8.54077 4.71638 9.19861 4.80557 10.0014H11.2056C11.2873 9.22091 11.3282 8.54448 11.3282 7.97213C11.3282 7.45923 11.2873 6.80139 11.2056 5.99861H4.80557ZM11.8969 5.99861C11.9638 6.77909 11.9972 7.39233 11.9972 7.83833V8.16167C11.9972 8.60767 11.9638 9.22091 11.8969 10.0014H15.0634C15.2418 9.20604 15.331 8.52962 15.331 7.97213C15.331 7.4741 15.2418 6.81626 15.0634 5.99861H11.8969ZM1.20418 10.6704C1.82857 12.3503 2.99559 13.6362 4.70523 14.5282C5.06945 14.7364 5.52288 14.9148 6.06551 15.0634C5.23299 14.1343 4.61231 12.6699 4.20348 10.6704H1.20418ZM4.89477 10.6704C5.07317 11.5326 5.28502 12.276 5.53031 12.9003C6.25877 14.5208 7.09129 15.331 8.02787 15.331C9.03879 15.331 9.93078 14.3089 10.7038 12.2648C10.793 11.9972 10.9268 11.4657 11.1052 10.6704H4.89477ZM9.93449 15.0634H9.96794C11.7816 14.4911 13.1494 13.5024 14.0711 12.0976C14.4056 11.5995 14.6472 11.1238 14.7958 10.6704H11.83C11.7854 10.6704 11.6962 11.0235 11.5624 11.7296C11.1461 13.1791 10.6035 14.2904 9.93449 15.0634Z",Ae="-8 -8 40 40",He="M12.000008,2.00139734 C16.0040628,2.00139734 19.249992,5.24733208 19.249992,9.25139734 C19.249992,11.3474567 18.3493333,13.2711054 16.5869535,14.9933011 C16.5100054,15.0685004 16.450441,15.1590617 16.4118457,15.2586031 L16.380373,15.3609016 L15.2492957,20.256497 C15.0265913,21.2204195 14.2034707,21.9187611 13.2302558,21.9933796 L13.0570456,22 L10.9432689,22 C9.95374997,22 9.08791486,21.3549492 8.79629808,20.4232534 L8.75088874,20.2559339 L7.62132399,15.3611533 C7.58904306,15.2212595 7.51728321,15.0935695 7.41456824,14.9932517 C5.73516207,13.3530399 4.83779011,11.5301519 4.75613429,9.54965138 L4.750008,9.25139734 L4.75388322,9.01208292 C4.88014853,5.11879041 8.07602134,2.00139734 12.000008,2.00139734 Z M14.115008,18.4993973 L9.884008,18.4993973 L10.2124755,19.9186446 C10.2831529,20.2249131 10.5356676,20.4507962 10.8400612,20.4929101 L10.9432689,20.5 L13.0570456,20.5 C13.3712985,20.5 13.6481364,20.3048226 13.757662,20.0177756 L13.7877956,19.9188323 L14.115008,18.4993973 Z M12.000008,3.50139734 C8.89821922,3.50139734 6.37007083,5.95741111 6.25416008,9.03084139 L6.250008,9.25139734 L6.25672343,9.52840679 C6.33286953,11.0917695 7.05722352,12.5475342 8.46263227,13.9201432 C8.72676013,14.1781068 8.92266257,14.4964075 9.03423135,14.8463815 L9.08291336,15.0238752 L9.538008,16.9993973 L14.461008,16.9993973 L14.9188729,15.023237 C15.0019011,14.6638694 15.1717664,14.3313677 15.4124215,14.0542893 L15.5385739,13.9205009 C16.9431998,12.547902 17.6671738,11.0920338 17.7432801,9.5284475 L17.749992,9.25139734 L17.7458399,9.03084154 C17.6299293,5.9574132 15.1017833,3.50139734 12.000008,3.50139734 Z",Me=()=>_.a.createElement("svg",{viewBox:"-3 -3 30 36",xmlns:"http://www.w3.org/2000/svg",role:"img"},_.a.createElement("path",{d:"M11.9999 2C10.3241 2 8.94444 2.26211 7.97842 2.52663C7.49515 2.65896 7.11432 2.79217 6.8504 2.8942C6.71839 2.94523 6.61548 2.98852 6.54346 3.02007C6.50744 3.03585 6.47914 3.0487 6.45877 3.05813L6.43418 3.06965L6.4264 3.07336L6.42364 3.07469L6.42165 3.07566C6.04922 3.25696 5.89428 3.70585 6.07559 4.07828C6.25683 4.45058 6.7053 4.60563 7.07765 4.42462L7.08878 4.41941C7.10006 4.41419 7.11901 4.40556 7.14541 4.39399C7.19821 4.37086 7.28075 4.33602 7.39125 4.2933C7.61235 4.20783 7.94481 4.09104 8.37456 3.97337C9.23458 3.73789 10.4799 3.5 11.9999 3.5C13.5199 3.5 14.7653 3.73789 15.6253 3.97337C16.055 4.09104 16.3875 4.20783 16.6086 4.2933C16.7191 4.33602 16.8016 4.37086 16.8544 4.39399C16.8808 4.40556 16.8998 4.41419 16.9111 4.41941L16.9225 4.42478C17.2948 4.60539 17.7431 4.45041 17.9243 4.07828C18.1853 3.44362 17.5773 3.07522 17.5773 3.07522L17.5762 3.07469L17.5734 3.07336L17.5657 3.06965L17.5411 3.05813C17.5207 3.0487 17.4924 3.03585 17.4564 3.02007C17.3844 2.98852 17.2815 2.94523 17.1494 2.8942C16.8855 2.79217 16.5047 2.65896 16.0214 2.52663C15.0554 2.26211 13.6757 2 11.9999 2Z",fill:"#fff"}),_.a.createElement("path",{d:"M7.25 7C6.00736 7 5 8.00736 5 9.25V14.75C5 15.9926 6.00736 17 7.25 17H12.75C13.9926 17 15 15.9926 15 14.75V14.4635L17.9146 15.9208C18.1471 16.0371 18.4232 16.0246 18.6443 15.888C18.8654 15.7513 19 15.5099 19 15.25V8.75C19 8.49007 18.8654 8.24867 18.6443 8.11201C18.4232 7.97536 18.1471 7.96293 17.9146 8.07918L15 9.53648V9.25C15 8.00736 13.9926 7 12.75 7H7.25ZM15 11.2135L17.5 9.96353V14.0365L15 12.7865V11.2135ZM13.5 9.25V14.75C13.5 15.1642 13.1642 15.5 12.75 15.5H7.25C6.83579 15.5 6.5 15.1642 6.5 14.75V9.25C6.5 8.83579 6.83579 8.5 7.25 8.5H12.75C13.1642 8.5 13.5 8.83579 13.5 9.25Z",fill:"#fff"}),_.a.createElement("path",{d:"M6.41779 20.9225L6.4206 20.9239L6.42843 20.9277L6.45291 20.9394C6.47312 20.949 6.50109 20.9619 6.53664 20.9778C6.60773 21.0095 6.70917 21.0528 6.8395 21.1039C7.10008 21.2061 7.47658 21.3392 7.95712 21.4714C8.91801 21.7359 10.2974 21.9976 11.9988 22C13.7014 22.0025 15.0818 21.7406 16.0435 21.4747C16.5244 21.3417 16.9013 21.2075 17.1621 21.1045C17.2926 21.053 17.3941 21.0092 17.4653 20.9772C17.5009 20.9611 17.529 20.9481 17.5492 20.9384L17.5738 20.9266L17.5816 20.9227L17.5845 20.9213L17.5856 20.9207C17.5856 20.9207 18.2406 20.5515 17.9201 19.9134C17.7342 19.5434 17.2837 19.394 16.9136 19.5796L16.904 19.5842C16.8934 19.5893 16.8753 19.5978 16.8499 19.6092C16.799 19.6321 16.7189 19.6668 16.6111 19.7094C16.3954 19.7946 16.0691 19.9113 15.6438 20.0289C14.7929 20.2642 13.5484 20.5023 12.001 20.5C10.4523 20.4978 9.20677 20.2596 8.35515 20.0252C7.92945 19.908 7.60282 19.792 7.38684 19.7074C7.27888 19.665 7.19869 19.6306 7.14771 19.6079C7.12222 19.5965 7.10405 19.5881 7.09337 19.583L7.08365 19.5784C6.7129 19.3942 6.26293 19.5452 6.07845 19.9159C5.89587 20.2827 6.05097 20.7407 6.41779 20.9225Z",fill:"#fff"})),_e="-5 -5 25 25",Re="M16 4V11C16 11.276 15.9453 11.5365 15.8359 11.7812C15.7318 12.0208 15.5885 12.2318 15.4062 12.4141C15.2292 12.5911 15.0182 12.7344 14.7734 12.8438C14.5286 12.9479 14.2708 13 14 13H1.94531C1.67969 13 1.42708 12.9479 1.1875 12.8438C0.953125 12.7396 0.747396 12.6016 0.570312 12.4297C0.398438 12.2526 0.260417 12.0469 0.15625 11.8125C0.0520833 11.5729 0 11.3203 0 11.0547V2H14V4H16ZM15 5H14V10.5C14 10.6354 13.9505 10.7526 13.8516 10.8516C13.7526 10.9505 13.6354 11 13.5 11C13.3646 11 13.2474 10.9505 13.1484 10.8516C13.0495 10.7526 13 10.6354 13 10.5V3H1V11.0547C1 11.1849 1.02344 11.3073 1.07031 11.4219C1.1224 11.5365 1.1901 11.638 1.27344 11.7266C1.36198 11.8099 1.46354 11.8776 1.57812 11.9297C1.69271 11.9766 1.8151 12 1.94531 12H14C14.1406 12 14.2708 11.974 14.3906 11.9219C14.5104 11.8698 14.6146 11.7995 14.7031 11.7109C14.7969 11.6172 14.8698 11.5104 14.9219 11.3906C14.974 11.2708 15 11.1406 15 11V5ZM12 5H2V4H12V5ZM12 11H8V10H12V11ZM12 9H8V8H12V9ZM12 7H8V6H12V7ZM7 11H2V5.97656H7V11ZM3 10H6V6.97656H3V10Z",Ne="-9 -9 40 40",Fe="M10,2.5 C14.1421356,2.5 17.5,5.85786438 17.5,10 C17.5,11.7101481 16.9276233,13.2866104 15.9639906,14.5482663 L20.7071068,19.2928932 C21.0976311,19.6834175 21.0976311,20.3165825 20.7071068,20.7071068 C20.3466228,21.0675907 19.7793918,21.0953203 19.3871006,20.7902954 L19.2928932,20.7071068 L14.5482663,15.9639906 C13.2866104,16.9276233 11.7101481,17.5 10,17.5 C5.85786438,17.5 2.5,14.1421356 2.5,10 C2.5,5.85786438 5.85786438,2.5 10,2.5 Z M10,4.5 C6.96243388,4.5 4.5,6.96243388 4.5,10 C4.5,13.0375661 6.96243388,15.5 10,15.5 C13.0375661,15.5 15.5,13.0375661 15.5,10 C15.5,6.96243388 13.0375661,4.5 10,4.5 Z",Ue="-500 -500 3000 3000",Ve="M1491 595l90 90-749 749-365-365 90-90 275 275 659-659zM1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32z";class ze extends v.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,heightOffset:void 0,iconType:void 0,iconTypeUpdate:void 0,mainText:void 0,mainTextUpdate:void 0,searchIconSvgPath:void 0,subText:void 0,subTextUpdate:void 0,widthOffset:void 0,ctaType:void 0,ctaMetaData:void 0,irisTelemetryActionId:void 0,irisTelemetryActionString:void 0,irisTelemetryImpressionString:void 0,telemetryTags:void 0,creativeId:void 0,placementId:void 0},this.onClickHandler=e=>{e&&e.preventDefault&&e.preventDefault();const t={ctaType:this.props.ctaType,ctaMetaData:this.props.ctaMetaData,delayInMs:void 0,irisTelemetryActionId:this.props.irisTelemetryActionId,irisTelemetryActionString:this.props.irisTelemetryActionString},i=((e,t)=>{if(e)if(e.ctaType&&e.ctaMetaData){if(t)return()=>Object(x.b)(void 0,void 0,void 0,(function*(){const i=T.a.formatTelemetryActionUrl(e.irisTelemetryActionString,O.a.Click+e.irisTelemetryActionId);w.a.sendActionUpdate(i),ye.a.sendActionEvent(t.currentTarget,R.b.Click,R.c.Navigate);const n=xe(e);return n?yield n():null}));Se.a.trackAppErrorEvent(Object.assign(Object.assign({},E.Gc),{message:"Event is not defined"}))}else Se.a.trackAppErrorEvent(Object.assign(Object.assign({},E.db),{message:"Either of call to action type or metadata is not defined",pb:Object.assign(Object.assign({},E.db.pb),{customMessage:`ctaType: ${e.ctaType||""} and ctaMetaData: ${e.ctaMetaData||""}`})}));else Se.a.trackAppErrorEvent(Object.assign(Object.assign({},E.We),{message:"Hotspot call to action state not defined"}))})(t,e);i&&i().then(e=>{if(e&&e.actionCompleted&&t.ctaType===I.a.executeAction&&t.ctaMetaData===Ce.a.setDefaultBrowser){this.setState({useUpdatedText:!0});const e={actionUrl:this.props.irisTelemetryActionString,impressionUrl:this.props.irisTelemetryImpressionString};!function(e,t,i,n,a){D.a.getInstance().rootReducer.getDataConnector(L.a.IrisData).then(r=>{r&&r.sendActionUpdate(e,t,i,n,a)})}(this.props.placementId,this.props.creativeId,O.b.Action,e,O.a.Conversion),this.irisDataConnector.resetImageLastUpdateTime()}})},this.onMouseEnterHandler=e=>{ye.a.sendActionEvent(e&&e.currentTarget,R.b.Hover,R.c.View)},this.onKeyDownHandler=e=>{e.keyCode===Te.g&&this.onClickHandler(e)},this.state={useUpdatedText:!1},Object(we.a)(L.a.IrisData).then(e=>{this.irisDataConnector=e,this.irisDataConnector||B.a.trackAppErrorEvent(Object.assign(Object.assign({},E.Ye),{message:"No Iris data connector for background image"}))})}render(){return this.props.mainText?(ye.a.addOrUpdateTmplString(`${this.props.creativeId}_${this.props.irisTelemetryActionId}`),_.a.createElement(y.a,null,e=>(super.render(),_.a.createElement("div",Object.assign({},this.props.telemetryTags||{},{className:this.props.managedClasses.hotspot,style:{left:this.props.widthOffset,top:this.props.heightOffset},onMouseEnter:this.onMouseEnterHandler}),this.renderSpot(),this.renderTextArea())))):null}renderSpot(){let e=this.props.iconType;return this.state.useUpdatedText&&this.props.ctaType===I.a.executeAction&&this.props.ctaMetaData===Ce.a.setDefaultBrowser&&this.props.iconTypeUpdate&&(e=this.props.iconTypeUpdate),_.a.createElement("div",{className:Object(V.a)(this.props.managedClasses.hotspotSpot,this.props.managedClasses.hotspotClickable),onClick:e=>this.onClickHandler(e)},((e,t)=>{let i,n;switch(t){case Oe.alert:i=Ie,n=Ee;break;case Oe.edge:i=ke,n=je;break;case Oe.edit:i=Le,n=De;break;case Oe.globe:i=Be,n=Pe;break;case Oe.lightbulb:i=Ae,n=He;break;case Oe.meetNow:return Me();case Oe.news:i=_e,n=Re;break;case Oe.success:i=Ue,n=Ve;break;default:i=Ne,n=e||Fe}return _.a.createElement("svg",{viewBox:i,xmlns:"http://www.w3.org/2000/svg",role:"img"},_.a.createElement("path",{d:n,fill:"#fff"}))})(this.props.searchIconSvgPath,e))}renderTextArea(){let e=this.props.mainText,t=this.props.subText;return this.state.useUpdatedText&&this.props.ctaType===I.a.executeAction&&this.props.ctaMetaData===Ce.a.setDefaultBrowser&&(this.props.mainTextUpdate&&(e=this.props.mainTextUpdate),this.props.subTextUpdate&&(t=this.props.subTextUpdate)),_.a.createElement("a",{href:this.props.ctaMetaData?this.props.ctaMetaData:"#",className:this.props.managedClasses.hotspotAccess,onKeyDown:this.onKeyDownHandler},_.a.createElement("div",{className:Object(V.a)(this.props.managedClasses.hotspotTextArea,this.props.managedClasses.hotspotClickable),onClick:e=>this.onClickHandler(e)},e,_.a.createElement("div",{className:this.props.managedClasses.hotspotSubTextArea},t)))}}const Ge=Object(l.a)(fe)(ze);var qe=i("/FGi");class $e extends v.a{constructor(e){super(e),this.handledProps={managedClasses:void 0,bingImageDataConnector:void 0,bottomElementPageId:void 0,irisInfo:void 0,onLayoutChangeActionHandler:void 0,renderHotspots:void 0,searchIconSvgPath:void 0,topElementPageId:void 0,hideHotspotsOnPeek:void 0},this.minimizeHeader=()=>{this.props.bingImageDataConnector&&qe.a.updateHeaderExpandedState.getActionSender(this.props.bingImageDataConnector).send(!1)},this.getHotspotElements=e=>{if(!(e&&e.width&&e.availableHeight&&this.props.irisInfo&&this.props.irisInfo.hsList&&this.props.irisInfo.hsList.length>0))return[];const{width:t,availableHeight:i}=e,n=[];let a,r;return this.props.irisInfo.hsList.forEach(o=>{if(a=t*parseFloat(o.landscape.x_percent),r=i*parseFloat(o.landscape.y_percent),!(r+32+16+20>=e.availableHeight||a+32+8+256>=t)){if(!o.telemetryTags){const e=this.containerTelemetry?this.containerTelemetry.addOrUpdateChild({name:"HotSpot",content:{headline:(o.cta_type===I.a.offPageNavigation?`HotSpot_${this.props.irisInfo.creativeId}_${o.hs}`:`Hotspot_${o.cta}_${this.props.irisInfo.creativeId}_${o.hs}`)+" - "+o.title},type:R.f.Module,behavior:R.c.Navigate,action:R.b.Click,destinationUrl:o.cta}):null,t=e?e.render():null;o.telemetryTags=t}n.push(_.a.createElement(Ge,{ctaType:o.cta_type,ctaMetaData:o.cta,creativeId:this.props.irisInfo.creativeId,placementId:this.props.irisInfo.placementId,irisTelemetryActionId:o.hs,irisTelemetryActionString:this.props.irisInfo.actTelemetry,irisTelemetryImpressionString:this.props.irisInfo.impTelemetry,key:"HotSpot"+o.hs,mainText:o.title,searchIconSvgPath:this.props.searchIconSvgPath,subText:o.text,mainTextUpdate:o.titleUpdate,subTextUpdate:o.textUpdate,iconType:o.icon,iconTypeUpdate:o.iconUpdate,widthOffset:Math.floor(a)+"px",heightOffset:Math.floor(r)+"px",telemetryTags:o.telemetryTags}))}}),n},this.hotspotsHaveChanged=e=>this.state.placeablePageArea&&e.irisInfo&&this.state.hotspotArray!==e.irisInfo.hsList,this.resetPropsFromPage=(e,t)=>setTimeout(()=>{const e=this.getAvailablePagePlacementArea();this.setState({hideRegion:!1,scrolled:t,placeablePageArea:e,hotspotArray:this.props.irisInfo&&this.props.irisInfo.hsList,hotspotElementList:this.getHotspotElements(e)})},e),this.handleOnScrollEvent=e=>{!this.props.hideHotspotsOnPeek&&e&&e.preventDefaultScroll||0===window.scrollY?this.resetPropsFromPage(50,!0):this.setState({hideRegion:!0,scrolled:!0})},this.handlePageLayoutChange=()=>{this.setState({hideRegion:!0,scrolled:!1}),this.layoutChangedCallback&&window.clearTimeout(this.layoutChangedCallback),0===window.scrollY&&(this.layoutChangedCallback=this.resetPropsFromPage(500,!1))};const t=new U.a({name:"HotspotsManager",type:R.f.Module});this.containerTelemetry=t.addOrUpdateChild({name:"hotspot-container",type:R.f.Module}),this.containerTelemetryTags=this.containerTelemetry.render()}componentWillMount(){return Object(x.b)(this,void 0,void 0,(function*(){const e=this.getAvailablePagePlacementArea();this.setState({hideRegion:!1,scrolled:!1,placeablePageArea:e,hotspotArray:this.props.irisInfo&&this.props.irisInfo.hsList,hotspotElementList:this.getHotspotElements(e)})}))}componentDidMount(){return Object(x.b)(this,void 0,void 0,(function*(){window.addEventListener("resize",()=>{this.handlePageLayoutChange()}),window.addEventListener("scroll",e=>{this.handleOnScrollEvent(e)}),this.props.onLayoutChangeActionHandler&&this.props.onLayoutChangeActionHandler.registerObserver&&this.props.onLayoutChangeActionHandler.registerObserver(this.handlePageLayoutChange)}))}componentWillReceiveProps(e){return Object(x.b)(this,void 0,void 0,(function*(){e&&this.hotspotsHaveChanged(e)&&this.handlePageLayoutChange()}))}render(){const e=this.state.placeablePageArea;return this.props.renderHotspots&&e&&e.width?_.a.createElement("div",Object.assign({},this.containerTelemetryTags,{style:Object.assign({},e),className:Object(V.a)(this.props.managedClasses.hotspotsRenderRegion,[this.props.managedClasses.scrollFadeOutAnimation,this.state.hideRegion&&this.state.scrolled],[this.props.managedClasses.scrollFadeInAnimation,!this.state.hideRegion&&this.state.scrolled],[this.props.managedClasses.resizeFadeOutAnimation,this.state.hideRegion&&!this.state.scrolled],[this.props.managedClasses.resizeFadeInAnimation,!this.state.hideRegion&&!this.state.scrolled]),id:"HotspotsContainer",onClick:this.minimizeHeader}),_.a.createElement(_.a.Fragment,null,this.state.hotspotElementList)):null}getAvailablePagePlacementArea(){const e=this.getSearchBarContainerElement(),t=this.getTopSitesContainerElement();if(!e||!t)return null;const i=e.getBoundingClientRect().bottom,n=t.getBoundingClientRect().top-i-32,a=window.outerWidth-64;return{availableHeight:n,marginTop:i>0?i+16+"px":"0",marginLeft:"16px",marginRight:"32px",height:n>0?n+"px":"0",width:a>0?a:0}}getSearchBarContainerElement(){return this.searchBarContainerElement?this.searchBarContainerElement:this.searchBarContainerElement=document.getElementById(this.props.topElementPageId)}getTopSitesContainerElement(){return this.topSitesContainerElement?this.topSitesContainerElement:this.topSitesContainerElement=document.getElementById(this.props.bottomElementPageId)}}var Ze;!function(e){e.hotspotsRenderRegion="hotspotsRenderRegion",e.scrollFadeInAnimation="scrollFadeInAnimation",e.scrollFadeOutAnimation="scrollFadeOutAnimation",e.resizeFadeInAnimation="resizeFadeInAnimation",e.resizeFadeOutAnimation="resizeFadeOutAnimation"}(Ze||(Ze={}));const We={[Ze.hotspotsRenderRegion]:{position:"absolute",opacity:"1"},[Ze.resizeFadeOutAnimation]:{animation:"opacityFadeOutAnimation 0.02s linear","animation-fill-mode":"forwards"},[Ze.resizeFadeInAnimation]:{animation:"opacityFadeInAnimation 0.5s ease-in-out","animation-fill-mode":"forwards"},[Ze.scrollFadeOutAnimation]:{animation:"opacityFadeOutAnimation 0.5s ease-in-out","animation-fill-mode":"forwards"},[Ze.scrollFadeInAnimation]:{animation:"opacityFadeInAnimation 0.5s ease-in-out","animation-fill-mode":"forwards"},"@keyframes opacityFadeOutAnimation":{from:{opacity:"1"},to:{opacity:"0"}},"@keyframes opacityFadeInAnimation":{from:{opacity:"0"},to:{opacity:"1"}}},Ke=Object(l.a)(We)($e);var Ye=i("dMmp"),Xe=i("HDSB");let Qe,Je,et,tt,it,nt,at,rt;function ot(){!function(){et&&clearTimeout(et);tt&&clearTimeout(tt)}(),rt=!1,window.removeEventListener("scroll",st)}function st(){const e=window.pageYOffset<nt;e!==at&&(at=e,e?(Qe.style.transition="opacity 300ms",Qe.style.visibility="",Qe.style.opacity="1",tt=setTimeout(()=>{Qe.style.visibility="",Qe.style.transition="none"},300)):(Qe.style.transition="opacity 300ms",Qe.style.opacity="0",et=setTimeout(()=>{Qe.style.visibility="hidden",Qe.style.transition="none"},300)))}const ct={initialize:function(e,t,i){at=!0,Qe=e,Je=t,it=i},updateListener:function(e){if(!Qe||!Je||!e)return;const t=e<200;Qe.style.bottom=t?"0px":"",t?ot():(nt=e*it/100,rt?st():(rt=!0,window.addEventListener("scroll",st)))},removeListener:ot},dt={museumCard:{[Object(C.e)(null,C.a.c2)]:{bottom:"320px"},[Object(C.f)(C.a.c3)]:{bottom:"250px"},[Object(C.e)(C.a.c4,null)]:{bottom:"210px"}}};class lt extends v.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},v.b),{museumCardArrowPosition:void 0,bingImageDataConnector:void 0,backgroundImageSource:void 0,bottomElementPageId:void 0,creditsCardTelemetryTags:void 0,cssOverrides:void 0,delayRenderingOfMuseumCard:void 0,disableHotspots:void 0,disableMuseumCard:void 0,downloadRestrictedText:void 0,downloadText:void 0,enableMuseumCardMouseOver:void 0,exitFullViewText:void 0,expandIconSvgPath:void 0,feedDisplaySetting:void 0,layoutType:void 0,headerExpanded:void 0,hideHotspotsOnPeek:void 0,hideImageText:void 0,imageAttributionProps:void 0,imageData:void 0,imageHeight:void 0,managedClasses:void 0,museumCardExpandActionOn:void 0,museumCardBottomBuffer:void 0,museumCardBottomMargin:void 0,museumCardPosition:void 0,museumCardTelemetryTags:void 0,museumCardLinkTelemetryTags:void 0,museumCardButtonPreviousTelemetryTags:void 0,museumCardButtonNextTelemetryTags:void 0,nextEnabled:void 0,nextBackgroundImageSource:void 0,nextText:void 0,noDownloadText:void 0,onClickMuseumCardCallback:void 0,onClickNextCallback:void 0,onClickPrevCallback:void 0,onLayoutChangeActionHandler:void 0,onMouseEnterCallback:void 0,onMouseExitCallback:void 0,prevEnabled:void 0,previousText:void 0,recommendedSitesEnabled:void 0,reportAppError:void 0,searchIconSvgPath:void 0,selectedAPI:void 0,shareFacebookText:void 0,shareSkypeText:void 0,shareTwitterText:void 0,showBingImageOverlay:void 0,showBingImageLinearGradientOverlay:void 0,showDownloadLink:void 0,showHideImageButton:void 0,showImageUI:void 0,showMuseumCreditsCard:void 0,showPrevNextButtons:void 0,showSocialButtons:void 0,skipOverlay:void 0,topElementPageId:void 0,transitionHeightBottomPercent:void 0,visuallyReadyHandler:void 0,ttvrExperienceId:void 0,ariaLabel_BackgroundImage:void 0,connector:void 0,imageExpirationSeconds:void 0,irisInfo:void 0,showRecommendedSearchBingImageOverlay:void 0,showSearchHistoryBingImageOverlay:void 0}),this.getMemoizedStyles=Object(ce.a)((e,t,i,n)=>this.getStyleSheets(e,n),(...e)=>Object(de.a)(e).join("_")),this.getIrisMemoizedStyles=Object(ce.a)((e,t,i,n)=>this.getIrisStyleSheets(e,n),(...e)=>Object(de.a)(e).join("_")),this.museumCardRef=_.a.createRef(),this.museumCardTitleRef=_.a.createRef(),this.cachedRender=Object(Xe.a)()&&window.needsHydrate,this.elementTimingObserverEnabled=!!Object(Xe.a)()&&Object(oe.b)(window.PerformanceObserver,"TTVR.BackgroundImage",e=>{const t=this.props.ttvrExperienceId?this.props.ttvrExperienceId:"TTVR.BackgroundImage";Object(se.k)(t,!1,e.startTime)})}render(){switch(super.render(),this.props.selectedAPI){case n.BingImageOfTheDay:case n.FREBackground:case n.Iris:case n.BrowserLocal:return this.renderBingImageOfDay();case n.EnterpriseBackground:return this.renderEnterpriseBackgroundImage();default:return _.a.createElement(f.a,Object.assign({},this.unhandledProps(),{className:this.generateClassNames(),id:"backgroundImage",url:this.props.backgroundImageSource}))}}componentDidUpdate(e){super.componentDidUpdate(),this.props.transitionHeightBottomPercent&&(!this.props.delayRenderingOfMuseumCard&&e.delayRenderingOfMuseumCard?(ct.initialize(this.museumCardRef.current,this.museumCardTitleRef.current,this.props.transitionHeightBottomPercent),ct.updateListener(this.props.imageHeight)):e.imageHeight!==this.props.imageHeight&&ct.updateListener(this.props.imageHeight))}componentDidMount(){super.componentDidMount(),this.props.transitionHeightBottomPercent&&!this.props.delayRenderingOfMuseumCard&&ct.initialize(this.museumCardRef.current,this.museumCardTitleRef.current,this.props.transitionHeightBottomPercent),this.cachedRender?this.setState({reRender:!0}):(this.props.transitionHeightBottomPercent&&ct.updateListener(this.props.imageHeight),this.elementTimingObserverEnabled||Object(se.k)(this.props.ttvrExperienceId?this.props.ttvrExperienceId:"TTVR.BackgroundImage",!1),this.props.visuallyReadyHandler&&this.props.visuallyReadyHandler(()=>{super.markTimeToVisuallyReady(!1)}))}componentWillUnmount(){this.props.transitionHeightBottomPercent&&ct.removeListener()}generateBingImageOverlayClassNames(){const{managedClasses:e}=this.props,t=this.props.layoutType===a.Edge,i=t&&!Object(S.e)(this.currentDesignSystem);return Object(V.a)(e.BingImageOverlay,[e.BingImageOverlay_Edge,i&&this.props.showBingImageOverlay],[e.BingImageOverlay_Edge_Expanded,t&&!this.props.showBingImageOverlay],[e.BingImageOverlay_Edge_HeaderSticky,i&&!this.props.showImageUI],[e.BingImageOverlay_EdgeNext_GradientLinear,this.props.layoutType===a.EdgeNext&&this.props.showBingImageLinearGradientOverlay],[e.BingImageOverlay_EdgeNext_RecommendedSearch_GradientLinear,this.props.layoutType===a.EdgeNext&&this.props.showRecommendedSearchBingImageOverlay],[e.BingImageOverlay_EdgeNext_SearchHistory_GradientLinear,this.props.layoutType===a.EdgeNext&&this.props.showSearchHistoryBingImageOverlay],[e.BingImageOverlay_EdgeNext,this.props.layoutType===a.EdgeNext&&!this.props.showBingImageLinearGradientOverlay&&!this.props.showRecommendedSearchBingImageOverlay&&!this.props.showSearchHistoryBingImageOverlay||t&&this.props.showBingImageOverlay&&Object(S.e)(this.currentDesignSystem)])}generateBingImageHideImageButtonClassNames(){const{managedClasses:e,headerExpanded:t}=this.props;return Object(V.a)(e.BingImage_HideImage_Button,[e.BingImage_HideImage_Button_Expanded,t])}getStyleSheets(e,t){let i=this.props.layoutType===a.Edge?p:m;const n=this.props.layoutType===a.Edge?"30px":"40px",o={museumCard_credits:Object.assign(Object.assign({},i.museumCard_credits),{float:this.props.museumCardPosition===r.End?Object(h.c)("right","left"):Object(h.c)("left","right")}),museumCard_titleText:Object.assign(Object.assign({},i.museumCard_titleText),{float:this.props.museumCardPosition===r.End?Object(h.c)("right","left"):Object(h.c)("left","right"),"& button":Object.assign(Object.assign({},i.museumCard_titleText["& button"]),{"margin-left":this.props.museumCardPosition===r.End?Object(h.c)("initial","2px"):Object(h.c)("2px","initial"),"margin-right":this.props.museumCardPosition===r.End?Object(h.c)("2px","initial"):Object(h.c)("initial","2px")}),"& span":Object.assign(Object.assign({},i.museumCard_titleText["& span"]),{"margin-left":this.props.museumCardArrowPosition===r.End?Object(h.c)("initial","2px"):Object(h.c)("2px","initial"),"margin-right":this.props.museumCardArrowPosition===r.End?Object(h.c)("2px","initial"):Object(h.c)("initial","2px")})})};i=Object.assign(i,o);const s={museumCard:Object.assign(Object.assign({},i.museumCard),{left:this.props.museumCardPosition===r.End?Object(h.c)("initial",n):Object(h.c)(n,"initial"),right:this.props.museumCardPosition===r.End?Object(h.c)(n,"initial"):Object(h.c)("initial",n)}),museumCard_titleText:Object.assign(Object.assign({},i.museumCard_titleText),{"& span":Object.assign(Object.assign({},i.museumCard_titleText["& span"]),{"&:only-child":Object.assign(Object.assign({},i.museumCard_titleText["& span"]["&:only-child"]),{"margin-left":this.props.museumCardArrowPosition===r.End?Object(h.c)("initial","50px"):Object(h.c)("50px","initial"),"margin-right":this.props.museumCardArrowPosition===r.End?Object(h.c)("50px","initial"):Object(h.c)("initial","50px")})})})},c={museumCard:Object.assign(Object.assign(Object.assign({},i.museumCard),{left:this.props.museumCardPosition===r.End?Object(h.c)("initial","8px"):Object(h.c)("8px","initial"),right:this.props.museumCardPosition===r.End?Object(h.c)("8px","initial"):Object(h.c)("initial","8px"),bottom:this.getEdgenextMuseumCardBottomStyle(t,58)+"px"}),this.props.recommendedSitesEnabled&&"headingsonly"===t||"peek"===t?dt.museumCard:{})};return Object.assign(Object.assign({},i),this.props.layoutType===a.Edge?s:c)}getEdgenextMuseumCardBottomStyle(e,t){return"headingsonly"===e||"peek"===e?this.props.museumCardBottomBuffer?this.props.museumCardBottomMargin+this.props.museumCardBottomBuffer:t:this.props.museumCardBottomMargin}hideImageClickCallback(){const e=D.a.getInstance().rootReducer.connector(L.a.PageSettingsData),t=e?e.getCurrentState():null;t.hideHomepageImage=!0,re.a.update.getActionSender(e).send(t)}getMuseumCard(e){if(!this.props.showImageUI||this.props.delayRenderingOfMuseumCard||this.props.selectedAPI!==n.BingImageOfTheDay)return null;const t=this.props.imageData&&this.props.imageData.fullstartdate?this.props.imageData.fullstartdate.slice(0,8)+"_"+this.props.imageData.fullstartdate.slice(8):"";return _.a.createElement(ne,{arrowsPosition:this.props.museumCardArrowPosition,containerRef:this.museumCardRef,copyrightcreditstext:this.props.imageData?this.props.imageData.copyrightcreditstext:"",copyrightlink:this.props.imageData?this.props.imageData.copyrightlink:"",copyrighttext:this.props.imageData?this.props.imageData.copyrighttext:"",creditsCardTelemetryTags:this.props.creditsCardTelemetryTags,downloadRestrictedText:this.props.downloadRestrictedText,downloadText:this.props.downloadText,downloadUrl:this.props.imageData?this.props.imageData.downloadurl:"",exitFullViewText:this.props.exitFullViewText,facebookShareUrl:Ye.String.Format("https://www.facebook.com/dialog/feed?app_id=111239619098&redirect_uri=https://www.bing.com/share/fbre?t=normal&link=https://www.bing.com/?FORM=EDSHFB%26mkt={0}%26ssd={1}",this.props.imageData?this.props.imageData.market:"",this.props.imageData?t:""),feedDisplaySetting:this.props.feedDisplaySetting,headerExpanded:this.props.headerExpanded,imageUrl:this.props.backgroundImageSource,jssStyleSheet:this.getMemoizedStyles(e,this.props.layoutType,this.props.museumCardPosition,this.props.feedDisplaySetting),layoutType:this.props.layoutType,museumCardExpandActionOn:this.props.museumCardExpandActionOn,museumCardTelemetryTags:this.props.museumCardTelemetryTags,museumCardLinkTelemetryTags:this.props.museumCardLinkTelemetryTags,nextEnabled:!!this.props.imageData&&this.props.imageData.nextenabled,nextText:this.props.nextText,noDownloadText:this.props.noDownloadText,onClickCallback:this.props.onClickMuseumCardCallback,onClickNextCallback:this.props.onClickNextCallback,onClickPrevCallback:this.props.onClickPrevCallback,onMouseEnterCallback:this.props.onMouseEnterCallback,onMouseExitCallback:this.props.onMouseExitCallback,prevEnabled:!!this.props.imageData&&this.props.imageData.prevenabled,previousText:this.props.previousText,shareFacebookText:this.props.shareFacebookText,shareSkypeText:this.props.shareSkypeText,shareTwitterText:this.props.shareTwitterText,showCredits:this.props.showMuseumCreditsCard,showDownloadLink:this.props.showDownloadLink,showPrevAndNextButtons:this.props.showPrevNextButtons||this.props.layoutType===a.EdgeNext&&this.props.headerExpanded,showSocialButtons:this.props.showSocialButtons,skypeShareUrl:Ye.String.Format("https://web.skype.com/share?url=https://www.bing.com/?FORM=EDSHSK%26mkt={0}%26ssd={1}",this.props.imageData?this.props.imageData.market:"",this.props.imageData?t:""),title:this.props.imageData?this.props.imageData.title:"",titleRef:this.museumCardTitleRef,twitterShareUrl:Ye.String.Format("https://twitter.com/intent/tweet?text=Check out today's homepage on Bing&amp;url=https://www.bing.com/?FORM=EDSHTW%26mkt={0}%26ssd={1}",this.props.imageData?this.props.imageData.market:"",this.props.imageData?t:""),wallpaper:!!this.props.imageData&&this.props.imageData.wallpaper})}renderBingImageOfDay(){return _.a.createElement(y.a,null,e=>{this.currentDesignSystem=e;const t=_.a.createElement(me);let i={};const{managedClasses:r}=this.props;this.props.layoutType===a.Edge&&(i={"aria-label":this.props.ariaLabel_BackgroundImage,role:"button",tabIndex:0});const o=r.BingImage+" "+(this.props.layoutType===a.Edge?r.BingImage_Edge:r.BingImage_EdgeNext);let s;return s=this.props.delayRenderingOfMuseumCard?null:""!==this.props.backgroundImageSource?_.a.createElement(f.a,Object.assign({},this.unhandledProps(),{className:o,id:"backgroundImage2",jssStyleSheet:this.getJssStyleSheet(this.props.backgroundImageSource),url:this.props.backgroundImageSource},i)):_.a.createElement("div",{className:this.generateClassNames(r.BingImage_Empty)}),_.a.createElement("div",Object.assign({className:this.generateClassNames(r.BingImageRoot),id:"backgroundImage"},this.mnsDashAttributes()),""!==this.props.nextBackgroundImageSource?_.a.createElement(f.a,Object.assign({},this.unhandledProps(),{className:o,id:"backgroundImage1",jssStyleSheet:this.getJssStyleSheet(this.props.nextBackgroundImageSource),url:this.props.nextBackgroundImageSource})):null,s,this.props.skipOverlay?null:_.a.createElement("span",{id:"BingImageOverlay","data-mscc-ic":"false",className:this.generateBingImageOverlayClassNames(),style:!this.props.backgroundImageSource&&!this.props.nextBackgroundImageSource||this.props.showMuseumCreditsCard?{opacity:0}:{opacity:1}}),this.props.showHideImageButton?_.a.createElement("button",{className:this.generateBingImageHideImageButtonClassNames(),onClick:this.hideImageClickCallback,"aria-label":this.props.hideImageText},t):"",this.props.selectedAPI===n.Iris?this.getIrisMuseumCard(e):this.getMuseumCard(e),this.props.selectedAPI===n.Iris?this.getIrisHotspots():null,Object(c.isNullOrUndefined)(this.props.imageAttributionProps)?null:this.getBackgroundImageAttribution())})}getIrisStyleSheets(e,t){const i=this.props.layoutType===a.Edge?"30px":"40px",n={museumCard:Object.assign(Object.assign(Object.assign({},b.museumCard),{left:this.props.museumCardPosition===r.End?Object(h.c)("initial",i):Object(h.c)(i,"initial"),right:this.props.museumCardPosition===r.End?Object(h.c)(i,"initial"):Object(h.c)("initial",i),bottom:this.getEdgenextMuseumCardBottomStyle(t,54)+"px"}),this.props.recommendedSitesEnabled&&"headingsonly"===t?dt.museumCard:{}),museumCard_credits:Object.assign({},b.museumCard_credits),museumCard_titleText:Object.assign(Object.assign({},b.museumCard_titleText),{float:this.props.museumCardPosition===r.End?Object(h.c)("right","left"):Object(h.c)("left","right"),"& button":Object.assign(Object.assign({},b.museumCard_titleText["& button"]),{"margin-left":this.props.museumCardPosition===r.End?Object(h.c)("initial","2px"):Object(h.c)("2px","initial"),"margin-right":this.props.museumCardPosition===r.End?Object(h.c)("2px","initial"):Object(h.c)("initial","2px")}),"& span":Object.assign(Object.assign({},b.museumCard_titleText["& span"]),{"margin-left":this.props.museumCardArrowPosition===r.End?Object(h.c)("initial","2px"):Object(h.c)("2px","initial"),"margin-right":this.props.museumCardArrowPosition===r.End?Object(h.c)("2px","initial"):Object(h.c)("initial","2px"),"&:only-child":Object.assign(Object.assign({},b.museumCard_titleText["& span"]["&:only-child"]),{"margin-left":this.props.museumCardArrowPosition===r.End?Object(h.c)("initial","50px"):Object(h.c)("50px","initial"),"margin-right":this.props.museumCardArrowPosition===r.End?Object(h.c)("50px","initial"):Object(h.c)("initial","50px")})})})};return Object.assign(Object.assign({},b),n)}getBackgroundImageAttribution(){return _.a.createElement(pe,{imageAttributionUrl:this.props.imageAttributionProps.imageAttributionUrl,imageHorizontalAlignment:this.props.imageAttributionProps.imageHorizontalAlignment,layoutState:this.props.imageAttributionProps.layoutState})}getIrisHotspots(){return void 0===this.props.disableHotspots||!0===this.props.disableHotspots||!this.props.showImageUI||this.props.delayRenderingOfMuseumCard?null:_.a.createElement(Ke,{bingImageDataConnector:this.props.bingImageDataConnector,irisInfo:this.props.irisInfo,onLayoutChangeActionHandler:this.props.onLayoutChangeActionHandler,renderHotspots:this.props.showImageUI&&!this.props.delayRenderingOfMuseumCard,searchIconSvgPath:this.props.searchIconSvgPath,topElementPageId:this.props.topElementPageId,bottomElementPageId:this.props.bottomElementPageId,hideHotspotsOnPeek:this.props.hideHotspotsOnPeek})}renderEnterpriseBackgroundImage(){const{managedClasses:e}=this.props,t=e.BingImage+" "+(this.props.layoutType===a.Edge?e.BingImage_Edge:e.BingImage_EdgeNext);return _.a.createElement(f.a,Object.assign({},this.unhandledProps(),{className:t,id:"backgroundImage2",jssStyleSheet:this.getJssStyleSheet(this.props.backgroundImageSource),url:this.props.backgroundImageSource}))}getIrisMuseumCard(e){return!this.props.showImageUI||this.props.delayRenderingOfMuseumCard||this.props.disableMuseumCard?null:_.a.createElement(Z,{connector:this.props.connector,containerRef:this.museumCardRef,copyrightcreditstext:this.props.imageData?this.props.imageData.copyrightcreditstext:"",copyrighttext:this.props.imageData?this.props.imageData.copyrighttext:"",creditsCardTelemetryTags:this.props.creditsCardTelemetryTags,exitFullViewText:this.props.exitFullViewText,expandIconSvgPath:this.props.expandIconSvgPath,headerExpanded:this.props.headerExpanded,imageExpirationSeconds:this.props.imageExpirationSeconds,irisInfo:this.props.irisInfo,imageUrl:this.props.backgroundImageSource,jssStyleSheet:this.getIrisMemoizedStyles(e,this.props.layoutType,this.props.museumCardPosition,this.props.feedDisplaySetting),layoutType:this.props.layoutType,onClickCallback:this.props.onClickMuseumCardCallback,showCredits:this.props.showMuseumCreditsCard,titleRef:this.museumCardTitleRef})}getJssStyleSheet(e){return e?{backgroundImage:Object.assign(Object.assign({},this.props.cssOverrides),{"background-image":e.startsWith("-webkit")?e+" !important":`url(${e}) !important`})}:null}}lt.defaultProps={experienceName:"BackgroundImageCommon"};var ut=i("hq1N"),gt=i("BBFO");const ht=Object(l.a)(e=>({BingImageRoot:{height:"100%",width:"100%","& #backgroundImage2":{opacity:0}},BingImage:{"background-position":"center","background-repeat":"no-repeat","background-size":"cover",height:"100%",margin:"0",opacity:"1",padding:"0",position:"absolute",transition:"opacity .5s ease 0s",width:"100%"},BingImage_Edge:{background:"center no-repeat #f1f1f1","background-size":"cover"},BingImage_EdgeNext:{"background-color":u.k,"background-repeat":"no-repeat","background-size":"cover"},BingImage_Empty:{"background-color":u.k,height:"100%",position:"absolute",width:"100%"},BingImage_HideImage_Button:{background:"transparent",border:"none",bottom:"0",color:"black",cursor:"pointer",position:"absolute",[Object(h.b)("left","right",e.direction)]:"0","z-index":"1","& svg":{fill:"black",height:"12px","margin-right":"2px",width:"12px",[g.D]:{fill:g.a.buttonText}}},BingImage_HideImage_Button_Expanded:{background:"rgba(0,0,0,.6)","& svg":{fill:"#fff"}},BingImageOverlay:{"background-position-y":"top","background-repeat":"no-repeat","background-size":"cover",height:"100%",opacity:"1",position:"absolute",transition:"opacity .3s linear",width:"100%"},BingImageOverlay_Edge:{"background-image":"linear-gradient(0deg,#f1f1f1 0%,rgba(241,241,241,0) 100%)"},BingImageOverlay_Edge_HeaderSticky:{"background-image":"linear-gradient(0deg,#f1f1f1 0%,rgba(241,241,241,0) 113px)"},BingImageOverlay_EdgeNext:{"background-attachment":"fixed","background-image":"radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%)"},BingImageOverlay_EdgeNext_GradientLinear:{"background-attachment":"fixed","background-image":"radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%),linear-gradient(180deg, rgba(0, 0, 0, 0) 0%,rgba(0, 0, 0, 0) 0% 75%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"},BingImageOverlay_EdgeNext_RecommendedSearch_GradientLinear:{"background-image":"radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%),linear-gradient(0deg, rgba(0, 0, 0, 0) 0%,rgba(0, 0, 0, 0) 0% 73%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)",[Object(h.b)("left","right",e.direction)]:"0",position:"absolute"},BingImageOverlay_EdgeNext_SearchHistory_GradientLinear:{"background-image":"radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%),linear-gradient(180deg, rgba(0, 0, 0, 0) 0%,rgba(0, 0, 0, 0) 0% 75%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%),linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 27% 100%)",[Object(h.b)("left","right",e.direction)]:"0",position:"absolute"},BingImageOverlay_Edge_Expanded:{"background-image":"radial-gradient(ellipse farthest-corner at 50% 20%,rgba(0,0,0,.3) 5%,transparent 50%),linear-gradient(to top right,transparent 80%,rgba(0,0,0,.3) 130%),linear-gradient(to top left,transparent 80%,rgba(0,0,0,.3) 130%),linear-gradient("+Object(h.b)("","-",e.direction)+"7deg,rgba(0,0,0,.35) 3%,transparent 5%)"}}))(lt),pt={reactComponent:ht,experienceConfigSchema:o.BackgroundImageCommonConfigSchema,mockState:gt.mockState,mockConfig:ut.mockBackgroundImageConfig,inspector:d.inspect};var mt,bt=i("05Au");class ft{reduce(e,t){if(!e)return{currentBackgroundImageType:s.a.bing,delayRenderingOfMuseumCard:!0,downloadRestrictedText:"",downloadText:"",enableMuseumCardMouseOver:!1,exitFullViewText:"",headerExpanded:!1,hideImageText:"",imageSource:"",layoutType:a.Edge,nextEnabled:!1,nextImageSource:"",nextText:"",noDownloadText:"",prevEnabled:!1,previousText:"",shareFacebookText:"",shareSkypeText:"",shareTwitterText:"",showBingImageOverlay:!0,showDownloadLink:!1,showImageUI:!0,showMuseumCreditsCard:!1,showPrevAndNextButtons:!1,showSocialButtons:!1};if(!t)return e;let i,n=!1;return n=n||bt.a.handleAction(t,j.a.enableMuseumCardMouseOver,t=>{i=Object.assign(Object.assign({},e),{enableMuseumCardMouseOver:t})}),n=bt.a.handleAction(t,j.a.renderMuseumCard,()=>{i=Object.assign(Object.assign({},e),{delayRenderingOfMuseumCard:!1})}),n=n||bt.a.handleAction(t,j.a.toggleBingImageOverlay,t=>{i=Object.assign(Object.assign({},e),{showBingImageOverlay:t})}),n=n||bt.a.handleAction(t,j.a.toggleHeaderClickHeaderExpanded,t=>{i=Object.assign(Object.assign({},e),{headerExpanded:t})}),n=n||bt.a.handleAction(t,j.a.toggleImageUI,t=>{i=Object.assign(Object.assign({},e),{showImageUI:t})}),n=n||bt.a.handleAction(t,j.a.toggleMuseumCreditsCard,t=>{i=Object.assign(Object.assign({},e),{showMuseumCreditsCard:t})}),n=n||bt.a.handleAction(t,j.a.togglePrevAndNextButtons,t=>{i=Object.assign(Object.assign({},e),{showPrevAndNextButtons:t})}),n=n||bt.a.handleAction(t,j.a.updateBingImageHeight,t=>{i=Object.assign(Object.assign({},e),{imageHeight:t})}),n=bt.a.handleAction(t,j.a.updateBingImageSource,(t,n,a,r)=>{i=Object.assign(Object.assign({},e),{imageData:n,nextImageSource:t,currentBackgroundImageType:a,irisInfo:r})}),n=bt.a.handleAction(t,j.a.updateBingImageSourceStep2,t=>{i=Object.assign(Object.assign({},e),{imageSource:t})}),n=n||bt.a.handleAction(t,j.a.updateLayoutStatus,t=>{i=Object.assign(Object.assign({},e),{feedDisplaySetting:t})}),n=n||bt.a.handleAction(t,j.a.updateRecommendedSearchBingImageOverlayVisibility,t=>{i=Object.assign(Object.assign({},e),{showRecommendedSearchBingImageOverlay:t})}),n=n||bt.a.handleAction(t,j.a.updateSearchHistoryBingImageOverlayVisibility,t=>{i=Object.assign(Object.assign({},e),{showSearchHistoryBingImageOverlay:t})}),n=bt.a.handleAction(t,j.a.updateThemeImageAttribution,(t,n,a)=>{const r={imageAttributionUrl:t,imageHorizontalAlignment:n,layoutState:a};i=Object.assign(Object.assign({},e),{imageAttributionProps:r})}),i||e}}!function(e){e[e.Informational=0]="Informational",e[e.Inspirational=1]="Inspirational"}(mt||(mt={}));class Ct{constructor(e,t,i,n){this.defaultImage="https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBUpVFY.img",this.currentIndex=mt.Informational,this.appError=e,this.connector=t,this.informational=i||this.defaultImage,this.inspirational=n||this.defaultImage}loadBackgroundImage(){this.updateBackgroundImage()}nextImage(){this.appError(E.Nc,"Method not implemented")}prevImage(){this.appError(E.Nc,"Method not implemented")}showImageIndex(e){e<0||e>1?this.appError(E.Mc,"Invalid Image Index"):(this.currentIndex=e,this.updateBackgroundImage())}toggleMuseumCreditsCard(e){this.appError(E.Nc,"Method not implemented")}updateBackgroundImage(){this.currentIndex===mt.Informational?j.a.updateBingImageSource.getActionSender(this.connector).send(this.informational,null,s.a.bing):this.currentIndex===mt.Inspirational?j.a.updateBingImageSource.getActionSender(this.connector).send(this.inspirational,null,s.a.bing):this.appError(E.Mc,"Invalid Image Index")}}var vt=i("rvYQ"),yt=i("XlyT"),St=i("VbA2"),xt=i("Tt+/"),Ot=i("ADRF"),Tt=i("I6Lx"),wt=i("dTwT"),It=i("tMmC");class Et{constructor(e,t,i,n,a,r){this.defaultCopyrightText="",this.defaultTitleText="",this.formCode="",this.imageIndex=0,this.market=Tt.b.Locale,this.pid="",this.storageKeyBingImage="bingImages",this.storedImagesCount=1,this.animating=!1,this.formCode=e,this.appError=a,this.connector=r,this.pid=t,this.defaultCopyrightText=i,this.defaultTitleText=n}updateBackgroundImage(){return Object(x.b)(this,void 0,void 0,(function*(){const e=yield this.getStoredImages();if(e&&e.market===this.market&&e.images&&e.images[this.imageIndex]){this.storedImagesCount=e.images.length;const t=this.getImageMeta(e.images[this.imageIndex]);j.a.updateBingImageSource.getActionSender(this.connector).send(t.url,t,s.a.bing,null,!0)}}))}loadBackgroundImage(){return Object(x.b)(this,void 0,void 0,(function*(){if(vt.b.IsFrePage){this.storedImagesCount=1;const e=this.fallbackBingImage();return void j.a.updateBingImageSource.getActionSender(this.connector).send(e.url,e,s.a.bing)}const e=yield this.getStoredImages();e&&e.images&&(this.storedImagesCount=e.images.length);const t=e&&e.market===this.market&&e.images?this.getImageMeta(e.images[this.imageIndex]):null,i=new Date,n=1e4*i.getFullYear()+100*(i.getMonth()+1)+i.getDate();!t||parseInt(t.enddate)<n||parseInt(t.startdate)!==n?Object(Xe.a)()?this.fetchBingImage():yield this.fetchBingImage():j.a.updateBingImageSource.getActionSender(this.connector).send(t.url,t,s.a.bing)}))}toggleBingImageOverlay(e){j.a.toggleBingImageOverlay.getActionSender(this.connector).send(e)}toggleHideImageButton(e){j.a.toggleImageUI.getActionSender(this.connector).send(e)}toggleMuseumCreditsCard(e){window.clearTimeout(this.museumCardToggleTimer),this.museumCardToggleTimer=window.setTimeout(()=>j.a.toggleMuseumCreditsCard.getActionSender(this.connector).send(e),100)}showImageIndex(e){if(!(e<0||e>this.storedImagesCount-1)){if(Object(Xe.a)()){if(this.animating)return;this.animating=!0,setTimeout(()=>{this.animating=!1},500)}this.imageIndex=e,this.updateBackgroundImage()}}nextImage(){if(0!==this.imageIndex){if(Object(Xe.a)()){if(this.animating)return;this.animating=!0,setTimeout(()=>{this.animating=!1},500)}this.imageIndex--,this.updateBackgroundImage()}}prevImage(){if(this.imageIndex!==this.storedImagesCount-1){if(Object(Xe.a)()){if(this.animating)return;this.animating=!0,setTimeout(()=>{this.animating=!1},500)}this.imageIndex++,this.updateBackgroundImage()}}fetchBingImage(){let e;const t=Object(Xe.a)()?1e4:1e3;return Object(St.a)("https://www.bing.com/HPImageArchive.aspx?idx=0&n=8&format=js&pid="+this.pid+"&mkt="+this.market,t).then(e=>{if(!e.ok)throw e.status+e.statusText;return e.text()}).then(e=>JSON.parse(e)).then(t=>Object(x.b)(this,void 0,void 0,(function*(){if(!t||!t.images)throw"bing image not available in the response.";this.storedImagesCount=t.images.length,e=this.getImageMeta(t.images[0]),t.market=this.market,yield this.storeImages(t),j.a.updateBingImageSource.getActionSender(this.connector).send(e.url,e,s.a.bing)}))).catch(t=>{Object(yt.c)(t,E.I,"Failed to load latest Bing Image Of The Day","https://www.bing.com/HPImageArchive.aspx?idx=0&n=8&format=js&pid="+this.pid+"&mkt="+this.market+" Error message: "+t),this.storedImagesCount=1,e=this.fallbackBingImage(),j.a.updateBingImageSource.getActionSender(this.connector).send(e.url,e,s.a.bing)})}storeImages(e){return Object(x.b)(this,void 0,void 0,(function*(){if(Object(Xe.a)())Object(wt.a)().setObject(this.storageKeyBingImage,e);else{const t=JSON.stringify(e);yield xt.a.set("Background-imageoftheday",t,18e5),It.a.log("BingImageOfTheDaySchema: fetched image from network and saved to server cache.")}}))}getStoredImages(){return Object(x.b)(this,void 0,void 0,(function*(){let e;if(Object(Xe.a)())e=Object(wt.a)().getObject(this.storageKeyBingImage);else if(yield xt.a.has("Background-imageoftheday")){const t=yield xt.a.get("Background-imageoftheday");e=JSON.parse(t),It.a.log("BingImageOfTheDaySchema: getting background image data from server cache.")}return e}))}getImageMeta(e){const t=this.parseCopyrightText(e);let i=new URL(e.copyrightlink);return i=Ot.a.updateSearchParam(i,"form",this.formCode),{enddate:e.enddate,startdate:e.startdate,url:"//www.bing.com"+e.url,copyrighttext:t[0],copyrightcreditstext:t.length>1?t[1]:"",copyrightlink:"javascript:void(0)"===e.copyrightlink?null:i.href,title:e.title,wallpaper:e.wp,market:this.market,fullstartdate:e.fullstartdate,prevenabled:this.imageIndex!==this.storedImagesCount-1,nextenabled:0!==this.imageIndex,downloadurl:"//www.bing.com/hpwp/"+e.hsh}}fallbackBingImage(){return{enddate:"0",startdate:"0",fullstartdate:"0",url:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBUpVFY.img",copyrighttext:this.defaultCopyrightText,copyrightcreditstext:"© UpdogDesigns/iStock/Getty Images Plus",copyrightlink:null,title:this.defaultTitleText,wallpaper:!1,market:this.market,prevenabled:!1,nextenabled:!1,downloadurl:""}}parseCopyrightText(e){const t=e.copyright.split("(");return t.length>1?t[1]=t[1].replace(")",""):this.appError(E.Rb,"Failed to parse copyright string"),t}}var kt=i("WfnD");class jt{constructor(e,t){this.defaultImage="https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BBUpVFY.img",this.appError=e,this.connector=t}loadBackgroundImage(){this.updateBackgroundImage()}nextImage(){this.appError(E.wc,"Called when they are not expected to be")}prevImage(){this.appError(E.wc,"Called when they are not expected to be")}showImageIndex(e){e<0||e>1?this.appError(E.xc,"Invalid Image Index"):this.updateBackgroundImage()}toggleMuseumCreditsCard(e){this.appError(E.wc,"Called when they are not expected to be")}getStoredImages(){return Object(wt.a)().getItem(this.storageKeyEnterpriseImage)?Object(wt.a)().getObject(this.storageKeyEnterpriseImage):this.defaultImage}updateBackgroundImage(){j.a.updateBingImageSource.getActionSender(this.connector).send(this.getStoredImages(),null,s.a.enterprise)}}class Lt extends kt.a{constructor(e,t,i,a,r,o,s){switch(super(e,t,i,a,r,o,s),this.bingImageDataConnector=i.connector(L.a.BingImageData),o.API!==n.FREBackground||vt.b.IsFrePage||(o.fallbackAPI===n.Iris?o.API=n.Iris:o.API=n.BingImageOfTheDay),o.API){case n.BingImageOfTheDay:this.provider=new Et(o.formCode,o.pid,o.localizedStrings.defaultCopyright,o.localizedStrings.defaultTitle,this.reportAppError,this);break;case n.Iris:this.provider=A,A.setup(this,o.localizedStrings.irisDefaultImageCopyText,o.irisDefaultImageUrl,o.localizedStrings.irisDefaultImageTitleText,o.localizedStrings.irisMuseumBarText),A.getImageHotSpotsData();break;case n.FREBackground:o.freImages?this.provider=new Ct(this.reportAppError,this,o.freImages.informational,o.freImages.inspirational):this.provider=new Ct(this.reportAppError,this,null,null);break;case n.EnterpriseBackground:this.provider=new jt(this.reportAppError,this)}}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{provider:this.provider,connector:this,museumCardBottomBuffer:this.museumCardBuffer,recommendedSitesEnabled:this.recommendedSitesPresent,bingImageDataConnector:this.bingImageDataConnector}},i=d.inspect(t);(this.config.API===n.BingImageOfTheDay&&this.config.layoutType===a.EdgeNext||this.config.API===n.Iris)&&(i.props.onClickMuseumCardCallback=t=>{if(t&&t.preventDefault(),this.config.layoutType===a.EdgeNext){const t=()=>{this.onClickMuseumCard(!1),window.removeEventListener("scroll",t)};e.headerExpanded||window.addEventListener("scroll",t)}this.onClickMuseumCard(!e.headerExpanded)});return Object.assign(Object.assign({},i.props),this.telemetryTags)}onComponentConnect(e){return Object(x.b)(this,void 0,void 0,(function*(){Object(Xe.a)()?kt.a.prototype.onComponentConnect.call(this,e):yield kt.a.prototype.onComponentConnect.call(this,e),this.museumCardBuffer=e&&e.context&&e.context.pivotsRowHeight,this.recommendedSitesPresent=e&&e.context&&e.context.recommendedSitesEnabled,Object(P.j)().then(()=>{j.a.renderMuseumCard.getActionSender(this).send()}),j.a.updateBingImageSource.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0];if(!i)return;if(t[4]){const e=new Image;e.onload=()=>{window.requestAnimationFrame(()=>{const e=document.getElementById("backgroundImage2");e&&(e.style.opacity="0"),setTimeout(()=>{j.a.updateBingImageSourceStep2.getActionSender(this).send(i),e&&(e.style.opacity="1")},500)})},e.src=i}else if(Object(Xe.a)()&&!window.needsHydrate){const e=new Image;e.onload=()=>{j.a.updateImageDownloadComplete.getActionSender(this).send(!0),j.a.updateBingImageSourceStep2.getActionSender(this).send(i)},e.onerror=()=>{j.a.updateImageDownloadComplete.getActionSender(this).send(!1),j.a.updateBingImageSourceStep2.getActionSender(this).send(i)},e.src=i}else j.a.updateBingImageSourceStep2.getActionSender(this).send(i)}),j.a.updateLayoutStatus.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0];this.config.API===n.FREBackground&&this.updateBackgroundImage(i),this.bingImageDataConnector&&this.bingImageDataConnector.updateHeaderExpandedStatus(!1)})}))}updateBackgroundImage(e){return Object(x.b)(this,void 0,void 0,(function*(){this.config.API===n.FREBackground?"always"===e?this.provider.showImageIndex(mt.Informational):this.provider.showImageIndex(mt.Inspirational):this.config.API===n.BingImageOfTheDay?Object(Xe.a)()?this.provider.loadBackgroundImage():yield this.provider.loadBackgroundImage():this.config.API===n.Iris&&this.provider.loadImageHotSpots()}))}onClickMuseumCard(e){this.bingImageDataConnector&&this.bingImageDataConnector.updateHeaderExpandedStatus(e)}}class Dt extends Lt{mapStateToProps(e){return super.mapStateToProps(e)}}var Bt=i("jE1l"),Pt=i("Zn5T");var At=i("y+Kz"),Ht=i("+8mm"),Mt=i("9PP5"),_t=i("19qY"),Rt=i("JMAy"),Nt=i("OhtH"),Ft=i("lXoh"),Ut=i("qReY");const Vt=Pt.a.backgroundImageEdgeNext;class zt extends Dt{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.isLayoutAnimationStarted=!1,this.isImageDownloaded=!1,this.hasVisuallyReadyMilestone=!1,this.focusRedirectEnabled=!1,this.themeImageDisplayed=!1,this.renderIfOffline=!0,this.pageSettingsDataConnector=i.connector(L.a.ChromiumPageSettings),qe.a.updateHeaderExpandedState.registerObserver(this.updateOnHeaderExpandState.bind(this)),qe.a.updateLayoutStatus.registerObserver(this.onLayoutStatusUpdate.bind(this))}mapStateToProps(e){const t=Object.assign(Object.assign({},super.mapStateToProps(e)),{bottomElementPageId:"c_ql",cssOverrides:this.cssOverrides,creditsCardTelemetryTags:this.creditsCardTelemetryTags,museumCardTelemetryTags:this.museumCardTelemetryTags,museumCardLinkTelemetryTags:this.museumCardLinkTelemetryTags,museumCardButtonPreviousTelemetryTags:this.museumCardButtonPreviousTelemetryTags,museumCardButtonNextTelemetryTags:this.museumCardButtonNextTelemetryTags,onLayoutChangeActionHandler:le.a.updateLayout,reportAppError:this.reportAppError,showImageUI:!this.themeImageDisplayed,skipOverlay:this.themeImageDisplayed,topElementPageId:"c_srch",ttvrExperienceId:Pt.a.backgroundImageEdgeNext}),i=this.pageSettingsDataConnector.getCurrentState();return i&&i.peekHeight&&(t.museumCardBottomBuffer=i.peekHeight+50),t}onComponentConnect(e){return Object(x.b)(this,void 0,void 0,(function*(){Lt.prototype.onComponentConnect.call(this,e);const t=this.config.fallbackAPI===n.Iris?"FeedbackMuseumCard":"creditscard";if(this.telemetryObject&&(this.museumCardTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"museumcard",behavior:R.c.Navigate}).render(),this.museumCardLinkTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"museumcard_link",behavior:R.c.Navigate,content:{headline:""}}).render(),this.creditsCardTelemetryTags=this.telemetryObject.addOrUpdateChild({name:t,behavior:R.c.Navigate}).render(),this.museumCardButtonPreviousTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"MuseumCardButtonPrevious",action:R.b.Click,behavior:R.c.More}).render(),this.museumCardButtonNextTelemetryTags=this.telemetryObject.addOrUpdateChild({name:"MuseumCardButtonNext",action:R.b.Click,behavior:R.c.More}).render()),_t.a.layoutAnimationComplete.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||j.a.updateBingImageHeight.getActionSender(this).send(t[0].height)}),j.a.updateImageDownloadComplete.registerObserver(e=>{this.hasVisuallyReadyMilestone||(this.tryMarkVisuallyReadyMilestone(this.getIsLayoutAnimationStarted(),!0),this.isImageDownloaded=!0)}),_t.a.layoutAnimationStart.registerObserver(()=>{this.hasVisuallyReadyMilestone||(this.tryMarkVisuallyReadyMilestone(!0,this.getIsImageDownloaded()),this.isLayoutAnimationStarted=!0)}),le.a.updateLayout.registerObserver(e=>{const t=(e&&e.params)[0];this.updateImageFromPageSettings(t)}),this.pageSettingsDataConnector){const e=yield this.pageSettingsDataConnector.getPageSettingsStateAsync();j.a.updateLayoutStatus.getActionSender(this).send(e.selectedFeedDisplaySetting);let t=e&&e.configData;if(void 0===t&&(t=yield this.pageSettingsDataConnector.getConfigDataAsync()),this.updateImageFromPageSettings(e),this.config.showRecommendedSearchBingImageOverlay){if(this.focusRedirectEnabled=t&&t.inPageSearchBoxType===Bt.b.redirect,this.focusRedirectEnabled)return;this.registerObserverUpdateLayout(),this.registerObserverRecommendedSearchToggleUpdated(),this.registerObserverHideRecommendedSearchContextMenu(),this.pageSettingsDataConnector.getLayoutStateAsync().then(e=>{const t=e.currentLayout,i=Object(wt.a)().getObject(At.y,!0);(e.imageOfTheDayEnabled&&t===s.i.inspirational||e.imageOfTheDayEnabled&&t===s.i.custom&&"always"!==e.selectedFeedDisplaySetting)&&i?j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!0):j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!1)})}if(this.config.showSearchHistoryBingImageOverlaySelectiveMode||this.config.showSearchHistoryBingImageOverlayAllMode){if(this.focusRedirectEnabled=t&&t.inPageSearchBoxType===Bt.b.redirect,this.focusRedirectEnabled)return;this.registerObserverUpdateLayoutForSearchHistory(),this.registerObserverHideSearchHistoryContextMenu(),this.registerObserverSearchHistoryToggleUpdated(),this.pageSettingsDataConnector.getLayoutStateAsync().then(e=>{const t=Object(wt.a)().getObject(At.A,!0),i=e.imageOfTheDayEnabled&&(this.config.showSearchHistoryBingImageOverlayAllMode||this.config.showSearchHistoryBingImageOverlaySelectiveMode&&"always"!==e.selectedFeedDisplaySetting);j.a.updateSearchHistoryBingImageOverlayVisibility.getActionSender(this).send(i&&t)})}}Object(P.j)().then(()=>{})}))}getIsLayoutAnimationStarted(){return this.isLayoutAnimationStarted}getIsImageDownloaded(){return this.isImageDownloaded||window.needsHydrate}tryMarkVisuallyReadyMilestone(e,t){if(!e||!t)return;this.hasVisuallyReadyMilestone=!0,Object(Ut.a)()||"hidden"===document.visibilityState||Mt.b.logEvent(Mt.a.NTP_BACKGROUND_IMAGE_LOADED);const i=Object(P.g)();i&&Ht.a.updateVisuallyReadyTiming.getActionSender(i).send(Object(P.c)(Vt,void 0,void 0,void 0,window.performance.now()))}reportAppError(e,t){ye.a.sendAppErrorEvent(Object.assign(Object.assign({},e),{message:t}))}updateImageFromPageSettings(e){const{configData:t,currentBackgroundImageType:i,customBackgroundImageInfo:n,ntpTheme:a}=e,r=t&&t.enabledFeatures&&t.enabledFeatures.includes("msAllowThemeInstallationFromChromeStore");if(this.themeImageDisplayed=i===s.a.theme&&r&&a&&!a.usingDefaultTheme,this.themeImageDisplayed)return a.imageUrl&&(j.a.updateBingImageSource.getActionSender(this).send(a.imageUrl,null,null),this.cssOverrides={"background-position":`${a.imageHorizontalAlignment} ${a.imageVerticalAlignment}`,"background-repeat":a.imageTiling},"repeat"===a.imageTiling&&(this.cssOverrides["background-size"]="auto")),void(a.attributionUrl&&j.a.updateThemeImageAttribution.getActionSender(this).send(a.attributionUrl,a.imageHorizontalAlignment,e));this.cssOverrides=null,i===s.a.custom&&n&&n.hasImage?j.a.updateBingImageSource.getActionSender(this).send(n.resourceUrl,null,i):i===s.a.off?j.a.updateBingImageSource.getActionSender(this).send(null,null,i):this.updateBackgroundImage(e.selectedFeedDisplaySetting)}onLayoutStatusUpdate(e){const t=e&&e.params;if(!t||!t.length)return;const i=t[0];j.a.updateLayoutStatus.getActionSender(this).send(i)}updateOnHeaderExpandState(e){const t=e&&e.params;if(!t||!t.length)return;const i=t[0];this.bingImageDataConnector&&(j.a.toggleMuseumCreditsCard.getActionSender(this).send(i),j.a.toggleBingImageOverlay.getActionSender(this).send(!i),j.a.togglePrevAndNextButtons.getActionSender(this).send(i),j.a.toggleHeaderClickHeaderExpanded.getActionSender(this).send(i))}registerObserverUpdateLayout(){le.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0],n=Object(wt.a)().getObject(At.y,!0),a=i.currentLayout,r=i.imageOfTheDayEnabled&&a===s.i.inspirational||i.imageOfTheDayEnabled&&a===s.i.custom&&"always"!==i.selectedFeedDisplaySetting;this.focusRedirectEnabled?j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!1):r&&n?j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!0):j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!1)})}registerObserverUpdateLayoutForSearchHistory(){le.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0],n=Object(wt.a)().getObject(At.A,!0),a=i.imageOfTheDayEnabled&&(this.config.showSearchHistoryBingImageOverlayAllMode||this.config.showSearchHistoryBingImageOverlaySelectiveMode&&"always"!==i.selectedFeedDisplaySetting);this.focusRedirectEnabled?j.a.updateSearchHistoryBingImageOverlayVisibility.getActionSender(this).send(!1):j.a.updateSearchHistoryBingImageOverlayVisibility.getActionSender(this).send(n&&a)})}registerObserverRecommendedSearchToggleUpdated(){Ft.a.recommendedSearchToggleUpdated.registerObserver(e=>{const t=e&&e.params,i=t.length>1&&t[1];if(!t||t.length<1||i)return;const n=t[0];j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(n)})}registerObserverHideRecommendedSearchContextMenu(){Rt.a.hideRecommendedSearch.registerObserver(e=>{j.a.updateRecommendedSearchBingImageOverlayVisibility.getActionSender(this).send(!1)})}registerObserverSearchHistoryToggleUpdated(){Ft.a.searchHistoryToggleUpdated.registerObserver(e=>{const t=e&&e.params,i=t.length>1&&t[1];if(!t||t.length<1||i)return;const n=t[0];j.a.updateSearchHistoryBingImageOverlayVisibility.getActionSender(this).send(n)})}registerObserverHideSearchHistoryContextMenu(){Nt.a.hideSearchHistory.registerObserver(e=>{j.a.updateSearchHistoryBingImageOverlayVisibility.getActionSender(this).send(!1)})}}const Gt=ht,qt={reactComponent:ht,experienceConfigSchema:pt.experienceConfigSchema,mockState:pt.mockState,mockConfig:pt.mockConfig,inspector:pt.inspector}},"9tDq":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ERkP"),a=i.n(n),r=i("4Ixr");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M14.1016 1.60156L8.20312 7.5L14.1016 13.3984L13.3984 14.1016L7.5 8.20312L1.60156 14.1016L0.898438 13.3984L6.79688 7.5L0.898438 1.60156L1.60156 0.898438L7.5 6.79688L13.3984 0.898438L14.1016 1.60156Z"}))}}},Ahgr:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.renderRecommendedSearch=new n.a("SetData")},BBFO:function(e,t){},Cmru:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("+viU"),a=i("mKi5"),r=i("h33R");const o=Object(n.a)(a.a)(r.default)},EQZC:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));var n=i("XgsJ");const a="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==)";function r(e,t,i){if((()=>{const e=Object(n.n)();return e&&(e.match(/backgroundpreload/)||e.match(/prerender/))&&"hidden"===document.visibilityState})())return!1;if(!function(e){try{if(!e)return!1;if(!e.supportedEntryTypes)return!1;if(!e.supportedEntryTypes.includes("element"))return!1}catch(e){return!1}return!0}(e))return!1;if(!t)return!1;if("function"!=typeof i)return!1;return new e((e,n)=>{e.getEntries().forEach((function(e){e.identifier===t&&(i(e),n.disconnect())}))}).observe({type:"element",buffered:!0}),!0}},F4Bu:function(e,t){},FUtr:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ERkP"),a=i.n(n),r=i("4Ixr");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M14 3H13V14.5C13 14.7083 12.9609 14.9036 12.8828 15.0859C12.8047 15.2682 12.6979 15.4271 12.5625 15.5625C12.4271 15.6979 12.2682 15.8047 12.0859 15.8828C11.9036 15.9609 11.7083 16 11.5 16H3.5C3.29167 16 3.09635 15.9609 2.91406 15.8828C2.73177 15.8047 2.57292 15.6979 2.4375 15.5625C2.30208 15.4271 2.19531 15.2682 2.11719 15.0859C2.03906 14.9036 2 14.7083 2 14.5V3H1V2H5V1C5 0.859375 5.02604 0.729167 5.07812 0.609375C5.13021 0.489583 5.20052 0.385417 5.28906 0.296875C5.38281 0.203125 5.48958 0.130208 5.60938 0.078125C5.72917 0.0260417 5.85938 0 6 0H9C9.14062 0 9.27083 0.0260417 9.39062 0.078125C9.51042 0.130208 9.61458 0.203125 9.70312 0.296875C9.79688 0.385417 9.86979 0.489583 9.92188 0.609375C9.97396 0.729167 10 0.859375 10 1V2H14V3ZM6 2H9V1H6V2ZM12 3H3V14.5C3 14.6354 3.04948 14.7526 3.14844 14.8516C3.2474 14.9505 3.36458 15 3.5 15H11.5C11.6354 15 11.7526 14.9505 11.8516 14.8516C11.9505 14.7526 12 14.6354 12 14.5V3ZM6 13H5V5H6V13ZM8 13H7V5H8V13ZM10 13H9V5H10V13Z"}))}}},"Fg+o":function(e,t){},Fpjf:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"d",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return l})),i.d(t,"g",(function(){return g})),i.d(t,"f",(function(){return h})),i.d(t,"e",(function(){return m}));var n=i("aHCm"),a=i("HDSB"),r=i("0hJ9");let o;var s,c;!function(e){e.JPG="jpg",e.PNG="png"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Letterbox=1]="Letterbox",e[e.Scale=2]="Scale",e[e.Stretch=3]="Stretch",e[e.Crop=4]="Crop",e[e.FocalCrop=5]="FocalCrop",e[e.FacialCrop=6]="FacialCrop"}(c||(c={}));const d=90,l="www.bing.com/th",u=new RegExp(/bing.(com|net)\/th/);function g(e,t){return h(n.a.prod+e,t)}function h(e,t){if(e&&u.test(e))return m(e,t);const{focalRegion:i,backgroundColor:n}=t;let{width:c=0,height:d=0,format:l=s.JPG}=t,g="";if(i){const e=b(i.x1,i.x2),t=b(i.y1,i.y2);null!=e&&null!=t&&(g+=`&x=${e}&y=${t}`)}n&&(g+="&b="+n);const h=null==t.mode?6:t.mode;if(6===h&&(g+="&u=t"),t.enableDpiScaling){if(!t.devicePixelRatio)throw new Error("A valid devicePixelRatio value must be provided when DPI scaling is enabled");const e=function(e){if(Object(a.a)()&&o)return o;if(e<1)return null;let t=e;Object(r.a)(4*t)||(t=Math.ceil(10*t)/10);t>3&&(t=3);Object(a.a)()&&(o=t);return t}(t.devicePixelRatio);e&&(c=Math.round(c*e),d=Math.round(d*e))}return`${e}?w=${c}&h=${d}&q=${t.quality||60}&m=${h}&f=${l}${g}`}function p(e,t){const{width:i=0,height:n=0}=t,a=t.quality||d;return e.searchParams.set("w",""+i),e.searchParams.set("h",""+n),e.searchParams.set("qlt",""+a),e.searchParams.set("c","1"),e.searchParams.set("rs","1"),t.enableDpiScaling&&(e.searchParams.set("dpr",""+t.devicePixelRatio),e.searchParams.set("p","0")),e}function m(e,t){try{return p(new URL(e),t).href}catch(i){const n=p(new URL("https://"+e),t);return`//${n.host}${n.pathname}${n.search}`}}function b(e,t){if(null!=e&&null!=t)return Math.floor((e+t)/2)}},"Gh/O":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ERkP"),a=i.n(n),r=i("4Ixr");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M11.2734 15.9766L3.28906 8L11.2734 0.0234375L11.9766 0.726562L4.71094 8L11.9766 15.2734L11.2734 15.9766Z"}))}}},IATt:function(e,t,i){"use strict";var n=i("ERkP"),a=i("r6MD"),r=i("OnwC");class o extends r.a{renderTitleText(e){return"string"==typeof Object(a.a)(e,"titleText")?n.createElement("title",null,Object(a.a)(e,"titleText")):null}}o.defaultProps={viewBox:"0 0 16 16",width:"16px",height:"16px",xmlns:"http://www.w3.org/2000/svg"},t.a=o},JIHU:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("+viU"),a=i("QuHq"),r=i("5RNZ");const o=Object(n.a)(a.a)(r.default)},JMAy:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("G82u"),a=i("Ahgr");class r extends a.a{}r.toggleContextMenuVisibility=new n.a("ToggleContextMenuVisibility"),r.updateRecommendedSearchVisibility=new n.a("UpdateRecommendedSearchVisibility"),r.changePrivacyDialogState=new n.a("ChangePrivacyDialogState"),r.hideRecommendedSearch=new n.a("HideRecommendedSearch")},KqfB:function(e,t){},LNHN:function(e,t,i){"use strict";(function(t){function i(e){a.length||(n(),!0),a[a.length]=e}e.exports=i;var n,a=[],r=0;function o(){for(;r<a.length;){var e=r;if(r+=1,a[e].call(),r>1024){for(var t=0,i=a.length-r;t<i;t++)a[t]=a[t+r];a.length-=r,r=0}}a.length=0,r=0,!1}var s,c,d,l=void 0!==t?t:self,u=l.MutationObserver||l.WebKitMutationObserver;function g(e){return function(){var t=setTimeout(n,0),i=setInterval(n,50);function n(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof u?(s=1,c=new u(o),d=document.createTextNode(""),c.observe(d,{characterData:!0}),n=function(){s=-s,d.data=s}):n=g(o),i.requestFlush=n,i.makeRequestCallFromTimer=g}).call(this,i("fRV1"))},LOMp:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("+viU"),a=i("7JxJ"),r=i("cSKQ"),o=i("yR4y");const s=Object(n.a)(a.a)(r.default);s.displayName=o.a+"LightweightButton"},OhtH:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("G82u"),a=i("a5dx");class r extends a.a{}r.updateSearchHistoryVisibility=new n.a("UpdateSearchHistoryVisibility"),r.updateSearchHistoryColor=new n.a("UpdateSearchHistoryColor"),r.experienceLoaded=new n.a("SearchHistoryExperienceLoaded"),r.toggleContextMenuVisibility=new n.a("ToggleContextMenuVisibility"),r.hideSearchHistory=new n.a("HideSearchHistory"),r.fetchSearchHistory=new n.a("FetchSearchHistory"),r.changePrivacyDialogState=new n.a("ChangePrivacyDialogState"),r.updateEdgeNextLayoutMode=new n.a("UpdateEdgeNextLayoutMode")},OxLm:function(e,t){},Pu0A:function(e,t){e.exports=function(e,t,i,n){var a=i?i.call(n,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<r.length;c++){var d=r[c];if(!s(d))return!1;var l=e[d],u=t[d];if(!1===(a=i?i.call(n,l,u,d):void 0)||void 0===a&&l!==u)return!1}return!0}},QGS5:function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),r=i("OnwC"),o=i("o1qX");class s extends r.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0}}render(){return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.props.children)}generateClassNames(){return super.generateClassNames(Object(o.a)(this.props.managedClasses.topSites))}}s.displayName="TopSites",s.defaultProps={managedClasses:{}},t.default=s},QmKr:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"AutoSuggestDelayBinding",(function(){return n})),i.d(t,"SearchBoxEdgeNext",(function(){return Fe})),i.d(t,"SearchBoxEdgeNextActions",(function(){return ie})),i.d(t,"SearchBoxEdgeNextBaseConnector",(function(){return Ie})),i.d(t,"SearchBoxEdgeNextConnector",(function(){return Ae})),i.d(t,"SearchBoxEdgeNextBaseInspector",(function(){return ve})),i.d(t,"SearchBoxEdgeNextReducer",(function(){return Me})),i.d(t,"ToolingInfo",(function(){return Ue})),function(e){e[e.Immediately=0]="Immediately",e[e.OnPageLoad=1]="OnPageLoad",e[e.OnUserInteraction=2]="OnUserInteraction",e[e.OnBusinessSearchResultsReady=3]="OnBusinessSearchResultsReady"}(n||(n={}));var a=i("5mwN"),r=i("Jw3B"),o=i("6u3Q"),s=i("MZhw"),c=i("aP31"),d=i("objN"),l=i("7b0X"),u=i("7FLv"),g=i("zeXT"),h=i("SP+O"),p=i("ERkP"),m=i.n(p),b=i("+viU"),f=i("ADRF"),C=i("gQ7Y"),v=i("OnwC"),y=i("Lfgt"),S=i("XgsJ");class x extends v.a{constructor(e){super(e),this.handledProps={action:void 0,actionElement:void 0,button:void 0,buttonContainerRef:void 0,formParameters:void 0,fakeFocusElement:void 0,formRef:void 0,imageButtonTitle:void 0,imageSearchButton:void 0,imageSearchExperience:void 0,input:void 0,inputContainerRef:void 0,inputRef:void 0,logo:void 0,managedClasses:void 0,target:void 0,voiceButtonTitle:void 0,enablePreloadVoiceSearchBtn:void 0,voiceSearchButton:void 0,voiceSearchExperience:void 0}}render(){const{form:e,alignSearchElements:t,inputContainer:i,input:n,buttonContainer:a,button:r}=this.props.managedClasses;return m.a.createElement("form",Object.assign({},this.unhandledProps(),{id:"srchfrm",role:"search",action:this.props.action,target:this.props.target,method:"get",className:this.generateClassNames(e),ref:this.props.formRef}),m.a.createElement("div",{className:t},m.a.createElement("div",{className:i,ref:this.props.inputContainerRef},this.props.fakeFocusElement,m.a.createElement("input",Object.assign({},this.props.input,{id:"q",accessKey:"S",type:y.a.search,className:n,ref:this.props.inputRef}))),m.a.createElement("div",{className:a,ref:this.props.buttonContainerRef},this.props.logo,this.props.voiceSearchButton,this.props.imageSearchButton,m.a.createElement(C.default,Object.assign({},this.props.button,{id:"sb_form_go",className:r}),this.props.actionElement)),this.props.voiceSearchExperience,this.props.imageSearchExperience),this.getHiddenInputElements(),this.getHiddenPcElementFromQueryString())}getHiddenInputElements(){if(Array.isArray(this.props.formParameters)&&this.props.formParameters.length)return this.props.formParameters.map((e,t)=>m.a.createElement("input",{key:"hiddenEl_"+t,name:e.name,type:"hidden",value:e.value}))}getHiddenPcElementFromQueryString(){const e=f.a.getParamsFromUrl(Object(S.n)());if(!e||!e.length)return;const t=e.find(e=>"pc"===e.key.toLowerCase());return t&&t.value?m.a.createElement("input",{key:"pcHiddenElement",name:t.key.toLowerCase(),type:"hidden",value:t.value}):void 0}}var O=i("HZZz"),T=i("XI4f"),w=i("rRWH");function I(e){return{float:Object(w.b)("left","right",e.direction)}}const E=Object(b.a)(e=>({alignSearchElements:{background:s.a,border:"none","border-radius":"inherit",height:"100.1%"},button:{"background-color":"rgba(0, 120, 215, .8)",border:"none",color:"#FFF",cursor:"pointer",float:Object(w.b)("left","right",e.direction),"font-size":"15px","font-weight":""+O.fontWeight.normal,height:"100%",overflow:"hidden","text-align":"center","@media screen and (-ms-high-contrast)":{border:".1rem solid","&:hover":{"border-color":"Highlight",color:"Highlight"}}},buttonContainer:{height:"100%",overflow:"hidden",position:"absolute",[Object(w.b)("right","left",e.direction)]:"0px"},form:{background:e.backgroundColor,border:"solid 1px #9f9f9f","box-sizing":"border-box",height:"44px",outline:"none",position:"relative","&:hover":{"border-color":"#000"},"&:focus":{"border-color":"#000"}},inputContainer:Object.assign(Object.assign({background:s.a,"box-sizing":"border-box"},I(e)),{height:"100%",width:"100%"}),input:{background:"transparent",border:"0","box-sizing":"border-box","font-size":"15px","font-weight":""+O.fontWeight.normal,height:"100%",outline:"0",padding:Object(w.d)(e.direction)("0 10px 0 11px"),"text-overflow":"ellipsis",width:"100%","&::-ms-clear":{display:"none"},"&::-webkit-search-cancel-button":{display:"none"},"&::placeholder":{color:T.a}}}))(x);var k=i("EQZC"),j=i("HxRh"),L=i("Am8i"),D=i("u5KZ"),B=i("L1Sn"),P=i("rvYQ");const A=(e,t,i)=>m.a.createElement("svg",{viewBox:"0 0 22 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:i||null,className:e,onClick:t},m.a.createElement("g",{clipPath:"url(#clip0)"},m.a.createElement("path",{d:"M21.6341 20.3822C21.6341 20.6972 21.617 21.0105 21.5827 21.3192C21.379 23.2023 20.5641 24.905 19.3373 26.222C19.4919 26.0503 19.6312 25.8659 19.7533 25.6685C19.8475 25.5184 19.9313 25.362 20.0021 25.1989C20.0278 25.1452 20.0512 25.0894 20.0706 25.0339C20.094 24.9803 20.1134 24.9244 20.1306 24.869C20.1499 24.8176 20.1671 24.7639 20.1819 24.7103C20.1968 24.6544 20.2121 24.599 20.2247 24.5431C20.227 24.5368 20.2293 24.53 20.2311 24.5237C20.2441 24.4678 20.2545 24.4124 20.2653 24.3565C20.2761 24.2988 20.2869 24.2407 20.2955 24.183C20.2955 24.1807 20.2955 24.1807 20.2955 24.1789C20.3041 24.1253 20.3104 24.0717 20.3149 24.0158C20.328 23.8891 20.3343 23.7629 20.3343 23.634C20.3343 22.9093 20.1346 22.2292 19.7853 21.6505C19.706 21.5153 19.6181 21.3868 19.5216 21.2647C19.4081 21.1186 19.2859 20.9816 19.153 20.855C18.8226 20.5354 18.4368 20.2736 18.01 20.0892C17.8256 20.0077 17.6327 19.9414 17.4353 19.8918C17.4331 19.8918 17.429 19.8896 17.4268 19.8896L17.3583 19.8661L16.3591 19.5232V19.5209L13.745 18.6222C13.7364 18.6199 13.7256 18.6199 13.7193 18.6181L13.5561 18.5582C13.0306 18.3522 12.5952 17.9664 12.323 17.4752L11.3689 15.0409L10.275 12.2528L10.065 11.7147L10.0113 11.6052C9.9514 11.4592 9.91895 11.3005 9.91895 11.1356C9.91895 11.0927 9.91895 11.0499 9.92345 11.0112C9.98565 10.3977 10.5067 9.9173 11.1372 9.9173C11.3044 9.9173 11.4653 9.95155 11.6113 10.0137L16.4826 12.5116L17.4435 13.0028C17.9518 13.3052 18.4255 13.6613 18.8587 14.0624C20.4285 15.5038 21.4579 17.5238 21.6125 19.7823C21.6255 19.9815 21.6341 20.1807 21.6341 20.3822V20.3822Z",fill:"url(#paint0_linear)"}),m.a.createElement("path",{d:"M20.3318 23.6336C20.3318 23.8824 20.3084 24.1226 20.2651 24.3565C20.252 24.4187 20.2394 24.4809 20.2245 24.5431C20.1966 24.6544 20.1668 24.7617 20.1303 24.869C20.111 24.9249 20.0916 24.9803 20.0704 25.0339C20.0488 25.0898 20.0253 25.1434 20.0019 25.1989C19.9311 25.362 19.8473 25.5184 19.7531 25.6685C19.631 25.8659 19.4912 26.0503 19.3371 26.222C18.6272 27.0071 16.2164 28.407 15.3281 28.9758L13.3558 30.181C11.9108 31.0716 10.5443 31.7016 8.82216 31.7445C8.74058 31.7467 8.66126 31.749 8.58194 31.749C8.47061 31.749 8.36109 31.7467 8.25157 31.7427C5.33506 31.6313 2.79129 30.0656 1.3247 27.7517C0.653599 26.6943 0.209655 25.4806 0.0595703 24.1767C0.374613 25.9588 1.92774 27.31 3.79996 27.31C4.45619 27.31 5.07185 27.145 5.60999 26.853C5.61405 26.8507 5.61856 26.8485 5.62306 26.8467L5.81596 26.7308L6.60109 26.2675L7.6003 25.6757V25.6478L7.7292 25.5707L16.6703 20.2736L17.3585 19.8661L17.427 19.8896C17.4293 19.8896 17.4333 19.8918 17.4356 19.8918C17.633 19.941 17.8259 20.0077 18.0102 20.0892C18.437 20.2736 18.8228 20.5354 19.1532 20.855C19.2862 20.9816 19.4083 21.1187 19.5219 21.2647C19.6183 21.3868 19.7062 21.5157 19.7855 21.6505C20.1321 22.2287 20.3318 22.9089 20.3318 23.6336V23.6336Z",fill:"url(#paint1_linear)"}),m.a.createElement("path",{d:"M7.60293 5.95561L7.59977 25.6748L6.60056 26.267L5.81499 26.7299L5.62163 26.8471C5.61848 26.8471 5.61262 26.8503 5.60992 26.853C5.07087 27.1432 4.45521 27.3104 3.79854 27.3104C1.92586 27.3104 0.375437 25.9592 0.0585915 24.1771C0.0437183 24.0951 0.0324507 24.0099 0.0234366 23.9279C0.0117183 23.7724 0.00315493 23.6201 0 23.4646V1.27189C0 0.571493 0.568789 0 1.27189 0C1.53555 0 1.78163 0.0820282 1.984 0.216789L5.87313 2.75786C5.89386 2.77544 5.91684 2.79031 5.94073 2.80473C6.94625 3.4907 7.60293 4.64541 7.60293 5.95561V5.95561Z",fill:"url(#paint2_linear)"}),m.a.createElement("path",{opacity:"0.15",d:"M20.3318 23.6336C20.3318 23.8824 20.3084 24.1226 20.2651 24.3565C20.252 24.4187 20.2394 24.4809 20.2245 24.5431C20.1966 24.6544 20.1668 24.7617 20.1303 24.869C20.111 24.9249 20.0916 24.9803 20.0704 25.0339C20.0488 25.0898 20.0253 25.1434 20.0019 25.1989C19.9311 25.362 19.8473 25.5184 19.7531 25.6685C19.631 25.8659 19.4917 26.0503 19.3371 26.222C18.6272 27.0071 16.2164 28.407 15.3281 28.9758L13.3558 30.181C11.9108 31.0716 10.5443 31.7016 8.82216 31.7445C8.74058 31.7467 8.66126 31.749 8.58194 31.749C8.47061 31.749 8.36109 31.7467 8.25157 31.7427C5.33506 31.6313 2.79129 30.0656 1.3247 27.7517C0.653599 26.6943 0.209655 25.4806 0.0595703 24.1767C0.374613 25.9588 1.92774 27.31 3.79996 27.31C4.45619 27.31 5.07185 27.145 5.60999 26.853C5.61405 26.8507 5.61856 26.8485 5.62306 26.8467L5.81596 26.7308L6.60109 26.2675L7.6003 25.6757V25.6478L7.7292 25.5707L16.6703 20.2736L17.3585 19.8661L17.427 19.8896C17.4293 19.8896 17.4333 19.8918 17.4356 19.8918C17.633 19.941 17.8259 20.0077 18.0102 20.0892C18.437 20.2736 18.8228 20.5354 19.1532 20.855C19.2862 20.9816 19.4083 21.1187 19.5219 21.2647C19.6183 21.3868 19.7062 21.5157 19.7855 21.6505C20.1321 22.2287 20.3318 22.9089 20.3318 23.6336V23.6336Z",fill:"url(#paint3_linear)"}),m.a.createElement("path",{opacity:"0.1",d:"M7.60293 5.95561L7.59977 25.6748L6.60056 26.267L5.81499 26.7299L5.62163 26.8471C5.61848 26.8471 5.61262 26.8503 5.60992 26.853C5.07087 27.1432 4.45521 27.3104 3.79854 27.3104C1.92586 27.3104 0.375437 25.9592 0.0585915 24.1771C0.0437183 24.0951 0.0324507 24.0099 0.0234366 23.9279C0.0117183 23.7724 0.00315493 23.6201 0 23.4646V1.27189C0 0.571493 0.568789 0 1.27189 0C1.53555 0 1.78163 0.0820282 1.984 0.216789L5.87313 2.75786C5.89386 2.77544 5.91684 2.79031 5.94073 2.80473C6.94625 3.4907 7.60293 4.64541 7.60293 5.95561V5.95561Z",fill:"url(#paint4_linear)"})),m.a.createElement("defs",null,m.a.createElement("linearGradient",{id:"paint0_linear",x1:"8.22272",y1:"13.7422",x2:"22.1525",y2:"21.7846",gradientUnits:"userSpaceOnUse"},m.a.createElement("stop",{stopColor:"#37BDFF"}),m.a.createElement("stop",{offset:"0.1832",stopColor:"#33BFFD"}),m.a.createElement("stop",{offset:"0.3576",stopColor:"#28C5F5"}),m.a.createElement("stop",{offset:"0.528",stopColor:"#15D0E9"}),m.a.createElement("stop",{offset:"0.5468",stopColor:"#12D1E7"}),m.a.createElement("stop",{offset:"0.5903",stopColor:"#1CD2E5"}),m.a.createElement("stop",{offset:"0.7679",stopColor:"#42D8DC"}),m.a.createElement("stop",{offset:"0.9107",stopColor:"#59DBD6"}),m.a.createElement("stop",{offset:"1",stopColor:"#62DCD4"})),m.a.createElement("linearGradient",{id:"paint1_linear",x1:"0.0586689",y1:"25.8072",x2:"20.3317",y2:"25.8072",gradientUnits:"userSpaceOnUse"},m.a.createElement("stop",{stopColor:"#39D2FF"}),m.a.createElement("stop",{offset:"0.1501",stopColor:"#38CEFE"}),m.a.createElement("stop",{offset:"0.2931",stopColor:"#35C3FA"}),m.a.createElement("stop",{offset:"0.4327",stopColor:"#2FB0F3"}),m.a.createElement("stop",{offset:"0.5468",stopColor:"#299AEB"}),m.a.createElement("stop",{offset:"0.5827",stopColor:"#2692EC"}),m.a.createElement("stop",{offset:"0.7635",stopColor:"#1A6CF1"}),m.a.createElement("stop",{offset:"0.909",stopColor:"#1355F4"}),m.a.createElement("stop",{offset:"1",stopColor:"#104CF5"})),m.a.createElement("linearGradient",{id:"paint2_linear",x1:"3.80142",y1:"27.5892",x2:"3.80142",y2:"0.480946",gradientUnits:"userSpaceOnUse"},m.a.createElement("stop",{stopColor:"#1B48EF"}),m.a.createElement("stop",{offset:"0.1221",stopColor:"#1C51F0"}),m.a.createElement("stop",{offset:"0.3212",stopColor:"#1E69F5"}),m.a.createElement("stop",{offset:"0.5676",stopColor:"#2190FB"}),m.a.createElement("stop",{offset:"1",stopColor:"#26B8F4"})),m.a.createElement("linearGradient",{id:"paint3_linear",x1:"4.08828",y1:"30.8105",x2:"16.5991",y2:"18.2997",gradientUnits:"userSpaceOnUse"},m.a.createElement("stop",{stopColor:"white"}),m.a.createElement("stop",{offset:"0.3726",stopColor:"#FDFDFD"}),m.a.createElement("stop",{offset:"0.5069",stopColor:"#F6F6F6"}),m.a.createElement("stop",{offset:"0.6026",stopColor:"#EBEBEB"}),m.a.createElement("stop",{offset:"0.68",stopColor:"#DADADA"}),m.a.createElement("stop",{offset:"0.7463",stopColor:"#C4C4C4"}),m.a.createElement("stop",{offset:"0.805",stopColor:"#A8A8A8"}),m.a.createElement("stop",{offset:"0.8581",stopColor:"#888888"}),m.a.createElement("stop",{offset:"0.9069",stopColor:"#626262"}),m.a.createElement("stop",{offset:"0.9523",stopColor:"#373737"}),m.a.createElement("stop",{offset:"0.9926",stopColor:"#090909"}),m.a.createElement("stop",{offset:"1"})),m.a.createElement("linearGradient",{id:"paint4_linear",x1:"3.80142",y1:"0",x2:"3.80142",y2:"27.3102",gradientUnits:"userSpaceOnUse"},m.a.createElement("stop",{stopColor:"white"}),m.a.createElement("stop",{offset:"0.3726",stopColor:"#FDFDFD"}),m.a.createElement("stop",{offset:"0.5069",stopColor:"#F6F6F6"}),m.a.createElement("stop",{offset:"0.6026",stopColor:"#EBEBEB"}),m.a.createElement("stop",{offset:"0.68",stopColor:"#DADADA"}),m.a.createElement("stop",{offset:"0.7463",stopColor:"#C4C4C4"}),m.a.createElement("stop",{offset:"0.805",stopColor:"#A8A8A8"}),m.a.createElement("stop",{offset:"0.8581",stopColor:"#888888"}),m.a.createElement("stop",{offset:"0.9069",stopColor:"#626262"}),m.a.createElement("stop",{offset:"0.9523",stopColor:"#373737"}),m.a.createElement("stop",{offset:"0.9926",stopColor:"#090909"}),m.a.createElement("stop",{offset:"1"})),m.a.createElement("clipPath",{id:"clip0"},m.a.createElement("rect",{width:"21.6338",height:"32",fill:"white"}))));var H=i("hOj1"),M=i("I6Lx"),_=i("HDSB"),R=i("tWvP");class N{constructor(e,t,i,n,a){this.autoSuggestProperties=e,this.osMarket=t,this.osLanguage=i,this.requestId=n,this.isDarkMode=a}addAutoSuggest(e){if(!Object(_.a)())return!1;if(P.b.CurrentRequestTargetScope&&"kids"===P.b.CurrentRequestTargetScope.audienceMode)return!1;const t=this.isDisabled(),i=window[N.globalObjectName];if(i)return i.enable(!t),this.updateAutoSuggestSessionId(),!0;if(t)return!1;const n=this.getCompleteUrl(),a=Object(S.b)(n,void 0,!0,"use-credentials");a.onload=e;return document.getElementsByTagName("head")[0].appendChild(a),!0}invokeCookieSharing(){F(Object(H.a)(N.sharedCookieName),5)||Object(R.a)(N.sharedCookieName,"SID=00",365,N.cookieDomain,"/")}isDisabled(){return new RegExp("\\b"+N.cookieCrumb+"=0\\b","i").test(Object(H.a)(N.cookieName))}updateAutoSuggestSessionId(){const e=/SID=[\da-z]+/i;if(!this.partnerSessionId){const t=Object(H.a)(N.sharedCookieName);if(F(t,4)){const i=t.match(e);i&&F(i[0],5)&&(this.partnerSessionId=i[0].substr(4))}}const t=window[N.globalObjectName];if(t){const e=t["sid"];"function"==typeof e&&e(this.partnerSessionId)}}getCompleteUrl(){let e="";const t=f.a.getParamsFromUrl(location.search);return t.find(e=>"autosuggest_hook"===e.key)?this.getHookUrl(t):(e=this.autoSuggestProperties.useMarketBasedUrl?this.getMarketBasedUrl():this.getUrl(),this.shouldInitializeAutoSuggestOnPageLoad()&&(e+="&onload=1"),this.isDarkMode&&(e+="&rt=1"),e)}shouldInitializeAutoSuggestOnPageLoad(){return this.autoSuggestProperties.delayBind===n.Immediately||this.autoSuggestProperties.delayBind===n.OnPageLoad||this.autoSuggestProperties.delayBind===n.OnBusinessSearchResultsReady&&this.autoSuggestProperties.businessSearchResultsEnabled}getMarketBasedUrl(){const e=this.osMarket||"US",t=this.osLanguage||"en-US",i=Object(M.a)().Locale;let n=["https","://www.bing.com/as/init?","pt=msnedgentp",this.osLanguage?"&setlang="+t:"",this.osMarket?"&cc="+e:"","&refig="+this.requestId].join("");return"en-us"!==t.toLowerCase()&&(n+="&endpt=1"),n+=this.getFeatures(),n+=this.autoSuggestProperties.businessSearchResultsEnabled?"&msbqf=true":"&msbqf=false",this.autoSuggestProperties.disableSuggestionFetchOnEmpty&&i&&"en-us"!==i.toLowerCase()&&(n+="&dfoe=1"),n}getHookUrl(e){const t=Object(M.a)().CurrentFlights,i=e.find(e=>"fdhead"===e.key),n=i?i.value:"",a=e.find(e=>"asinturl"===e.key),r=a&&a.value;if((t.indexOf("muidflt9-ismsft")>-1||n.indexOf("muidflt9-ismsft")>-1)&&r){return decodeURIComponent(r)}return this.getUrl()}getUrl(){const e=Object(M.a)().Locale||"en-us";let t=["https","://www.bing.com/as/init?mkt=",e,"&pt=",this.autoSuggestProperties.partnerEndpoint,"&refig=",this.requestId].join("");return this.autoSuggestProperties.enableNewSnrUrl||"en-us"===e.toLowerCase()||(t+="&endpt=1"),t}getFeatures(){return this.autoSuggestProperties.enableFeatures&&this.autoSuggestProperties.features?"&features="+this.autoSuggestProperties.features:""}}function F(e,t){return"string"==typeof e&&(!t||e.length>=t)}N.cookieCrumb="AS",N.globalObjectName="sa_inst",N.cookieName="SRCHHPGUSR",N.sharedCookieName="_SS",N.cookieDomain="msn.com";var U,V=i("HhTf"),z=i("wXkv"),G=i("7nmT"),q=i.n(G),$=i("o1qX"),Z=i("Z3LZ");!function(e){e.searchTimeToFirstSearchInteractive="Search-TimeToFirstSearchInteractive",e.searchAutoSuggest="Search-AutoSuggest",e.timeToFunctional="TTF.SearchBox"}(U||(U={}));class W extends a.a{constructor(e){super(e),this.searchLoadPending=!0,this.shouldHydrate=!1,this.buttonContainerRef=m.a.createRef(),this.inputContainerRef=m.a.createRef(),this.inputRef=m.a.createRef(),this.formRef=m.a.createRef(),this.cookieConsentHandler=this.handleCookieConsent.bind(this),this.keypressCaptureEventHandler=this.keypressCaptureHandler.bind(this),Object(_.a)()&&P.b&&P.b.CurrentRequestTargetScope&&P.b.CurrentRequestTargetScope.deviceFormFactor===V.a.Desktop?this.elementTimingObserverEnabled=Object(k.b)(window.PerformanceObserver,"TTVR.SearchBox",e=>{this.searchReadyHandler(e.startTime)}):this.elementTimingObserverEnabled=!1,this.shouldHydrate=Object(_.a)()&&window.needsHydrate}componentDidUpdate(e){super.componentDidUpdate(),!e.initAutoSuggest&&this.props.initAutoSuggest&&this.props.autoSuggest.delayBind===n.OnBusinessSearchResultsReady&&this.triggerAutoSuggestInitAction(),this.shouldHydrate&&this.searchLoadPending&&(this.searchLoadPending=!1,this.props.elementtiming&&this.elementTimingObserverEnabled||this.searchReadyHandler())}componentDidMount(){super.componentDidMount(),this.props.autoSuggest.delayBind===n.Immediately||this.props.autoSuggest.delayBind===n.OnUserInteraction||this.props.autoSuggest.delayBind===n.OnPageLoad?this.triggerAutoSuggestInitAction():this.props.autoSuggest.delayBind!==n.OnBusinessSearchResultsReady||this.props.autoSuggest.businessSearchResultsEnabled||this.triggerAutoSuggestInitAction(),this.props.searchOpenInNewWindow&&this.formRef.current.addEventListener("ASSugClicked",()=>{this.handleAutoSuggestSuggestionClicked()}),this.formRef.current&&this.formRef.current.addEventListener("submit",e=>{this.handleFormSubmit(e,this.props.telemetryCallback)}),(this.props.cookieConsentCallback||this.props.cookieConsentCallbackAndDecorateLink)&&(this.inputRef.current.addEventListener("keyup",this.cookieConsentHandler),this.buttonContainerRef.current.addEventListener("click",this.cookieConsentHandler)),this.props.keyPressCaptureEnabled&&document.body.addEventListener("keypress",this.keypressCaptureEventHandler),super.markTimeToFunctional(z.a.searchBox),this.warmBingConnections(),this.shouldHydrate?this.setState({}):this.props.elementtiming&&this.elementTimingObserverEnabled||this.searchReadyHandler()}componentDidCatch(e){const t=this.props.appErrorCallback;if(!t)return;const i=j.ph;i.message=`${e.message}\n${e.stack}`,t(i)}getSearchLogo(){if(!this.props.searchLogoEnabled)return;const{managedClasses:e}=this.props,t=Object($.a)(e.logoSvg,[e.logoSvg__cursor,!this.props.searchLogoClickEnabled]);return A(t,e=>{this.handleSearchLogoClick(e,this.props.telemetryCallback)},"img")}handleSearchLogoClick(e,t){if(!this.props.searchLogoClickEnabled)return e.preventDefault(),void e.stopPropagation();t(this.formRef.current,L.b.Submit,L.c.Undefined),this.formRef.current.submit()}getVoiceSearchButton(e,t,i,n){if(!n)return;if(!i&&!this.props.voiceSearchExperience)return;if(i&&!t)return;const{managedClasses:a}=this.props,r=Object($.a)(a.logoSvg);return m.a.createElement("button",Object.assign({className:e,id:"voice_srch_go","data-targetid":"VoiceSearchButton",title:t,type:"button",onClick:e=>{this.voiceSearchButtonClick(e,this.props)}},this.props.voiceSearchTelemetry?this.props.voiceSearchTelemetry.render():null),(o=r,m.a.createElement("svg",{width:"14",height:"20",viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o},m.a.createElement("path",{d:"M7 15.0001C6.47917 15.0001 5.99414 14.9024 5.54492 14.7071C5.0957 14.5118 4.69857 14.2449 4.35351 13.9063C4.00846 13.5678 3.73828 13.1706 3.54297 12.7149C3.34765 12.2592 3.25 11.7709 3.25 11.2501V3.75006C3.25 3.23574 3.34765 2.75071 3.54297 2.29498C3.73828 1.83925 4.00521 1.44212 4.34375 1.10358C4.68229 0.765035 5.07943 0.494853 5.53515 0.29303C5.99088 0.0912069 6.47917 -0.00644938 7 6.10352e-05C7.51432 6.10352e-05 7.99935 0.0977173 8.45508 0.29303C8.91081 0.488342 9.30794 0.755269 9.64648 1.09381C9.98502 1.43235 10.2552 1.83274 10.457 2.29498C10.6589 2.75722 10.7565 3.24225 10.75 3.75006V11.2501C10.75 11.7709 10.6523 12.2559 10.457 12.7051C10.2617 13.1544 9.99479 13.5515 9.65625 13.8965C9.31771 14.2416 8.91732 14.5118 8.45508 14.7071C7.99284 14.9024 7.50781 15.0001 7 15.0001ZM4.5 3.75006V11.2501C4.5 11.5951 4.5651 11.9174 4.69531 12.2169C4.82552 12.5163 5.00456 12.7833 5.23242 13.0176C5.46029 13.252 5.72396 13.4311 6.02344 13.5547C6.32292 13.6784 6.64844 13.7436 7 13.7501C7.34505 13.7501 7.66732 13.685 7.9668 13.5547C8.26627 13.4245 8.5332 13.2455 8.76758 13.0176C9.00195 12.7898 9.18099 12.5261 9.30469 12.2266C9.42838 11.9271 9.49349 11.6016 9.5 11.2501V3.75006C9.5 3.40501 9.43489 3.08274 9.30469 2.78326C9.17448 2.48378 8.99544 2.21686 8.76758 1.98248C8.53971 1.74811 8.27604 1.56907 7.97656 1.44537C7.67708 1.32168 7.35156 1.25657 7 1.25006C6.65495 1.25006 6.33268 1.31517 6.0332 1.44537C5.73372 1.57558 5.4668 1.75462 5.23242 1.98248C4.99805 2.21035 4.81901 2.47402 4.69531 2.7735C4.57161 3.07298 4.50651 3.3985 4.5 3.75006ZM12.625 10.0001C12.7682 10.0001 12.8789 10.0261 12.957 10.0782C13.0352 10.1303 13.097 10.2019 13.1426 10.293C13.1881 10.3842 13.2174 10.4818 13.2305 10.586C13.2435 10.6902 13.25 10.8008 13.25 10.918V11.2501C13.25 12.0508 13.1068 12.8093 12.8203 13.5255C12.5339 14.2416 12.14 14.8796 11.6387 15.4395C11.1374 15.9994 10.5417 16.4584 9.85156 16.8165C9.16146 17.1745 8.41927 17.3926 7.625 17.4708V18.7501H10.125C10.2943 18.7501 10.4408 18.8119 10.5645 18.9356C10.6881 19.0593 10.75 19.2058 10.75 19.3751C10.75 19.5443 10.6881 19.6908 10.5645 19.8145C10.4408 19.9382 10.2943 20.0001 10.125 20.0001H3.875C3.70573 20.0001 3.55924 19.9382 3.43555 19.8145C3.31185 19.6908 3.25 19.5443 3.25 19.3751C3.25 19.2058 3.31185 19.0593 3.43555 18.9356C3.55924 18.8119 3.70573 18.7501 3.875 18.7501H6.375V17.4708C5.57422 17.3926 4.83203 17.1745 4.14844 16.8165C3.46484 16.4584 2.87239 16.0027 2.37109 15.4493C1.86979 14.8959 1.47265 14.2579 1.17969 13.5352C0.886717 12.8126 0.743488 12.0508 0.749999 11.2501V10.6251C0.749999 10.4558 0.811848 10.3093 0.935546 10.1856C1.05924 10.0619 1.20573 10.0001 1.375 10.0001C1.51172 10.0001 1.62239 10.0261 1.70703 10.0782C1.79167 10.1303 1.85351 10.1954 1.89258 10.2735C1.93164 10.3516 1.96094 10.446 1.98047 10.5567C2 10.6674 2.00651 10.7715 2 10.8692V11.0645C2 11.1231 1.99674 11.185 1.99023 11.2501C1.99023 11.9402 2.12044 12.588 2.38086 13.1934C2.64127 13.7989 2.99935 14.3295 3.45508 14.7852C3.91081 15.2409 4.4414 15.599 5.04687 15.8594C5.65234 16.1199 6.30338 16.2533 7 16.2598C7.6901 16.2598 8.33789 16.1296 8.94336 15.8692C9.54883 15.6088 10.0794 15.2507 10.5352 14.795C10.9909 14.3393 11.349 13.8087 11.6094 13.2032C11.8698 12.5977 12.0033 11.9467 12.0098 11.2501V10.9376C12.0098 10.8334 12.0065 10.7292 12 10.6251C12 10.4558 12.0618 10.3093 12.1855 10.1856C12.3092 10.0619 12.4557 10.0001 12.625 10.0001Z",fill:"#0078D4"}))));var o}voiceSearchButtonClick(e,t){t.voiceSearchClickCallback()}getVoiceSearchAction(){return this.props.completeVoiceSearch?{action:"//www.bing.com/opaluqu/v1"}:{}}getImageSearchButton(e,t){if(!this.props.imageSearchExperience)return;const{managedClasses:i}=this.props,n=Object($.a)(i.logoSvg);return m.a.createElement("button",Object.assign({className:e,id:"image_srch_go",title:t,type:"button",onClick:e=>{this.imageSearchButtonClick(e,this.props)}},this.props.imageSearchTelemetry?this.props.imageSearchTelemetry.render():null),(a=n,m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",className:a,fill:"none"},m.a.createElement("path",{d:"M512 576q0-29 17-46t47-18q29 0 46 17t18 47q0 29-17 46t-47 18q-29 0-46-17t-18-47zm512 192q53 0 99 20t82 55 55 81 20 100q0 53-20 99t-55 82-81 55-100 20q-53 0-99-20t-82-55-55-81-20-100q0-53 20-99t55-82 81-55 100-20zm-768 64H128V576q0-91 36-172t97-143 142-97 173-36h256v128H576q-67 0-125 25t-102 68-68 101-25 126v256zm576 960v128H576q-91 0-172-36t-143-97-97-142-36-173v-256h128v256q0 67 25 125t68 102 101 68 126 25h256zm960-576h128v256q0 91-36 172t-97 143-142 97-173 36h-256v-128h256q67 0 125-25t102-68 68-101 25-126v-256zM1472 128q91 0 172 36t143 97 97 142 36 173v256h-128V576q0-67-25-125t-68-102-101-68-126-25h-256V128h256z",fill:"#0078D4"}))));var a}imageSearchButtonClick(e,t){if(e.currentTarget){const t=q.a.findDOMNode(e.currentTarget);this.props.showImageSearchDialog?D.a.sendActionEvent(t,L.b.Click,L.c.Close):D.a.sendActionEvent(t,L.b.Click,L.c.Open),e.nativeEvent.stopImmediatePropagation()}t.imageSearchClickCallback(this.props.showImageSearchDialog)}warmBingConnections(){const{warmWwwBing:e,warmRBingStatics:t,warmRakaBingStatics:i}=this.props;if(!(t||e||i))return;Object(Z.j)().then(()=>{t&&fetch("https://r.bing.com/rp/rms_pr.png",{mode:"no-cors",cache:"no-cache"}),i&&fetch("https://raka.bing.com/rp/rms_pr.png",{mode:"no-cors",cache:"no-cache"}),e&&fetch("https://www.bing.com/rp/rms_pr.png",{mode:"cors",credentials:"include",cache:"no-cache"})})}searchReadyHandler(e){window.requestAnimationFrame(()=>{setTimeout(()=>{"function"==typeof this.props.shiftFocusToWebCallback?this.props.shiftFocusToWebCallback():this.props.form&&this.props.form.focusEnabled&&this.inputRef.current&&this.inputRef.current.focus(),this.props.endPerfMarkerHandler&&this.props.endPerfMarkerHandler(U.searchTimeToFirstSearchInteractive),super.markTimeToVisuallyReady(!0,e,z.a.searchBox),this.formRef.current&&D.a.observeSingleElement(this.formRef.current.parentElement)},0)})}handleCookieConsent(e){if("keyup"===e.type){const t=e.key;if("Tab"===t||"Escape"===t)return}this.inputRef.current.value&&this.inputRef.current.removeEventListener("keyup",this.cookieConsentHandler),this.buttonContainerRef.current&&this.buttonContainerRef.current.removeEventListener("click",this.cookieConsentHandler),this.props.cookieConsentCallbackAndDecorateLink?this.props.cookieConsentCallbackAndDecorateLink(e,null,!0):this.props.cookieConsentCallback&&this.props.cookieConsentCallback()}keypressCaptureHandler(e){if(this.props.voiceSearchExperience&&document.body.classList.contains("voice_srch_active")||this.props.imageSearchExperience&&document.body.classList.contains("image_srch_active"))return;const t=["input","textarea","select"],i=e.target&&e.target;e.type&&"keypress"===e.type&&e.charCode>32&&e.charCode<=126&&!t.includes(i.tagName.toLowerCase())&&this.inputRef.current.focus()}registerAutoSuggestOnSearchEvent(){if(this.props.autoSuggest.delayBind!==n.OnUserInteraction&&this.props.autoSuggest.delayBind!==n.OnPageLoad&&this.props.autoSuggest.delayBind!==n.OnBusinessSearchResultsReady||this.props.endPerfMarkerHandler&&this.props.endPerfMarkerHandler(U.searchAutoSuggest),this.props.searchOpenInNewWindow)return;const e=window.sj_evt,t=e&&e.fire;t&&(e.fire=(...e)=>{const[i]=e||[];"onSearch"===i&&this.handleAutoSuggestSuggestionClicked(),t.apply(this,e)})}handleAutoSuggestSuggestionClicked(){let e=this.props.searchComponentProps.action;const t=this.getSelectedItemfromAutoSuggestion();let i,n,a;if(e&&t){const r=(-1!==e.indexOf("?")?"&":"?")+"msnst=AS";if(e+=r,this.formRef.current.attributes&&this.formRef.current.attributes["data-t"]){a=B.a.getTelemetryObject(this.formRef.current);const r=a.contract;r&&(n=r.overrideDestinationUrl||r.destinationUrl,r.overrideDestinationUrl=e,r.content&&(i=r.content.type,r.content.type=this.getAutoSuggestSuggestionContentType(t))),B.a.setAttribute(this.formRef.current,null,a)}}if(this.props.telemetryCallback(this.formRef.current,L.b.Submit,L.c.TextSearch),a){const e=a.contract;e&&(e.overrideDestinationUrl=n,e.content&&(e.content.type=i)),B.a.setAttribute(this.formRef.current,null,a)}}getSelectedItemfromAutoSuggestion(){return this.formRef.current&&this.formRef.current.querySelector("li.sa_sg.sa_hv")}getAutoSuggestSuggestionContentType(e){const t=e&&e.getAttribute("stype");let i=L.d.AutoSuggestSearch;switch(t){case"HS":i=L.d.SearchHistory;break;case"PN":i=L.d.TrendingSearch;break;default:i=L.d.AutoSuggestSearch}return i}handleFormSubmit(e,t){t(this.formRef.current,L.b.Submit)}triggerAutoSuggestInitAction(){this.props.autoSuggest.useMarketBasedUrl?this.initializeAutoSuggest(this.props.autoSuggest.osMarket,this.props.autoSuggest.osLanguage):this.initializeAutoSuggest()}initializeAutoSuggest(e,t){if(this.props.focusRedirectEnabled)return;const i=new N(this.props.autoSuggest,e,t,this.props.requestId,Object(o.e)(this.currentDesignSystem));this.props.autoSuggest.delayBind===n.OnUserInteraction||this.props.autoSuggest.delayBind===n.OnBusinessSearchResultsReady&&!this.props.autoSuggest.businessSearchResultsEnabled?(this.autoSuggestEventHandler=this.autoSuggestHandler.bind(this,i),this.inputRef.current&&(this.inputRef.current.addEventListener("keyup",this.autoSuggestEventHandler),this.inputRef.current.addEventListener("click",this.autoSuggestEventHandler))):this.props.autoSuggest.delayBind!==n.Immediately&&this.props.autoSuggest.delayBind!==n.OnPageLoad&&this.props.autoSuggest.delayBind!==n.OnBusinessSearchResultsReady||(this.props.startPerfMarkerHandler&&this.props.startPerfMarkerHandler(U.searchAutoSuggest),i.addAutoSuggest(this.registerAutoSuggestOnSearchEvent.bind(this))),1===this.props.autoSuggest.cookieSharingDelayInSeconds&&i.invokeCookieSharing()}autoSuggestHandler(e,t){if("keyup"===t.type){const e=t.key;if("Tab"===e||"Escape"===e)return}this.props.startPerfMarkerHandler&&this.props.startPerfMarkerHandler(U.searchAutoSuggest);e.addAutoSuggest(this.registerAutoSuggestOnSearchEvent.bind(this))&&(this.inputRef.current.removeEventListener("click",this.autoSuggestEventHandler),this.inputRef.current.removeEventListener("keyup",this.autoSuggestEventHandler))}}var K=i("Gy7L"),Y=i("qGiF"),X=i("Zn5T");const Q={button:{"align-items":"center","border-radius":Object(w.c)("0 4px 4px 0","4px 0 0 4px"),display:"flex",height:"44px","justify-content":"center",padding:"0",width:"68px","body.as_active:not(.nw_as_active) &":{"border-radius":Object(w.c)("0 4px 0 0","4px 0 0 0")}},buttonContainer:{"border-radius":Object(w.c)("0 4px 4px 0","4px 0 0 4px"),left:Object(w.c)("initial","0"),right:Object(w.c)("0","intitial"),"body.as_active:not(.nw_as_active) &":{"border-radius":Object(w.c)("0 4px 0 0","4px 0 0 0")}},buttonImage:{float:Object(w.c)("left","right"),height:"20px",width:"14px"},form:Object.assign({"& #sw_as":{"& .sa_as":Object.assign({border:"none","border-radius":"0 0 4px 4px","border-top":"solid 1px #e5e5e5","box-shadow":"0px 5px 7px rgba(0, 0, 0, 0.09), 0px 3px 3.5px rgba(0, 0, 0, 0.03), 0px 1px 1.5px rgba(0, 0, 0, 0.09)",top:"-1px"},d.d),clear:"both",position:"relative"},border:"none","border-color":"#e5e5e5","border-radius":"4px","box-shadow":"0 .3px .9px rgba(0, 0, 0, .12), 0 1.6px 3.6px rgba(0, 0, 0, .12)",cursor:"text",margin:"auto",transition:"all .2s ease-in-out","&:hover":{"border-color":"#e5e5e5","box-shadow":"0 .6px 1.8px rgba(0, 0, 0, .11), 0 3.2px 7.2px rgba(0, 0, 0, .13)"},background:k.a,[Object(r.e)(null,r.a.c2)]:{width:"400px"},[Object(r.f)(r.a.c3)]:{width:"528px"},[Object(r.e)(r.a.c4,null)]:{width:"760px"}},d.d),input:{background:s.a,color:h.c,height:"44px",width:"100%",[d.D]:{height:"38px"},fontSize:"15px"},inputContainer:{"border-radius":"inherit"}};class J extends W{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},a.b),{appErrorCallback:void 0,autoSuggest:void 0,backgroundColorOverride:void 0,buttonContainer:void 0,button:void 0,completeVoiceSearch:void 0,cookieBannerEnabled:void 0,cookieConsentCallback:void 0,cookieConsentCallbackAndDecorateLink:void 0,endPerfMarkerHandler:void 0,form:void 0,imageSearchExperience:void 0,imageSearchClickCallback:void 0,imageSearchTelemetry:void 0,initAutoSuggest:void 0,input:void 0,keyPressCaptureEnabled:void 0,lightThemeEnabled:void 0,focusRedirectEnabled:void 0,managedClasses:void 0,queryInPlaceholderText:void 0,requestId:void 0,searchBoxWidth:void 0,searchComponentProps:void 0,searchOpenInNewWindow:void 0,searchLogoEnabled:void 0,searchLogoClickEnabled:void 0,searchLogoIconSvgPath:void 0,shiftFocusToWebCallback:void 0,startPerfMarkerHandler:void 0,supportOneColumn:void 0,telemetryCallback:void 0,trackPartialImpression:void 0,warmWwwBing:void 0,warmRBingStatics:void 0,warmRakaBingStatics:void 0,windowPerformanceMarkHandler:void 0,enableConfigurableSettings:void 0,visualTreatmentSettings:void 0,voiceSearchExperience:void 0,voiceSearchClickCallback:void 0,voiceSearchTelemetry:void 0,showVoiceSearchDialog:void 0,handleSearchBoxFocus:void 0,handleSearchBoxBlur:void 0,isDefaultSearchBing:void 0,showImageSearchDialog:void 0}),this.getSearchboxFakeCursor=()=>{if(this.props.focusRedirectEnabled)return m.a.createElement("div",null,m.a.createElement("div",{className:this.getFocusCursorClassNames()}))},this.getInputFontSize=e=>{const t=this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.increaseGhostTextFontSizeByPx||0,i=parseInt(Q.input.fontSize)+t+"px";return e?"18px":i},this.setInpageSearchboxFocus=e=>{this.state.focused!==e&&this.setState({focused:e})},this.setInpageSearchboxVisibility=e=>{this.state.visible!==e&&this.setState({visible:e})},this.onKeyCaptureChange=()=>{this.searchboxApiHandle&&this.setInpageSearchboxFocus(this.searchboxApiHandle.isKeyCaptureEnabled)},this.handleFocusEvent=()=>{this.setInpageSearchboxFocus(!0),this.searchboxApiHandle&&this.searchboxApiHandle.startCapturingKeyStrokes()},this.onInputStart=()=>{this.state.focused&&(this.setInpageSearchboxFocus(!1),this.setInpageSearchboxVisibility(!1))},this.handleMouseDownEvent=e=>{this.inputRef.current!==e.target&&this.state.focused&&(this.setInpageSearchboxFocus(!1),this.searchboxApiHandle&&this.searchboxApiHandle.stopCapturingKeyStrokes())},this.onInputCancel=()=>{this.setInpageSearchboxVisibility(!0)},this.state={focused:!1,visible:!0};const t=window;t.chrome&&t.chrome.embeddedSearch&&(this.ntpApiHandle=t.chrome.embeddedSearch.newTabPage,this.searchboxApiHandle=t.chrome.embeddedSearch.searchBox)}nwasEvtHandler(e){const t=e.srcElement.getAttribute("SuggMode"),i=document.querySelector(".sa_as");"1"===t?(this.elSrchfrm.classList.add("nwas"),this.elSrchfrm.classList.remove("as"),i.style.width="unset"):(this.elSrchfrm.classList.add("as"),this.elSrchfrm.classList.remove("nwas"),i.style.width="100%")}shownEvtHandler(e){this.elSrchfrm.classList.add("droplistshow"),this.elSrchfrm.classList.remove("droplisthide")}hiddenEvtHandler(e){this.elSrchfrm.classList.add("droplisthide"),this.elSrchfrm.classList.remove("droplistshow")}componentDidMount(){super.componentDidMount(),this.props.focusRedirectEnabled&&this.registerFocusRedirectHandler(),this.elSrchfrm=document.querySelector("#srchfrm"),this.elSrchfrm&&(this.elSrchfrm.addEventListener("autosuggestRendered",this.nwasEvtHandler.bind(this)),this.elSrchfrm.addEventListener("autosuggestShown",this.shownEvtHandler.bind(this)),this.elSrchfrm.addEventListener("autosuggestHide",this.hiddenEvtHandler.bind(this)));const e=this.props.visualTreatmentSettings;if(e&&e.enableGhostTextOnSearchBox)if(e.disableGhostTextEnterSearchTrigger||e.disableGhostTextClickSearchTrigger)if(e.disableGhostTextClickSearchTrigger)e.disableGhostTextEnterSearchTrigger?this.setInputFocusAndBlurEventListener():this.inputRef.current&&this.inputRef.current.addEventListener("keypress",e=>{e.keyCode==K.g&&this.setInputValue()});else{const e=document.getElementById("sb_form_go");e&&(e.setAttribute("type","button"),e.addEventListener("click",()=>{this.setInputValue(),this.formRef.current.submit()})),this.setInputFocusAndBlurEventListener()}else this.formRef.current&&this.formRef.current.addEventListener("submit",()=>{this.setInputValue()})}setInputFocusAndBlurEventListener(){this.inputRef.current&&(this.inputRef.current.addEventListener("focus",this.props.handleSearchBoxFocus),this.inputRef.current.addEventListener("blur",this.props.handleSearchBoxBlur))}setInputValue(){this.inputRef.current&&!this.inputRef.current.value&&(this.inputRef.current.value=this.props.queryInPlaceholderText)}componentWillUnmount(){this.inputRef.current&&this.inputRef.current.removeEventListener("focus",this.handleFocusEvent),this.buttonContainerRef.current&&this.buttonContainerRef.current.removeEventListener("click",this.searchButtonClickHandler),document.body.removeEventListener("mousedown",this.handleMouseDownEvent),this.elSrchfrm&&(this.elSrchfrm.removeEventListener("autosuggestRendered",this.nwasEvtHandler.bind(this)),this.elSrchfrm.removeEventListener("autosuggestShown",this.shownEvtHandler.bind(this)),this.elSrchfrm.removeEventListener("autosuggestHide",this.hiddenEvtHandler.bind(this)))}render(){return super.render(),m.a.createElement(Y.a,null,e=>(this.currentDesignSystem=e,m.a.createElement(E,Object.assign({},this.unhandledProps(),this.props.searchComponentProps,this.clarityProps(),this.getVoiceSearchAction(),{actionElement:this.getActionElement(),fakeFocusElement:this.getSearchboxFakeCursor(),logo:this.getSearchLogo(),voiceSearchButton:this.getVoiceSearchButton(Object($.a)(this.props.managedClasses.searchbox_voicesearch_button),this.props.searchComponentProps.voiceButtonTitle,this.props.searchComponentProps.enablePreloadVoiceSearchBtn,this.props.isDefaultSearchBing),voiceSearchExperience:this.props.voiceSearchExperience,imageSearchButton:this.getImageSearchButton(Object($.a)(this.props.managedClasses.searchbox_imagesearch_button),this.props.searchComponentProps.imageButtonTitle),imageSearchExperience:this.props.imageSearchExperience,jssStyleSheet:this.props.enableConfigurableSettings?this.generateConfigurableSearchStylesFromProps(this.props.form,this.props.buttonContainer,this.props.searchBoxWidth,this.props.button,this.props.lightThemeEnabled,this.props.focusRedirectEnabled,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enableTallerSearchBox,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enableLargerPlaceholderFont,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enableNeutralBorderWithBoxShadow):this.getJssStyleSheet(this.props.lightThemeEnabled,this.props.focusRedirectEnabled,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enableTallerSearchBox,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enableLargerPlaceholderFont,this.props.visualTreatmentSettings&&this.props.visualTreatmentSettings.enablePillShapedSearchBox),inputContainerRef:this.inputContainerRef,buttonContainerRef:this.buttonContainerRef,inputRef:this.inputRef,formRef:this.formRef,className:this.getSearchBoxClassNames()}))))}getSearchLogo(){if(!this.props.searchLogoEnabled)return;if(this.props.voiceSearchExperience||this.props.imageSearchExperience)return;const{managedClasses:e}=this.props,t=Object($.a)(e.logoSvg,[e.logoSvg__cursor,!this.props.searchLogoClickEnabled]);return A(t,e=>{this.handleSearchLogoClick(e,this.props.telemetryCallback)})}getFocusCursorClassNames(){const{managedClasses:e}=this.props;return Object($.a)(e.searchbox_cursor,[e.searchbox_cursor__focused,this.state.focused])}getSearchBoxClassNames(){const{managedClasses:e}=this.props;return Object($.a)(e.searchbox_fake,[e.searchbox_fake__hidden,!this.state.visible])}getActionElement(){let e;if(e=Object(o.e)(this.currentDesignSystem)?"#FFFFFF":this.props.lightThemeEnabled?"#0070C9":"#FFFFFF",this.props.visualTreatmentSettings){if(this.props.visualTreatmentSettings.enableBolderSearchIcon)return((e,t,i,n)=>{const a=i||20,r=n||20;return m.a.createElement("svg",{width:a,height:r,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M14.125 1C14.7565 1 15.3652 1.08138 15.9512 1.24414C16.5371 1.4069 17.084 1.63802 17.5918 1.9375C18.0996 2.23698 18.5618 2.59831 18.9785 3.02148C19.4017 3.43815 19.763 3.90039 20.0625 4.4082C20.362 4.91602 20.5931 5.46289 20.7559 6.04883C20.9186 6.63477 21 7.24349 21 7.875C21 8.50651 20.9186 9.11523 20.7559 9.70117C20.5931 10.2871 20.362 10.834 20.0625 11.3418C19.763 11.8496 19.4017 12.3151 18.9785 12.7383C18.5618 13.1549 18.0996 13.513 17.5918 13.8125C17.084 14.112 16.5371 14.3431 15.9512 14.5059C15.3652 14.6686 14.7565 14.75 14.125 14.75C13.3112 14.75 12.5299 14.6133 11.7812 14.3398C11.0391 14.0664 10.3555 13.6725 9.73047 13.1582L2.06445 20.8145C1.94076 20.9382 1.79427 21 1.625 21C1.45573 21 1.30924 20.9382 1.18555 20.8145C1.06185 20.6908 1 20.5443 1 20.375C1 20.2057 1.06185 20.0592 1.18555 19.9355L8.8418 12.2695C8.32747 11.6445 7.93359 10.9609 7.66016 10.2188C7.38672 9.47005 7.25 8.6888 7.25 7.875C7.25 7.24349 7.33138 6.63477 7.49414 6.04883C7.6569 5.46289 7.88802 4.91602 8.1875 4.4082C8.48698 3.90039 8.84505 3.43815 9.26172 3.02148C9.6849 2.59831 10.1504 2.23698 10.6582 1.9375C11.166 1.63802 11.7129 1.4069 12.2988 1.24414C12.8848 1.08138 13.4935 1 14.125 1ZM14.125 13.5C14.8997 13.5 15.6289 13.3535 16.3125 13.0605C16.9961 12.7611 17.5918 12.3574 18.0996 11.8496C18.6074 11.3418 19.0078 10.7461 19.3008 10.0625C19.6003 9.37891 19.75 8.64974 19.75 7.875C19.75 7.10026 19.6003 6.37109 19.3008 5.6875C19.0078 5.00391 18.6074 4.4082 18.0996 3.90039C17.5918 3.39258 16.9961 2.99219 16.3125 2.69922C15.6289 2.39974 14.8997 2.25 14.125 2.25C13.3503 2.25 12.6211 2.39974 11.9375 2.69922C11.2539 2.99219 10.6582 3.39258 10.1504 3.90039C9.64258 4.4082 9.23893 5.00391 8.93945 5.6875C8.64648 6.37109 8.5 7.10026 8.5 7.875C8.5 8.64974 8.64648 9.37891 8.93945 10.0625C9.23893 10.7461 9.64258 11.3418 10.1504 11.8496C10.6582 12.3574 11.2539 12.7611 11.9375 13.0605C12.6211 13.3535 13.3503 13.5 14.125 13.5Z",fill:e,transform:t?"translate(22, 0) scale(-1,1)":"none"}),m.a.createElement("path",{d:"M18.9785 3.02148L18.6222 3.37233L18.6277 3.37777L18.9785 3.02148ZM18.9785 12.7383L19.3321 13.0918L18.9785 12.7383ZM11.7812 14.3398L11.6084 14.809L11.6097 14.8095L11.7812 14.3398ZM9.73047 13.1582L10.0482 12.7721L9.69801 12.484L9.37714 12.8044L9.73047 13.1582ZM2.06445 20.8145L1.71113 20.4607L1.7109 20.4609L2.06445 20.8145ZM1.18555 19.9355L1.5391 20.2891L1.53933 20.2889L1.18555 19.9355ZM8.8418 12.2695L9.19558 12.6229L9.51604 12.302L9.22788 11.9518L8.8418 12.2695ZM7.66016 10.2188L7.1905 10.3903L7.19098 10.3916L7.66016 10.2188ZM9.26172 3.02148L8.90817 2.66793L9.26172 3.02148ZM16.3125 13.0605L16.5095 13.5201L16.5131 13.5185L16.3125 13.0605ZM19.3008 10.0625L18.8428 9.86186L18.8412 9.86554L19.3008 10.0625ZM19.3008 5.6875L18.8412 5.88447L18.8428 5.88814L19.3008 5.6875ZM16.3125 2.69922L16.1119 3.15721L16.1155 3.15879L16.3125 2.69922ZM11.9375 2.69922L12.1345 3.15881L12.1381 3.1572L11.9375 2.69922ZM8.93945 5.6875L8.48146 5.48686L8.47988 5.49054L8.93945 5.6875ZM8.93945 10.0625L8.47987 10.2595L8.48147 10.2631L8.93945 10.0625ZM11.9375 13.0605L11.7369 13.5185L11.7405 13.5201L11.9375 13.0605ZM14.125 1.5C14.713 1.5 15.2766 1.5757 15.8174 1.7259L16.085 0.762382C15.4538 0.587058 14.8 0.5 14.125 0.5V1.5ZM15.8174 1.7259C16.3625 1.87733 16.8688 2.0916 17.3378 2.36818L17.8458 1.50682C17.2992 1.18444 16.7117 0.936471 16.085 0.762382L15.8174 1.7259ZM17.3378 2.36818C17.8079 2.64543 18.2358 2.97984 18.6222 3.37229L19.3348 2.67068C18.8879 2.21678 18.3913 1.82853 17.8458 1.50682L17.3378 2.36818ZM18.6277 3.37777C19.0202 3.76418 19.3546 4.19208 19.6318 4.6622L20.4932 4.15421C20.1715 3.6087 19.7832 3.11212 19.3293 2.6652L18.6277 3.37777ZM19.6318 4.6622C19.9084 5.13118 20.1227 5.6375 20.2741 6.18265L21.2376 5.91501C21.0635 5.28829 20.8156 4.70085 20.4932 4.15421L19.6318 4.6622ZM20.2741 6.18265C20.4243 6.72336 20.5 7.28697 20.5 7.875H21.5C21.5 7.20001 21.4129 6.54617 21.2376 5.91501L20.2741 6.18265ZM20.5 7.875C20.5 8.46303 20.4243 9.02664 20.2741 9.56735L21.2376 9.83499C21.4129 9.20383 21.5 8.54999 21.5 7.875H20.5ZM20.2741 9.56735C20.1227 10.1125 19.9084 10.6188 19.6318 11.0878L20.4932 11.5958C20.8156 11.0492 21.0635 10.4617 21.2376 9.83499L20.2741 9.56735ZM19.6318 11.0878C19.3541 11.5588 19.0188 11.9909 18.625 12.3847L19.3321 13.0918C19.7846 12.6393 20.172 12.1405 20.4932 11.5958L19.6318 11.0878ZM18.625 12.3847C18.2381 12.7716 17.8093 13.1037 17.3378 13.3818L17.8458 14.2432C18.3899 13.9223 18.8856 13.5383 19.3321 13.0918L18.625 12.3847ZM17.3378 13.3818C16.8688 13.6584 16.3625 13.8727 15.8174 14.0241L16.085 14.9876C16.7117 14.8135 17.2992 14.5656 17.8458 14.2432L17.3378 13.3818ZM15.8174 14.0241C15.2766 14.1743 14.713 14.25 14.125 14.25V15.25C14.8 15.25 15.4538 15.1629 16.085 14.9876L15.8174 14.0241ZM14.125 14.25C13.3685 14.25 12.6454 14.1231 11.9528 13.8702L11.6097 14.8095C12.4145 15.1034 13.2539 15.25 14.125 15.25V14.25ZM11.9541 13.8707C11.2658 13.6171 10.6309 13.2517 10.0482 12.7721L9.41276 13.5443C10.08 14.0934 10.8124 14.5157 11.6084 14.809L11.9541 13.8707ZM9.37714 12.8044L1.71113 20.4607L2.41778 21.1682L10.0838 13.512L9.37714 12.8044ZM1.7109 20.4609C1.67746 20.4943 1.65678 20.5 1.625 20.5V21.5C1.93176 21.5 2.20405 21.382 2.41801 21.168L1.7109 20.4609ZM1.625 20.5C1.59322 20.5 1.57254 20.4943 1.5391 20.4609L0.831993 21.168C1.04595 21.382 1.31824 21.5 1.625 21.5V20.5ZM1.5391 20.4609C1.50566 20.4275 1.5 20.4068 1.5 20.375H0.5C0.5 20.6818 0.618034 20.954 0.831993 21.168L1.5391 20.4609ZM1.5 20.375C1.5 20.3432 1.50566 20.3225 1.5391 20.2891L0.831993 19.582C0.618034 19.796 0.5 20.0682 0.5 20.375H1.5ZM1.53933 20.2889L9.19558 12.6229L8.48802 11.9162L0.831768 19.5822L1.53933 20.2889ZM9.22788 11.9518C8.74833 11.3691 8.38293 10.7342 8.12933 10.0459L7.19098 10.3916C7.48426 11.1876 7.90662 11.92 8.45572 12.5872L9.22788 11.9518ZM8.12981 10.0472C7.87687 9.35465 7.75 8.63154 7.75 7.875H6.75C6.75 8.74606 6.89656 9.58546 7.1905 10.3903L8.12981 10.0472ZM7.75 7.875C7.75 7.28697 7.8257 6.72336 7.9759 6.18265L7.01238 5.91501C6.83706 6.54617 6.75 7.20001 6.75 7.875H7.75ZM7.9759 6.18265C8.12733 5.6375 8.3416 5.13118 8.61818 4.6622L7.75682 4.15421C7.43444 4.70085 7.18647 5.28829 7.01238 5.91501L7.9759 6.18265ZM8.61818 4.6622C8.89626 4.19067 9.22842 3.76189 9.61527 3.37504L8.90817 2.66793C8.46168 3.11442 8.0777 3.61011 7.75682 4.15421L8.61818 4.6622ZM9.61527 3.37504C10.0091 2.98121 10.4412 2.64593 10.9122 2.36818L10.4042 1.50682C9.85954 1.82803 9.36069 2.21541 8.90817 2.66793L9.61527 3.37504ZM10.9122 2.36818C11.3812 2.0916 11.8875 1.87733 12.4326 1.7259L12.165 0.762382C11.5383 0.936471 10.9508 1.18444 10.4042 1.50682L10.9122 2.36818ZM12.4326 1.7259C12.9734 1.5757 13.537 1.5 14.125 1.5V0.5C13.45 0.5 12.7962 0.587058 12.165 0.762382L12.4326 1.7259ZM14.125 14C14.9646 14 15.761 13.8409 16.5095 13.5201L16.1155 12.601C15.4968 12.8662 14.8349 13 14.125 13V14ZM16.5131 13.5185C17.2515 13.1951 17.8996 12.7567 18.4532 12.2032L17.7461 11.4961C17.284 11.9581 16.7407 12.3271 16.1119 12.6026L16.5131 13.5185ZM18.4532 12.2032C19.0076 11.6488 19.4432 10.9994 19.7604 10.2595L18.8412 9.86554C18.5724 10.4928 18.2073 11.0348 17.7461 11.4961L18.4532 12.2032ZM19.7588 10.2631C20.087 9.51387 20.25 8.71611 20.25 7.875H19.25C19.25 8.58337 19.1135 9.24395 18.8428 9.86186L19.7588 10.2631ZM20.25 7.875C20.25 7.03389 20.087 6.23613 19.7588 5.48686L18.8428 5.88814C19.1135 6.50605 19.25 7.16663 19.25 7.875H20.25ZM19.7604 5.49054C19.4432 4.7506 19.0076 4.10123 18.4532 3.54684L17.7461 4.25394C18.2073 4.71517 18.5724 5.25721 18.8412 5.88446L19.7604 5.49054ZM18.4532 3.54684C17.8988 2.99244 17.2494 2.55676 16.5095 2.23965L16.1155 3.15879C16.7428 3.42761 17.2848 3.79271 17.7461 4.25394L18.4532 3.54684ZM16.5131 2.24124C15.7639 1.91299 14.9661 1.75 14.125 1.75V2.75C14.8334 2.75 15.4939 2.88649 16.1119 3.1572L16.5131 2.24124ZM14.125 1.75C13.2839 1.75 12.4861 1.91299 11.7369 2.24124L12.1381 3.1572C12.7561 2.88649 13.4166 2.75 14.125 2.75V1.75ZM11.7405 2.23965C11.0006 2.55676 10.3512 2.99244 9.79684 3.54684L10.5039 4.25394C10.9652 3.79271 11.5072 3.42761 12.1345 3.15879L11.7405 2.23965ZM9.79684 3.54684C9.24328 4.1004 8.80494 4.74851 8.48147 5.48686L9.39743 5.88814C9.67292 5.2593 10.0419 4.71601 10.5039 4.25394L9.79684 3.54684ZM8.47988 5.49054C8.15913 6.23897 8 7.03543 8 7.875H9C9 7.16509 9.13384 6.50322 9.39903 5.88446L8.47988 5.49054ZM8 7.875C8 8.71457 8.15913 9.51103 8.47988 10.2595L9.39903 9.86554C9.13384 9.24678 9 8.58491 9 7.875H8ZM8.48147 10.2631C8.80494 11.0015 9.24328 11.6496 9.79684 12.2032L10.5039 11.4961C10.0419 11.034 9.67292 10.4907 9.39743 9.86186L8.48147 10.2631ZM9.79684 12.2032C10.3504 12.7567 10.9985 13.1951 11.7369 13.5185L12.1381 12.6026C11.5093 12.3271 10.966 11.9581 10.5039 11.4961L9.79684 12.2032ZM11.7405 13.5201C12.489 13.8409 13.2854 14 14.125 14V13C13.4151 13 12.7532 12.8662 12.1345 12.601L11.7405 13.5201Z",fill:e,transform:t?"translate(22, 0) scale(-1,1)":"none"}))})(e,this.props.visualTreatmentSettings.enableRightHandedSearchIcon);if(this.props.visualTreatmentSettings.enableRightHandedSearchIcon)return((e,t,i)=>{const n=t||20,a=i||20,r=e.toLowerCase();return m.a.createElement("svg",{width:n,height:a,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M 13.125 0 C 13.7565 0 14.3652 0.0813802 14.9512 0.244141 C 15.5371 0.406901 16.084 0.638021 16.5918 0.9375 C 17.0996 1.23698 17.5618 1.59831 17.9785 2.02148 C 18.4017 2.43815 18.763 2.90039 19.0625 3.4082 C 19.362 3.91602 19.5931 4.46289 19.7559 5.04883 C 19.9186 5.63477 20 6.24349 20 6.875 C 20 7.50651 19.9186 8.11523 19.7559 8.70117 C 19.5931 9.28711 19.362 9.83398 19.0625 10.3418 C 18.763 10.8496 18.4017 11.3151 17.9785 11.7383 C 17.5618 12.1549 17.0996 12.513 16.5918 12.8125 C 16.084 13.112 15.5371 13.3431 14.9512 13.5059 C 14.3652 13.6686 13.7565 13.75 13.125 13.75 C 12.3112 13.75 11.5299 13.6133 10.7812 13.3398 C 10.0391 13.0664 9.35547 12.6725 8.73047 12.1582 L 1.06445 19.8145 C 0.940755 19.9382 0.794271 20 0.625 20 C 0.455729 20 0.309245 19.9382 0.185547 19.8145 C 0.061849 19.6908 0 19.5443 0 19.375 C 0 19.2057 0.061849 19.0592 0.185547 18.9355 L 7.8418 11.2695 C 7.32747 10.6445 6.93359 9.96094 6.66016 9.21875 C 6.38672 8.47005 6.25 7.6888 6.25 6.875 C 6.25 6.24349 6.33138 5.63477 6.49414 5.04883 C 6.6569 4.46289 6.88802 3.91602 7.1875 3.4082 C 7.48698 2.90039 7.84505 2.43815 8.26172 2.02148 C 8.6849 1.59831 9.15039 1.23698 9.6582 0.9375 C 10.166 0.638021 10.7129 0.406901 11.2988 0.244141 C 11.8848 0.0813802 12.4935 0 13.125 0 Z M 13.125 12.5 C 13.8997 12.5 14.6289 12.3535 15.3125 12.0605 C 15.9961 11.7611 16.5918 11.3574 17.0996 10.8496 C 17.6074 10.3418 18.0078 9.74609 18.3008 9.0625 C 18.6003 8.37891 18.75 7.64974 18.75 6.875 C 18.75 6.10026 18.6003 5.37109 18.3008 4.6875 C 18.0078 4.00391 17.6074 3.4082 17.0996 2.90039 C 16.5918 2.39258 15.9961 1.99219 15.3125 1.69922 C 14.6289 1.39974 13.8997 1.25 13.125 1.25 C 12.3503 1.25 11.6211 1.39974 10.9375 1.69922 C 10.2539 1.99219 9.6582 2.39258 9.15039 2.90039 C 8.64258 3.4082 8.23893 4.00391 7.93945 4.6875 C 7.64648 5.37109 7.5 6.10026 7.5 6.875 C 7.5 7.64974 7.64648 8.37891 7.93945 9.0625 C 8.23893 9.74609 8.64258 10.3418 9.15039 10.8496 C 9.6582 11.3574 10.2539 11.7611 10.9375 12.0605 C 11.6211 12.3535 12.3503 12.5 13.125 12.5 Z",fill:r,transform:"translate(20, 0) scale(-1,1)"}))})(e)}return((e,t,i,n)=>{const a=e||"M8.5,3 C11.5375661,3 14,5.46243388 14,8.5 C14,9.74832096 13.5841223,10.8995085 12.8833584,11.8225711 L17.0303301,15.9696699 C17.3232233,16.2625631 17.3232233,16.7374369 17.0303301,17.0303301 C16.7640635,17.2965966 16.3473998,17.3208027 16.0537883,17.1029482 L15.9696699,17.0303301 L11.8225711,12.8833584 C10.8995085,13.5841223 9.74832096,14 8.5,14 C5.46243388,14 3,11.5375661 3,8.5 C3,5.46243388 5.46243388,3 8.5,3 Z M8.5,4.5 C6.290861,4.5 4.5,6.290861 4.5,8.5 C4.5,10.709139 6.290861,12.5 8.5,12.5 C10.709139,12.5 12.5,10.709139 12.5,8.5 C12.5,6.290861 10.709139,4.5 8.5,4.5 Z",r=i||28,o=n||28,s=t.toLowerCase();return m.a.createElement("svg",{width:r,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:a,fill:s}))})(this.props.searchLogoIconSvgPath,e,this.props.button.logoWidth,this.props.button.logoHeight)}getJssStyleSheet(e,t,i,n,a){const r=i?"50px":Q.button.height,o=this.getInputFontSize(n),u=i?"15px":"12px",g=a?"22px":"4px",h=a?"16px":"11px",p={button:Object.assign(Object.assign({},Q.button),{transition:"none",height:r,"background-color":e?s.a:c.c,"border-radius":`0 ${g} ${g} 0`,"body.as_active:not(.nw_as_active) &":{"border-radius":`0 ${g} ${g} 0`},"& svg path":{[d.D]:{fill:d.a.buttonText}},[d.D]:{height:"42px"}}),buttonContainer:Object.assign(Object.assign({},Q.buttonContainer),{transition:"none","& #voice_srch_go":{padding:e?void 0:"0 18px",width:e?void 0:"56px",[d.D]:{border:"1px solid",height:"calc(100% - 2px)"}},"& #image_srch_go":{padding:e?"0 5px":"0 18px","margin-left":e?Object(w.c)("20px",void 0):void 0,"margin-right":e?Object(w.c)(void 0,"20px"):void 0,width:e?void 0:"56px",[d.D]:{border:"1px solid",height:"calc(100% - 2px)"}},"& > svg":Object.assign(Object.assign({},Q.buttonImage),{margin:e?u+" 0":u+" 18px",[d.D]:{margin:u+" 18px"}})})},m={input:Object.assign(Object.assign({},Q.input),{transition:"none",height:r,"border-radius":g,padding:"0 10px 0 "+h,"font-size":o})},b=a?{padding:"0 6px 12px","border-radius":"0 0 22px 22px !important"}:{},f={"& .sa_as":Object.assign({border:"none","border-radius":`0 0 ${g} ${g}`,"border-top":"solid 1px #e5e5e5","box-shadow":"0px 5px 7px rgba(0, 0, 0, 0.09), 0px 3px 3.5px rgba(0, 0, 0, 0.03), 0px 1px 1.5px rgba(0, 0, 0, 0.09)",top:"-1px","& .sa_drw":b},d.d),clear:"both",position:"relative"},C={form:Object.assign(Object.assign({},Q.form),{"&.droplistshow.nwas button":{"border-radius":`0 ${g} ${g} 0`},"&.droplistshow.as button":{"border-radius":`0 ${g} 0 0`},"&.droplisthide button":{"border-radius":`0 ${g} ${g} 0`},"&.droplistshow.nwas input":{"border-radius":`${g} 0 0 ${g}`},"&.droplistshow.as input":{"border-radius":g+" 0 0 0"},"&.droplisthide input":{"border-radius":`${g} 0 0 ${g}`},"&.droplistshow.nwas":{"border-radius":g},"&.droplistshow.as":{"border-radius":`${g} ${g} 0 0`},"&.droplisthide":{"border-radius":g},transition:"none",height:r,"border-radius":g,"& #sw_as":f})},v=e?20:56;let y=e?14:50;y=this.props.searchLogoEnabled?y:0;const S=68+(this.props.voiceSearchExperience?v:y),x={inputContainer:Object.assign(Object.assign({},Q.inputContainer),{width:`calc(100% - ${S}px)`})},O=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Q),p),m),C),x);if(t){const e={button:{cursor:"default"}};Object.assign(O.button,e.button)}if(!e){const e={button:{"&:hover":{"background-color":c.b},"&:active":{"background-color":c.a},"&:focus":{border:"2px solid","box-sizing":"border-box","border-radius":"0 4px 4px 0","border-color":l.a,outline:"none"}}};Object.assign(O.button,e.button)}return O}generateConfigurableSearchStylesFromProps(e,t,i,n,a,o,p,m,b){let f=0;t&&t.borderRadiusInPx&&(f=t.borderRadiusInPx);const C=this.props.input;let v="",y="",S="";e&&e.borderWidth&&0===parseInt(e.borderWidth)&&(v="none",y="solid 1px #e5e5e5",S=e.autoSuggestBoxShadow);let x="none",O="";e&&e.shadowEnabled&&(x=e.boxShadow?e.boxShadow:"0 .3px .9px rgba(0, 0, 0, .12), 0 1.6px 3.6px rgba(0, 0, 0, .12)",O=e.boxShadowOnHover?e.boxShadowOnHover:x);const T=p?"50px":Q.button.height,I=this.getInputFontSize(m),E=p?"15px":"12px",j=e&&e.borderRadius?e.borderRadius:0,L=e&&e.borderColor?e.borderColor:"#e5e5e5",D=e&&e.borderWidth?e.borderWidth:"none",B=e&&e.borderStyle?e.borderStyle:"none",P=b&&e&&e.boxShadowElevationMultiplier?Object(u.b)(e.boxShadowElevationMultiplier):void 0,A=b&&e&&e.boxShadowOnHoverElevationMultiplier?Object(u.b)(e.boxShadowOnHoverElevationMultiplier):void 0,H=n&&n.width?n.width:68,M=a?20:56;let _=a?14:50;_=this.props.searchLogoEnabled?_:0;const R=H+(this.props.voiceSearchExperience?M:_),N=i&&i.twoColumn?i.twoColumn:400,F=i&&i.threeColumn?i.threeColumn:528,U=i&&i.fourColumn?i.fourColumn:760,V=C&&C.searchInputWidth&&C.searchInputWidth.twoColumn?C.searchInputWidth.twoColumn+"px":`calc(100% - ${R}px)`,z=C&&C.searchInputWidth&&C.searchInputWidth.threeColumn?C.searchInputWidth.threeColumn+"px":`calc(100% - ${R}px)`,G=C&&C.searchInputWidth&&C.searchInputWidth.fourColumn?C.searchInputWidth.fourColumn+"px":`calc(100% - ${R}px)`,q={form:Object.assign(Object.assign(Object.assign({"& #sw_as":{"& .sa_as":Object.assign({border:v,"border-radius":`0 0 ${j}px ${j}px`,"border-top":y,"box-shadow":S,top:"-1px"},d.d),clear:"both",position:"relative"},"body.as_active:not(.nw_as_active) &":{"border-radius":`${j}px ${j}px 0 0`},border:`${D} ${B} ${b?Object(g.a)(s.a)(this.currentDesignSystem):L}`,"border-radius":j+"px","box-shadow":x},P),{cursor:"text",margin:"auto",transition:"all .2s ease-in-out","&:hover":Object.assign({"border-color":b?Object(g.a)(s.a)(this.currentDesignSystem):L,"box-shadow":O},A),height:T,background:k.a,[Object(r.e)(null,r.a.c2)]:{width:N+"px"},[Object(r.f)(r.a.c3)]:{width:F+"px"},[Object(r.e)(r.a.c4,null)]:{width:U+"px"}}),d.d),buttonContainer:{"body.as_active:not(.nw_as_active) &":{"border-radius":Object(w.c)(`0 ${f}px 0 0`,f+"px 0 0 0")},left:Object(w.c)("initial","0"),right:Object(w.c)("0","intitial"),"border-radius":Object(w.c)(`0 ${f}px ${f}px 0`,`${f}px 0 0 ${f}px`),"& > svg":{float:Object(w.c)("left","right"),height:"20px",width:"14px",margin:a?E+" 0":E+" 18px",[d.D]:{margin:E+" 18px"}},"& #voice_srch_go":{padding:a?void 0:"0 18px",width:a?void 0:"56px",[d.D]:{border:"1px solid",height:"calc(100% - 2px)"}},"& #image_srch_go":{padding:a?"0 5px":"0 18px","margin-left":a?Object(w.c)("20px",void 0):void 0,"margin-right":a?Object(w.c)(void 0,"20px"):void 0,width:a?void 0:"56px",[d.D]:{border:"1px solid",height:"calc(100% - 2px)"}}},button:{"align-items":"center","border-radius":Object(w.c)(`0 ${f}px ${f}px 0`,`${f}px 0 0 ${f}px`),display:"flex",height:T,"justify-content":"center",padding:"0",width:H+"px","body.as_active:not(.nw_as_active) &":{"border-radius":Object(w.c)(`0 ${f}px 0 0`,f+"px 0 0 0")},"background-color":a?s.a:c.c,"& > svg path":{[d.D]:{fill:d.a.buttonText}},[d.D]:{height:"42px"}},buttonImage:{float:Object(w.c)("left","right"),height:"20px",width:"14px"},inputContainer:{"border-radius":"inherit",width:"100%"},input:{background:s.a,color:h.c,height:b?"inherit":T,"font-size":I,[Object(r.e)(null,r.a.c2)]:{width:V},[Object(r.f)(r.a.c3)]:{width:z},[Object(r.e)(r.a.c4,null)]:{width:G},[d.D]:{height:"38px"}}};if(o){const e={button:{cursor:"default"}};Object.assign(q.button,e.button)}if(!a){const e={button:{"&:hover":{"background-color":c.b},"&:active":{"background-color":c.a},"&:focus":{border:"2px solid","box-sizing":"border-box","border-radius":`0 ${f}px ${f}px 0`,"border-color":l.a,outline:"none"}}};Object.assign(q.button,e.button)}return q}searchButtonClickHandler(e){e.preventDefault(),e.stopPropagation()}registerFocusRedirectHandler(){this.ntpApiHandle&&(this.ntpApiHandle.oninputstart=this.onInputStart,this.ntpApiHandle.oninputcancel=this.onInputCancel,this.ntpApiHandle.isInputInProgress&&this.onInputStart()),this.searchboxApiHandle&&(this.searchboxApiHandle.onkeycapturechange=this.onKeyCaptureChange,this.setInpageSearchboxFocus(this.searchboxApiHandle.isKeyCaptureEnabled),this.searchboxApiHandle.isKeyCaptureEnabled&&this.searchboxApiHandle.startCapturingKeyStrokes()),this.inputRef.current&&this.inputRef.current.addEventListener("focus",this.handleFocusEvent),this.buttonContainerRef.current&&this.buttonContainerRef.current.addEventListener("click",this.searchButtonClickHandler),document.body.addEventListener("mousedown",this.handleMouseDownEvent)}}J.defaultProps={experienceName:X.a.searchBoxEdgeNext};var ee=i("KqfB"),te=i("G82u");class ie{}ie.initializeAutoSuggest=new te.a("InitializeAutoSuggest"),ie.themeChange=new te.a("lightThemeEnabled"),ie.inPageSearchBoxTypeChanged=new te.a("UpdateInPageSearchBoxType"),ie.updatePlaceholderText=new te.a("UpdatePlaceholderText"),ie.updateQueryInPlaceholderText=new te.a("UpdateQueryInPlaceholderText"),ie.updateShowGhostText=new te.a("UpdateShowGhostText"),ie.renderVoiceSearch=new te.a("RenderVoiceSearch"),ie.completeVoiceSearch=new te.a("CompleteVoiceSearch"),ie.renderImageSearch=new te.a("RenderImageSearch"),ie.showVoiceSearchDialog=new te.a("ShowVoiceSearchDialog"),ie.updateEdgeNextLayoutMode=new te.a("UpdateEdgeNextLayoutMode"),ie.showImageSearchDialog=new te.a("ShowImageSearchDialog");var ne=i("D57K"),ae=i("jE1l"),re=i("Ac7j"),oe=i("eoyk"),se=(i("plCa"),i("hnBi")),ce=i("WfnD"),de=i("s9+9");class le{}le.updateFormCode=new te.a("UpdateFormCode"),le.updateSearchOpenInNewWindowState=new te.a("UpdateSearchOpenInNewWindowState"),le.renderVoiceSearch=new te.a("RenderVoiceSearch"),le.completeVoiceSearch=new te.a("CompleteVoiceSearch"),le.renderImageSearch=new te.a("RenderImageSearch"),le.showVoiceSearchDialog=new te.a("ShowVoiceSearchDialog"),le.showImageSearchDialog=new te.a("ShowImageSearchDialog");i("1I/+"),i("0dho");var ue=i("9RHM"),ge=i("JnE6");const he=e=>{const{state:t,config:i,connectorArgs:n}=e,a=i.searchExperienceProps;if(!a)return{props:void 0,missingChildren:[]};const r=Object.assign(Object.assign({},a),{lightThemeEnabled:t.BingImageData&&t.BingImageData.isEnabled,completeVoiceSearch:t.completeVoiceSearch,showVoiceSearchDialog:t.showVoiceSearchDialog,showImageSearchDialog:t.showImageSearchDialog});if(a.button&&(r.button=Object.assign({},a.button)),!a.searchComponentProps)return{props:void 0,missingChildren:[]};r.searchComponentProps=Object.assign({},a.searchComponentProps),a.searchComponentProps.button&&(r.searchComponentProps.button=Object.assign({},a.searchComponentProps.button));const{searchComponentProps:o}=r;if(o.input){const e=o.input.ariaLabel?o.input.ariaLabel.children:void 0;o.input=Object.assign(Object.assign({},o.input),{autoComplete:"off",maxLength:250,"aria-label":e})}else o.input={autoComplete:"off",maxLength:250,"aria-label":void 0};if(delete o.input.ariaLabel,n.getRequestId&&(r.requestId=n.getRequestId()),n.updateFormParameters&&(o.formParameters=n.updateFormParameters(o,r.requestId)),a.button&&!a.button.logoEnabled){const e=a.button.buttonText;r.button.buttonText=e,o.button&&e&&(o.button.title=String(e.children))}r.buttonContainer=a.buttonContainer;const s=a.input&&a.input.placeholderTextEnabled,c=a&&a.searchComponentProps&&a.searchComponentProps.input&&a.searchComponentProps.input.placeholder;if(o.input.placeholder=s?"string"==typeof c?c:c?c.children:void 0:"",o.input.title&&(o.input["aria-label"]=o.input.title),n.mapCommonTelemetryObject&&n.mapCommonTelemetryObject(r,n.telemetryObject),i.showResultsInNewWindowFor1And2Column&&(r.searchOpenInNewWindow=t.searchOpenInNewWindow,r.searchComponentProps.target=t.searchOpenInNewWindow?"_blank":"_self"),n.getFormCode){const e=n.getFormCode(o.formParameters);e&&(r["data-form-code"]=e)}return r.cookieConsentCallback=n.cookieConsentCallback,r.cookieConsentCallbackAndDecorateLink=n.cookieConsentCallbackAndDecorateLink,n.getBackgroundColorOverrideForVertical&&(r.backgroundColorOverride=n.getBackgroundColorOverrideForVertical()),r.shiftFocusToWebCallback=n.shiftFocusToWebCallback,r.elementtiming="TTVR.SearchBox",{props:r,missingChildren:[]}};ce.a;function pe(e,t){const i=e.searchComponentProps;if(this.telemetryObject&&!t&&(t=this.telemetryObject),t){if(t.contract){let n=e.showVoiceSearchDialog?L.c.VoiceSearch:L.c.TextSearch;n=e.showImageSearchDialog?L.c.ImageSearch:n,Object.assign(t.contract,{name:"headersearch",action:L.b.Submit,behavior:n,content:{type:L.d.TextSearch},overrideDestinationUrl:i.action,type:L.f.SearchBox})}const n=t?t.render():null,a=ge.a;i[a]=n?n[a]:null}e.telemetryCallback=D.a.sendActionEvent.bind(D.a),e.appErrorCallback=D.a.sendAppErrorEvent.bind(D.a)}function me(){return D.a.getRequestId()||Object(P.c)().ActivityId.toLowerCase()}var be=i("D/6c"),fe=i("gmMM");function Ce(e,t,i,n){if(!e)return void D.a.sendAppErrorEvent(Object.assign(Object.assign({},j.wf),{message:"Form parameters is not configured.",source:"getFormCodeParameters.ts"}));if(!i)return void D.a.sendAppErrorEvent(Object.assign(Object.assign({},j.wf),{message:"Form code is not configured.",source:"getFormCodeParameters.ts"}));const a=Object(ue.a)(e),r=a.findIndex(e=>"refig"===e.name);-1!==r?a[r].value=t:a.push({name:"refig",value:t});const o=f.a.getParamsFromUrl(location.search),s=o&&o.length>0&&o.find(e=>"cc"===e.key.toLowerCase());if(s&&s.value){const e=a.findIndex(e=>"cc"===e.name);-1!==e?a[e].value=s.value:a.push({name:"cc",value:s.value})}let c="";c=n?i.bingSearchEngine:i.nonBingSearchEngine;const d=a.findIndex(e=>"form"===e.name);return-1!==d?a[d].value=c:a.push({name:"form",value:c}),a}const ve={inspect:e=>{const{state:t,config:i,connectorArgs:n}=e,a=i.searchExperienceProps;if(!a)return{props:void 0,missingChildren:[]};const r=Object.assign(Object.assign({},a),{"data-customhandled":"true",completeVoiceSearch:t.completeVoiceSearch,enableConfigurableSettings:i.enableConfigurableSettings,visualTreatmentSettings:i.visualTreatments,queryInPlaceholderText:t.queryInPlaceholderText,handleSearchBoxFocus:n.handleSearchBoxFocus,handleSearchBoxBlur:n.handleSearchBoxBlur,isDefaultSearchBing:n.isDefaultSearchBing,showImageSearchDialog:t.showImageSearchDialog});a.searchComponentProps&&(r.searchComponentProps=Object.assign({},a.searchComponentProps),a.searchComponentProps.input&&(r.searchComponentProps.input=Object.assign({},a.searchComponentProps.input)));const o=he(e),{props:s}=o;Object.assign(r,s,{lightThemeEnabled:t.lightThemeEnabled,initAutoSuggest:t.initAutoSuggest}),a.autoSuggest&&(r.autoSuggest=Object.assign({},a.autoSuggest));const c=t.edgeNextLayoutState&&!t.edgeNextLayoutState.imageOfTheDayEnabled&&"always"!=t.edgeNextLayoutState.selectedFeedDisplaySetting;if(r.initAutoSuggest=t.initAutoSuggest,r.searchLogoEnabled=!n.isDefaultSearchBing&&(void 0===i.enableLogo||i.enableLogo)&&!c,i.searchExperienceProps.focusRedirectEnabled&&(r.focusRedirectEnabled=n.focusRedirectEnabled),r.focusRedirectEnabled&&(r.searchLogoEnabled=!1,r.keyPressCaptureEnabled=!1,r.searchComponentProps&&r.searchComponentProps.input&&(r.searchComponentProps.input.tabIndex="-1")),r.visualTreatmentSettings){if(r.visualTreatmentSettings.enableGhostTextOnSearchBox&&(r.focusRedirectEnabled||!i.recommendedSearchConfig||r.input&&!r.input.placeholderTextEnabled)){const e=Object.assign({},r.visualTreatmentSettings);e.enableGhostTextOnSearchBox=!1,r.visualTreatmentSettings=e}if(r.visualTreatmentSettings.enableGhostTextOnSearchBox&&r.searchComponentProps){const e=Object.assign({},r.searchComponentProps);e.input&&(t.showGhostText?t.queryInPlaceholderText&&t.queryInPlaceholderText.length>0&&(e.input.placeholder=i.visualTreatments.ghostTextOnSearchBoxPrefix+t.queryInPlaceholderText):e.input.placeholder=""),r.searchComponentProps=e}}if(i&&i.searchExperienceProps&&i.searchExperienceProps.autoSuggest){let e=i.searchExperienceProps.autoSuggest.businessSearchResultsEnabled;if(i.searchExperienceProps.autoSuggest.feedSwitcherCheckEnabled&&(e=n.feedSwitcherEnabled,r.autoSuggest&&(r.autoSuggest.businessSearchResultsEnabled=e)),e&&r.searchComponentProps){const e=Object.assign({},r.searchComponentProps);e.input&&(e.input=Object.assign({},r.searchComponentProps.input),t.placeholderText&&t.placeholderText.length>0?e.input.placeholder=t.placeholderText:r.focusRedirectEnabled||(e.input.placeholder="")),r.searchComponentProps=e}}if(r.searchComponentProps&&(r.searchComponentProps.formParameters=n.getFormCodeParameters(r.searchComponentProps.formParameters,n.getRequestId(),i.formCodes,n.isDefaultSearchBing)),r.autoSuggest){r.autoSuggest.osLanguage=null;const e=n.urlParams,t=e&&e.length>0&&e.find(e=>"cc"===e.key.toLowerCase());t&&t.value?r.autoSuggest.osMarket=t.value:r.autoSuggest.osMarket=null}return{props:r,missingChildren:[]}}};var ye=i("W2MA"),Se=i("+djJ"),xe=i("wnOY"),Oe=i("A8DD"),Te=i("PKvX"),we=i("+8mm");class Ie extends ce.a{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.feedSwitcherEnabled=!1,this.focusRedirectEnabled=!1,this.handleSearchBoxFocus=()=>{ie.updateShowGhostText.getActionSender(this).send(!1)},this.handleSearchBoxBlur=()=>{ie.updateShowGhostText.getActionSender(this).send(!0)},this.config.searchExperienceProps.autoSuggest.businessSearchResultsEnabled&&(window.addEventListener("msb:qf:tnt:name",e=>{this.updatePlaceholderTextHandler(e,!0)},{once:!0}),window.addEventListener("msb:qf:none",e=>{this.updatePlaceholderTextHandler(e,!1)},{once:!0})),this.isDefaultSearchBing=this.checkDefaultSearchIsBing()}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{telemetryObject:this.telemetryObject,getRequestId:me,updateFormParameters:void 0,mapCommonTelemetryObject:pe,getFormCode:void 0,getBackgroundColorOverrideForVertical:void 0,cookieConsentCallback:void 0,cookieConsentCallbackAndDecorateLink:void 0,shiftFocusToWebCallback:void 0,isDefaultSearchBing:this.isDefaultSearchBing,feedSwitcherEnabled:this.feedSwitcherEnabled,focusRedirectEnabled:this.focusRedirectEnabled,getFormCodeParameters:Ce,urlParams:f.a.getParamsFromUrl(location.search),handleSearchBoxFocus:this.handleSearchBoxFocus,handleSearchBoxBlur:this.handleSearchBoxBlur}},i=ve.inspect(t);return Object.assign(Object.assign(Object.assign({},i.props),this.telemetryTags),{imageSearchClickCallback:this.imageSearchClickCallBack.bind(this),imageSearchExperience:this.getImageSearchExperience(),imageSearchTelemetry:this.imageSearchButtonTelemetryObject,voiceSearchExperience:this.getVoiceSearchExperience(),voiceSearchTelemetry:this.voiceSearchButtonTelemetryObject,voiceSearchClickCallback:this.voiceSearchClickCallBack.bind(this)})}onComponentConnect(e){return Object(ne.b)(this,void 0,void 0,(function*(){ce.a.prototype.onComponentConnect.call(this,e),this.experienceLoadedData=this.rootReducer.connector(de.a.ExperienceLoadedData),oe.a.updateLayout.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||(ie.themeChange.getActionSender(this).send(t[0].imageOfTheDayEnabled),ie.updateEdgeNextLayoutMode.getActionSender(this).send(t[0]))}),this.checkDefaultSearchIsBing()&&(this.config.searchExperienceProps.voiceSearchExperience&&(this.voiceSearchButtonTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"voicesearch",behavior:L.c.Open,content:{type:L.d.VoiceSearch,headline:"Voice Search"},overrideDestinationUrl:" "}):null),this.config.searchExperienceProps.searchComponentProps.enablePreloadVoiceSearchBtn||this.loadVoiceSearchExperience(),this.config.searchExperienceProps.imageSearchExperience&&(this.imageSearchButtonTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"ImageSearch",behavior:L.c.Open,content:{type:L.d.ImageSearch,headline:"Image Search"},customHandled:!0}):null),this.loadImageSearchExperience());const t=yield se.a.getInstance().rootReducer.getDataConnector(de.a.ChromiumPageSettings);let i=t.getCurrentState().configData;void 0===i&&(i=yield t.getConfigDataAsync()),this.feedSwitcherEnabled=i&&i.showFeedSwitcher,this.focusRedirectEnabled=i&&i.inPageSearchBoxType===ae.b.redirect;const n=yield t.getLayoutStateAsync();ie.themeChange.getActionSender(this).send(n.imageOfTheDayEnabled),ie.updateEdgeNextLayoutMode.getActionSender(this).send(n),this.config.searchExperienceProps.focusRedirectEnabled&&re.a.updateConfigDataChanged.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;t[0]!==(i&&i.inPageSearchBoxType)&&Object(be.b)()}),ie.updateShowGhostText.getActionSender(this).send(!0)}))}updatePlaceholderTextHandler(e,t){const i=e&&e.detail;let n="";const a=this.config.searchExperienceProps.input.businessResultPlaceholderText,r=this.config.searchExperienceProps;if(t&&i){n=a.tenantAvailable.replace(/\{0\}/g,i)}else n=t&&!i?a.tenantMissing:r.searchComponentProps.input.placeholder;ie.updatePlaceholderText.getActionSender(this).send(n)}checkDefaultSearchIsBing(){const e=f.a.getParamsFromUrl(location.search),t=e.findIndex(e=>"dsp"===e.key);return t>-1&&"1"===e[t].value}loadVoiceSearchExperience(){return Object(ne.b)(this,void 0,void 0,(function*(){const e=this.config.searchExperienceProps.voiceSearchExperience;if(e)if(Object(fe.h)(e)){if(!this.childMap.get(e.instanceId)){yield this.loadChildExperience(e);this.experienceLoadedData.getCurrentState().voiceSearchIsLoaded?this.connectVoiceSearchExperience():xe.a.voiceSearchLoaded.registerObserver(()=>{Object(Oe.a)().then(()=>{this.connectVoiceSearchExperience()})})}}else D.a.sendAppErrorEvent(Object.assign(Object.assign({},j.fj.SearchBoxEdgeNextVoiceSearchError),{message:"Failed to fetch config. Ensure voice search config exists and is correct."}))}))}connectVoiceSearchExperience(){ie.renderVoiceSearch.getActionSender(this).send(!0),ye.a.completeSearchText.registerObserver(e=>{const t=e.params[0];t&&ie.completeVoiceSearch.getActionSender(this).send(t)}),ye.a.openDialog.registerObserver(e=>{ie.showVoiceSearchDialog.getActionSender(this).send(!0)}),ye.a.closeDialog.registerObserver(e=>{ie.showVoiceSearchDialog.getActionSender(this).send(!1);document.getElementById("voice_srch_go").focus()}),ie.completeVoiceSearch.registerObserver(e=>{const t=e.params[0];if(!t)return;document.getElementById("q").value=t;document.getElementById("sb_form_go").click()})}getVoiceSearchExperience(){const e=this.config.searchExperienceProps.voiceSearchExperience;if(e&&e.instanceId){const t=this.childMap.get(e.instanceId);return t?t.getNewComponentInstance():null}return null}voiceSearchClickCallBack(){return Object(ne.b)(this,void 0,void 0,(function*(){if(!this.experienceLoadedData.getCurrentState().voiceSearchIsLoaded&&this.config.searchExperienceProps.searchComponentProps.enablePreloadVoiceSearchBtn){Object(Se.j)(""+X.a.voiceSearch);const e=Object(Z.g)();e&&we.a.updateStartLoadingTiming.getActionSender(e).send(Object(Z.c)(X.a.voiceSearch,void 0,void 0,void 0,window.performance.now())),yield this.loadVoiceSearchExperience()}const e=se.a.getInstance().rootReducer.connectors().find(e=>e.namespace.indexOf(X.a.voiceSearch)>=0);ye.a.initializeMic.getActionSender(e).send()}))}loadImageSearchExperience(){return Object(ne.b)(this,void 0,void 0,(function*(){const e=this.config.searchExperienceProps.imageSearchExperience;if(e)if(e.instanceId){if(!this.childMap.get(e.instanceId)){yield this.loadChildExperience(e);this.experienceLoadedData.getCurrentState().imageSearchIsLoaded?this.connectImageSearchExperience():xe.a.imageSearchLoaded.registerObserver(()=>{Object(Oe.a)().then(()=>{this.connectImageSearchExperience()})})}}else D.a.sendAppErrorEvent(Object.assign(Object.assign({},j.oh),{message:"Failed to fetch config. Ensure image search config exists and is correct."}))}))}connectImageSearchExperience(){ie.renderImageSearch.getActionSender(this).send(!0),Te.a.toggleImageSearchOverlay.registerObserver(e=>{const t=e&&e.params;!t||t.length<1||ie.showImageSearchDialog.getActionSender(this).send(t[0])})}getImageSearchExperience(){const e=this.config.searchExperienceProps.imageSearchExperience;if(e&&e.instanceId){const t=this.childMap.get(e.instanceId);return t?t.getNewComponentInstance():null}return null}imageSearchClickCallBack(e){return Object(ne.b)(this,void 0,void 0,(function*(){this.experienceLoadedData.getCurrentState().imageSearchIsLoaded||(yield this.loadImageSearchExperience());const t=se.a.getInstance().rootReducer.connectors().find(e=>e.namespace.indexOf(X.a.imageSearch)>=0);Te.a.toggleImageSearchOverlay.getActionSender(t).send(!e),ie.showImageSearchDialog.getActionSender(this).send(!e)}))}}var Ee,ke=i("KRKw"),je=i("4wjP"),Le=i("tERu"),De=i("r7RP"),Be=i("3Amp"),Pe=i("H3ag");!function(e){e.searchTimeToFirstSearchInteractive="Search-TimeToFirstSearchInteractive"}(Ee||(Ee={}));class Ae extends Ie{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.startPerfMarkerHandler=e=>{Pe.a.startMark(e)},this.endPerfMarkerHandler=e=>{Pe.a.endMark(e)},this.windowPerformanceMarkHandler=e=>{Pe.a.singleMark(e)},this.setTelemetryPersonalizationParam=e=>{const t={page:{has3PSearch:!e}};D.a.updatePageMetadata(t)},this.renderIfOffline=!0,this.startPerfMarkerHandler(Ee.searchTimeToFirstSearchInteractive),this.setTelemetryPersonalizationParam(this.checkDefaultSearchIsBing()),this.ghostTextEnabled=r.visualTreatments&&r.visualTreatments.enableGhostTextOnSearchBox&&r.recommendedSearchConfig&&(!r.searchExperienceProps||!r.searchExperienceProps.input||r.searchExperienceProps.input.placeholderTextEnabled),this.ghostTextEnabled&&(this.recommendedSearchDataService=new De.a,this.ghostTextConfig=r.recommendedSearchConfig)}onComponentConnect(e){const t=Object.create(null,{onComponentConnect:{get:()=>super.onComponentConnect}});return Object(ne.b)(this,void 0,void 0,(function*(){if(t.onComponentConnect.call(this,e),this.config.searchExperienceProps.autoSuggest.businessSearchResultsEnabled){const e=yield se.a.getInstance().rootReducer.getDataConnector(de.a.ChromiumPageSettings);let t=e.getCurrentState().configData;void 0===t&&(t=yield e.getConfigDataAsync(),re.a.updateConfigData.getActionSender(e).send(t));if(this.isAadAccountUser()){const e=this.isCookieConsentRequired();we.a.updateAboveTheFoldVisuallyReady.registerObserver(()=>{if(e){const e=this.config.searchExperienceProps.input.businessResultPlaceholderText;ie.updatePlaceholderText.getActionSender(this).send(e.tenantMissing)}else ie.initializeAutoSuggest.getActionSender(this).send()}),e&&Be.a.cookieConsentStatus.registerObserver(e=>{e.params[0]===ke.b.NotRequired&&ie.initializeAutoSuggest.getActionSender(this).send()})}}this.ghostTextEnabled&&(yield this.fetchRecommendedSearch())}))}fetchRecommendedSearch(){return Object(ne.b)(this,void 0,void 0,(function*(){const e=yield this.recommendedSearchDataService.fetchRecommendedSearches(this.ghostTextConfig);e.searchItems&&e.searchItems[0].query&&(this.query=e.searchItems[0].query,ie.updateQueryInPlaceholderText.getActionSender(this).send(this.query))}))}mapStateToProps(e){const t=super.mapStateToProps(e);return t.startPerfMarkerHandler=this.startPerfMarkerHandler,t.endPerfMarkerHandler=this.endPerfMarkerHandler,t.windowPerformanceMarkHandler=this.windowPerformanceMarkHandler,t}isCookieConsentRequired(){return se.a.getInstance().rootReducer.connector(de.a.SharedState).getCurrentState().cookieConsentStatus===ke.b.Required}isAadAccountUser(){if(P.b.CurrentRequestTargetScope.audienceMode===je.a.Enterprise){const e=P.b.ResolvedAccountInfo;return e&&e.account_type&&e.account_type===Le.b.AAD}return!1}}var He=i("05Au");class Me{reduce(e,t){if(!e)return{lightThemeEnabled:!1,initAutoSuggest:!1,renderVoiceSearch:!1,placeholderText:null,queryInPlaceholderText:null,completeVoiceSearch:!1,showVoiceSearchDialog:!1,showGhostText:!1,renderImageSearch:!1,edgeNextLayoutState:void 0,showImageSearchDialog:!1};if(!t)return e;let i,n=!1;return n=He.a.handleAction(t,ie.themeChange,t=>{i=Object.assign(Object.assign({},e),{lightThemeEnabled:t})}),n=He.a.handleAction(t,ie.initializeAutoSuggest,()=>{i=Object.assign(Object.assign({},e),{initAutoSuggest:!0})}),n=He.a.handleAction(t,ie.updatePlaceholderText,t=>{i=Object.assign(Object.assign({},e),{placeholderText:t})}),n=n||He.a.handleAction(t,ie.updateQueryInPlaceholderText,t=>{i=Object.assign(Object.assign({},e),{queryInPlaceholderText:t})}),n=n||He.a.handleAction(t,ie.updateShowGhostText,t=>{i=Object.assign(Object.assign({},e),{showGhostText:t})}),n=n||He.a.handleAction(t,ie.renderVoiceSearch,t=>{i=Object.assign(Object.assign({},e),{renderVoiceSearch:t})}),n=n||He.a.handleAction(t,ie.renderImageSearch,t=>{i=Object.assign(Object.assign({},e),{renderImageSearch:t})}),n=n||He.a.handleAction(t,ie.completeVoiceSearch,t=>{i=Object.assign(Object.assign({},e),{completeVoiceSearch:!0})}),n=n||He.a.handleAction(t,ie.showVoiceSearchDialog,t=>{i=Object.assign(Object.assign({},e),{showVoiceSearchDialog:t})}),n=n||He.a.handleAction(t,ie.updateEdgeNextLayoutMode,t=>{i=Object.assign(Object.assign({},e),{edgeNextLayoutState:t})}),n=n||He.a.handleAction(t,ie.showImageSearchDialog,t=>{i=Object.assign(Object.assign({},e),{showImageSearchDialog:t})}),i||e}}var _e=i("F4Bu"),Re=i("SX8U"),Ne=i("/KOk");const Fe=Object(b.a)(e=>({searchbox_cursor:{background:h.c,bottom:"14px",margin:"0 2px",position:"absolute",top:"14px",visibility:"hidden",width:"1px"},searchbox_cursor__focused:{animation:"blink 1.3s step-end infinite",visibility:"inherit"},searchbox_fake:{visibility:"visible"},searchbox_fake__hidden:{visibility:"hidden"},searchbox_voicesearch_button:{background:"none",border:"none","box-shadow":"none",float:Object(w.c)("left","right"),height:"100%",padding:"0","& svg":{height:"20px",margin:0,width:"20px","& path":{fill:Object(o.e)(e)?"#FFF":void 0}}},searchbox_imagesearch_button:{background:"none",border:"none","box-shadow":"none",float:Object(w.c)("left","right"),height:"100%",padding:"0","& svg":{height:"20px",margin:0,width:"20px","& path":{fill:Object(o.e)(e)?"#FFF":void 0}}},"@keyframes blink":{"0%":{opacity:"1"},"61.55%":{opacity:"0"}},logoSvg:{cursor:"pointer",height:"25px",margin:Object(w.c)("8px 8px 0 0","8px 0 0 8px"),width:"25px",position:"relative"},logoSvg__cursor:{cursor:"default"}}))(J),Ue={reactComponent:Fe,experienceConfigSchema:ee.SearchBoxEdgeChromiumConfigSchema,mockState:Ne.mockState,mockConfig:_e.mockConfig,mockConnectorArgs:Re.mockConnectorArgs,inspector:ve.inspect}},QuHq:function(e,t,i){"use strict";var n=i("fz//"),a=i("3ZGc"),r=i("mIHV"),o=i("iuMt"),s=i("ZEO0"),c=i("PfRV"),d=i("SP+O"),l=i("7b0X"),u=i("LD6M"),g=i("zP2P"),h=i("MF9s"),p=i("GaXA"),m=i("8yfO"),b=i("objN");const f={contextMenuItem:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"list-style-type":"none","box-sizing":"border-box",height:Object(g.d)(),display:"grid","grid-template-columns":Object(n.a)("{0} auto {0}",Object(a.a)(Object(r.a)(Object(g.g)(-2),16,Object(g.g)()))),"grid-template-rows":"auto","justify-items":"center","align-items":"center",padding:"0",margin:Object(n.a)("0 {0}",Object(a.a)(h.p)),color:d.c,fill:d.c,"white-space":"nowrap",overflow:"hidden"},Object(s.c)()),Object(m.b)("t7")),Object(c.a)()),Object(c.d)()),Object(o.a)({"border-color":l.a,[b.D]:{color:b.a.selectedText,fill:b.a.selectedText,background:b.a.selectedBackground,"box-shadow":Object(n.a)("0 0 0 {0} inset {1}",Object(a.a)(h.s),()=>b.a.buttonText)}})),{"&:hover":Object.assign({background:u.b},b.z),"&:active":Object.assign({background:u.a},b.z)}),b.E),contextMenuItem_contentRegion:{"grid-column-start":"2","justify-self":"start",overflow:"hidden","text-overflow":"ellipsis"},contextMenuItem__disabled:Object.assign(Object.assign(Object.assign({},Object(p.a)()),b.i),{"&:hover":Object.assign({},b.i)})};t.a=f},RzF4:function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),r=i("OnwC"),o=i("gQ7Y"),s=i("XJ1h"),c=i("4YCp"),d=i("uhNu"),l=i("1j0g"),u=i("o1qX"),g=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i};const h={badge__filled:{},badge__small:{"&$badge__filled":{padding:"1px 5px"}}};class p extends r.a{constructor(){super(...arguments),this.handledProps={actionButton:void 0,badge:void 0,destination:void 0,image:void 0,managedClasses:void 0,pinned:void 0},this.handleActionButtonClick=e=>{Object(s.a)(this.props.actionButton)||"function"!=typeof this.props.actionButton.onInvoke||this.props.actionButton.onInvoke(e)}}render(){const{topSite_content:e}=this.props.managedClasses;return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),a.a.createElement("div",{className:Object(u.a)(e)},this.generateImage(),this.generateTitle()),this.generateActionButton())}generateClassNames(){const{topSite:e,topSite__pinned:t}=this.props.managedClasses;return super.generateClassNames(Object(u.a)(e,[t,this.props.pinned]))}generateImage(){if("function"==typeof this.props.image)return this.props.image(Object(u.a)(this.props.managedClasses.topSite_image))}generateTitle(){const{topSite_title:e,topSite_destination:t}=this.props.managedClasses;return a.a.createElement("div",{className:Object(u.a)(e)},a.a.createElement(o.default,Object.assign({},this.props.destination,{className:Object(u.a)(t)})),this.generateBadge())}generateBadge(){if(this.props.badge){const{topSite_badge:e}=this.props.managedClasses,t={density:-2};return a.a.createElement(l.a,{designSystem:t},a.a.createElement(c.a,Object.assign({},this.props.badge,{className:Object(u.a)(e),filled:!0,jssStyleSheet:h,size:d.a.small})))}}generateActionButton(){if(this.props.actionButton){const e=this.props.actionButton,{icon:t,label:i,onInvoke:n}=e,r=g(e,["icon","label","onInvoke"]),{topSite_actionButton:s,topSite_actionButtonGlyph:c}=this.props.managedClasses;return a.a.createElement(o.default,Object.assign({},r,{"aria-label":i,onClick:this.handleActionButtonClick,className:Object(u.a)(s)}),"function"==typeof t?t(Object(u.a)(c)):null)}}}p.displayName="TopSite",p.defaultProps={managedClasses:{}},t.default=p},S1nw:function(e,t){},SWc4:function(e,t){},SX8U:function(e,t){},"UQo/":function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),r=i("OnwC"),o=i("o1qX");class s extends r.a{constructor(){super(...arguments),this.handledProps={url:void 0,managedClasses:void 0}}render(){return a.a.createElement("div",Object.assign({},this.unhandledProps(),{className:this.generateClassNames()},this.generateStyleAttributes()),this.props.children)}generateClassNames(){return super.generateClassNames(Object(o.a)(this.props.managedClasses.backgroundImage))}generateStyleAttributes(){return{style:{backgroundImage:`url(${this.props.url})`}}}}s.displayName="BackgroundImage",s.defaultProps={managedClasses:{}},t.default=s},W2MA:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.initializeMic=new n.a("InitializeMic"),a.openDialog=new n.a("OpenDialog"),a.closeDialog=new n.a("CloseDialog"),a.preventNarrator=new n.a("PreventNarrator"),a.completeSearchText=new n.a("CompleteSearchText"),a.updateSearchText=new n.a("UpdateSearchText"),a.searchError=new n.a("SearchError"),a.searchBlocked=new n.a("SearchBlocked")},XIuK:function(e,t,i){"use strict";var n=i("LNHN"),a=[],r=[],o=n.makeRequestCallFromTimer((function(){if(r.length)throw r.shift()}));function s(e){var t;(t=a.length?a.pop():new c).task=e,n(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(r.push(e),o())}finally{this.task=null,a[a.length]=this}}},XYDf:function(e,t,i){"use strict";var n=i("PfRV"),a=i("MF9s"),r=i("7FLv"),o=i("objN");const s={dialog:{display:"none",'&[aria-hidden="false"]':{display:"block"}},dialog_positioningRegion:{display:"flex","justify-content":"center",position:"fixed",top:"0",bottom:"0",left:"0",right:"0",overflow:"auto"},dialog_modalOverlay:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0, 0, 0, 0.3)"},dialog_contentRegion:Object.assign(Object.assign(Object.assign(Object.assign({"margin-top":"auto","margin-bottom":"auto",background:a.k},Object(n.b)()),Object(r.b)(r.a.e14)),{"z-index":"1"}),o.d)};t.a=s},a5dx:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.renderSearchHistory=new n.a("MapSearchHistoryItems")},"a9k+":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("k66M"),a=i("XYDf"),r=i("zP2P"),o=i("PfRV"),s=i("8yfO"),c=i("SP+O"),d=i("6UxA"),l=i("3ZGc"),u=i("mIHV"),g=i("rRWH");var h=e=>Object(d.a)(a.a,{dialog:{"& $dialog_closeButton":{"min-width":"unset"}},dialog__singleAction:{"& $dialog_primaryButton":{"grid-column-start":"2"}},dialog_contentRegion:Object.assign({"box-sizing":"border-box",display:"flex","flex-direction":"column",padding:Object(l.a)(Object(u.c)(Object(r.g)(),2)),position:"relative"},Object(o.c)()),dialog_actionWrapper:{"box-sizing":"border-box",display:"grid","grid-template-columns":"1fr 1fr","grid-gap":"8px",width:"100%","margin-top":"18px"},dialog_body:Object.assign(Object.assign({flex:"1 1 0","margin-top":"8px"},Object(s.b)("t8")),{color:c.c}),dialog_heading:{display:"inline-block"},dialog_primaryButton:{position:"relative"},dialog_secondaryButton:{position:"relative"},dialog_closeButton:{"box-sizing":"border-box",position:"absolute",transition:"none",top:Object(l.a)(Object(r.g)()),left:Object(g.c)("",Object(r.f)()),right:Object(g.c)(Object(r.f)(),""),"& $dialog_closeButtonGlyph":{width:Object(l.a)(Object(u.d)(r.c,6)),height:Object(l.a)(Object(u.d)(r.c,6))}},dialog_closeButtonGlyph:{},dialog_beforeContentRegion:{"justify-self":"start"},dialog_beforeContent:{"margin-left":Object(g.c)(Object(r.f)(),""),"margin-right":Object(g.c)("",Object(r.f)())},dialog_afterContentRegion:{"justify-self":"end",display:"inline-flex","align-items":"center"},dialog_afterContent:{},dialog_mainContent:{}}),p=i("+viU");const m=Object(p.a)(h)(n.default)},"do/H":function(e,t){},h33R:function(e,t,i){"use strict";var n=i("OnwC"),a=i("w19d"),r=i("ERkP"),o=i.n(r),s=i("MZhw"),c=i("yR4y"),d=i("uT2j");class l extends n.a{constructor(){super(...arguments),this.handledProps={children:void 0,managedClasses:void 0,enableAutoFocus:void 0}}render(){return o.a.createElement(d.a,{value:s.c,tag:null},o.a.createElement(a.default,Object.assign({},this.unhandledProps(),{enableAutoFocus:this.props.enableAutoFocus,managedClasses:this.props.managedClasses}),this.props.children))}}l.displayName=c.a+"ContextMenu",l.defaultProps={managedClasses:{}},t.default=l},hWAW:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("HDSB"),a=i("hOj1");function r(){if(!Object(n.a)())return 0;if(!document.getElementById("msccBanner"))return 0;if(Object(a.a)("MSCC"))return 0;return document.documentElement.clientWidth>850?46:66}},hq1N:function(e,t){},hrln:function(e,t,i){"use strict";var n=i("mIHV"),a=i("2tnv"),r=i("3ZGc"),o=i("fz//"),s=i("HzrG"),c=i("PfRV"),d=i("SP+O"),l=i("9CwC"),u=i("ZEO0"),g=i("zP2P"),h=i("8yfO"),p=i("mDtb"),m=i("MF9s");const b=e=>e&&e.hasOwnProperty("density")?e.density:s.b.density,f=e=>Math.max(Object(n.d)(Object(n.a)(m.l,b),2)(e),5)*Object(m.p)(e),C=e=>Math.max(Object(n.d)(Object(n.a)(m.l,b),3)(e),4)*Object(m.p)(e),v={badge:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(h.b)("t7")),Object(p.d)()),Object(a.a)()),{overflow:"hidden"}),Object(u.a)()),{"box-sizing":"border-box",display:"inline-block","max-width":"215px",color:d.c,transition:"all 0.2s ease-in-out"}),badge__filled:Object.assign(Object.assign(Object.assign({},Object(c.a)()),Object(p.c)()),{"background-color":"#FFD800",color:Object(l.a)(()=>"#FFD800")}),badge__small:Object.assign(Object.assign({},Object(h.b)("t8")),{"line-height":Object(r.a)(Object(n.d)(C,3)),height:Object(r.a)(C),"&$badge__filled":{padding:Object(o.a)("1px {0}",Object(r.a)(Object(n.c)(m.p,Object(n.d)(m.m,1))))}}),badge__large:{height:Object(r.a)(f),"line-height":Object(r.a)(f),"&$badge__filled":{padding:Object(o.a)("0 {0}",Object(g.f)())}}};t.a=v},k66M:function(e,t,i){"use strict";var n=i("ERkP"),a=i.n(n),r=i("7nmT"),o=i.n(r),s=i("r6MD"),c=i("OnwC"),d=i("9tDq"),l=i("3EfD"),u=i("Fao1"),g=i("e0li"),h=i("mwRD"),p=i("yqT/"),m=i("o1qX"),b=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i};class f extends c.a{constructor(){super(...arguments),this.handledProps={afterContent:void 0,beforeContent:void 0,closeButton:void 0,contentWidth:void 0,contentHeight:void 0,describedBy:void 0,heading:void 0,label:void 0,labelledBy:void 0,modal:void 0,managedClasses:void 0,onDismiss:void 0,primaryButton:void 0,secondaryButton:void 0,visible:void 0},this.closeButtonElement=a.a.createRef(),this.handleCloseButtonClick=e=>{"function"==typeof Object(s.a)(this.props,"closeButton.onInvoke")&&this.props.closeButton.onInvoke(e)}}render(){const{dialog_body:e,dialog_heading:t,dialog_mainContent:i}=this.props.managedClasses;return a.a.createElement(l.default,Object.assign({},this.unhandledProps(),{contentWidth:this.props.contentWidth,contentHeight:this.props.contentHeight,describedBy:this.props.describedBy,label:this.props.label,labelledBy:this.props.labelledBy,modal:this.props.modal,managedClasses:this.props.managedClasses,onDismiss:this.props.onDismiss,className:this.generateClassNames(),visible:this.props.visible}),this.generateCloseButton(),this.generateBeforeContent(),a.a.createElement("div",{className:Object(m.a)(i)},a.a.createElement(u.a,Object.assign({className:Object(m.a)(t)},this.getHeadingProps())),a.a.createElement("div",{className:Object(m.a)(e)},this.props.children),this.generateActions()),this.generateAfterContent())}componentDidMount(){Object(p.a)()&&this.props.visible&&this.focusDialogCloseButton()}componentDidUpdate(e){!e.visible&&this.props.visible&&this.focusDialogCloseButton()}generateClassNames(){return super.generateClassNames(Object(m.a)([this.props.managedClasses.dialog__singleAction,!this.props.secondaryButton]))}getHeadingProps(){return Object.assign({},{size:g.a._6},this.props.heading)}generateCloseButton(){if(this.props.closeButton){const e=this.props.closeButton,{label:t,onInvoke:i,autoFocus:n}=e,r=b(e,["label","onInvoke","autoFocus"]),{dialog_closeButton:o,dialog_closeButtonGlyph:s}=this.props.managedClasses;return a.a.createElement(h.a,Object.assign({},r,{"aria-label":t,className:Object(m.a)(o),onClick:this.handleCloseButtonClick,ref:this.closeButtonElement}),a.a.createElement(d.a,{className:Object(m.a)(s)}))}}generateActions(){if(!this.props.primaryButton&&!this.props.secondaryButton)return;const{dialog_actionWrapper:e,dialog_primaryButton:t,dialog_secondaryButton:i}=this.props.managedClasses;return a.a.createElement("div",{className:Object(m.a)(e)},"function"==typeof this.props.primaryButton?this.props.primaryButton(Object(m.a)(t)):null,"function"==typeof this.props.secondaryButton?this.props.secondaryButton(Object(m.a)(i)):null)}generateAfterContent(){if(!this.props.afterContent)return;const{dialog_afterContentRegion:e,dialog_afterContent:t}=this.props.managedClasses;return a.a.createElement("div",{className:Object(m.a)(e)},"function"==typeof this.props.afterContent?this.props.afterContent(Object(m.a)(t)):null)}generateBeforeContent(){if(!this.props.beforeContent)return;const{dialog_beforeContentRegion:e,dialog_beforeContent:t}=this.props.managedClasses;return a.a.createElement("div",{className:Object(m.a)(e)},"function"==typeof this.props.beforeContent?this.props.beforeContent(Object(m.a)(t)):null)}focusDialogCloseButton(){this.props.closeButton&&!1!==this.props.closeButton.autoFocus&&this.closeButtonElement&&this.closeButtonElement.current&&o.a.findDOMNode(this.closeButtonElement.current).focus()}}f.defaultProps={contentHeight:"auto",contentWidth:"400px",managedClasses:{},visible:!1},f.displayName="Dialog",t.default=f},kLs4:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.removeCoachmarkFromPage=new n.a("RemoveCoachmark"),a.updateCoachmark=new n.a("UpdateCoachmark"),a.timeoutOccurred=new n.a("TimeoutCoachmark"),a.addCoachmarkMessages=new n.a("AddCoachmarkMessage"),a.hideCoachmark=new n.a("HideCoachmark"),a.readyToAddCoachmark=new n.a("readyToAddCoachmark")},"kd/b":function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var n=i("3EfD"),a=i("wirn"),r=i("YJhp"),o=i("uT2j"),s=i("OnwC"),c=i("ERkP"),d=i.n(c),l=i("u5KZ"),u=i("MZhw"),g=i("6u3Q"),h=i("SP+O"),p=i("objN"),m=i("0fst"),b=i("rRWH");const f="rgba(0,0,0,0.18)",C="black",v="white";var y=e=>{const t=Object(g.e)(e)?C:v;return{dialogContainer:{"border-radius":"4px","box-sizing":"content-box","box-shadow":"0 4.8px 14.4px "+f,"align-items":"center",display:"inline-flex"},dialogContainer_updated:{"border-radius":"6px","box-sizing":"content-box"},dialogContainerCenteredWithTextAlign:{"background-color":h.c},toast_glyph:{"&&":{height:"16px",width:"20px"},display:"block",fill:t},toast_glyph_updated:{"&&":{height:"11px",width:"11px"},display:"block",fill:t},toast_glyphWrapper:{"align-items":"center",display:"inline-flex","justify-content":"center",margin:Object(b.b)("14px 0 14px 14px","14px 14px 14px 0",e.direction),height:"20px"},toast_body:{[Object(b.b)("margin-left","margin-right",e.direction)]:"14px",padding:"10px 0"},toast_bodyTwoLines:{[Object(b.b)("margin-left","margin-right",e.direction)]:"14px","padding-top":"13px"},toast_closeButton:{background:"transparent",display:"inline-flex",float:Object(b.b)("right","left",e.direction),height:"32px",margin:"4px","border-radius":"2px",border:"none",padding:"10px","&:hover":Object.assign({cursor:"pointer"},p.z),"&:focus":{border:"2px solid "+t,outline:"none",padding:"8px",[p.D]:{"border-color":"Highlight"}}},toast_closeButton_updated:{background:"transparent",display:"inline-flex",float:Object(b.b)("right","left",e.direction),margin:Object(b.b)("18.5px 18.5px 18.5px 26.5px","18.5px 26.5px 18.5px 18.5px",e.direction),"border-radius":"2px",border:"none","&:hover":Object.assign({cursor:"pointer"},p.z),"&:focus":{background:""+(Object(g.e)(e)?"rgba(1,1,1,0.18)":"rgba(0,0,0,0.18)"),[p.D]:{"border-color":"Highlight"}}},toast_closeGlyph:Object.assign({fill:t},p.c),toast_navigationNewLine:{float:Object(b.b)("right","left",e.direction),[Object(b.b)("margin-right","margin-left",e.direction)]:"20px","margin-bottom":"14px"},toast_firstLine:{display:"inline-flex","align-items":"center"}}},S=i("o1qX"),x=i("+viU");const O=Object(x.a)(e=>({dialog:{display:"none",'&[aria-hidden="false"]':{display:"block"}},dialogContainer:{},dialog_contentRegion:{background:u.d,"border-radius":"4px","box-shadow":"none","z-index":""+(m.a.Above+1)}}))(n.default);class T extends s.a{constructor(e){super(e),this.handledProps={closeButtonProps:void 0,glyph:void 0,managedClasses:void 0,onClose:void 0,toastBody:void 0,toastFitNFinishStyleUpdates:void 0,toastId:void 0,toastUndoButton:void 0},this.close=()=>{const{toastId:e,onClose:t}=this.props;t&&t(e)},this.toastMessageElement=d.a.createRef()}componentDidMount(){l.a&&this.toastMessageElement&&l.a.observeElementTree(this.toastMessageElement.current)}render(){if(!this.props.toastBody)return null;const{toastFitNFinishStyleUpdates:e}=this.props,{toast_body:t,dialogContainer:i,dialogContainer_updated:n,toast_navigationNewLine:a,toast_firstLine:r,toast_bodyTwoLines:s}=this.props.managedClasses,c=e?n:i;return d.a.createElement(o.a,{tag:null,value:h.c},d.a.createElement(O,Object.assign({},this.coerceDialog(),{role:"alert"},this.unhandledProps()),d.a.createElement("div",{className:c,ref:this.toastMessageElement},d.a.createElement("div",{className:r},this.generateGlyph(),d.a.createElement("div",{className:Object(S.a)([t,!this.props.toastUndoButton],[s,!!this.props.toastUndoButton])},this.props.toastBody),this.renderCloseButton()),this.props.toastUndoButton&&d.a.createElement("div",{className:a},this.props.toastUndoButton))))}generateGlyph(){const{glyph:e,toastFitNFinishStyleUpdates:t,managedClasses:i}=this.props,{toast_glyph:n,toast_glyph_updated:r}=i,o=t?r:n;return e?d.a.createElement("span",{className:i.toast_glyphWrapper},d.a.createElement(a.a,{glyphType:e,className:o})):null}renderCloseButton(){const{closeButtonProps:e,managedClasses:t,toastFitNFinishStyleUpdates:i}=this.props,{toast_closeButton:n,toast_closeButton_updated:o}=t,{telemetryTag:s,title:c,className:l,iconSize:u}=e,g=i?o:n;return d.a.createElement("button",Object.assign({onClick:this.close,className:Object(S.a)(g,l),title:c},s),i?d.a.createElement(a.a,Object.assign({glyphType:r.b.Close,title:c,className:t.toast_closeGlyph},u)):d.a.createElement(a.a,{glyphType:r.b.Close,title:c,className:t.toast_closeGlyph}))}coerceDialog(){return{visible:!0,modal:!1,contentHeight:this.props.toastUndoButton?"93px":"auto",contentWidth:"auto"}}}const w=Object(x.a)(y)(T)},lXoh:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.customLayoutChange=new n.a("customLayoutChange"),a.initialize=new n.a("initialize"),a.layoutChange=new n.a("layoutChange"),a.toggleSection=new n.a("toggleSection"),a.recommendedSearchToggleUpdated=new n.a("recommendedSearchToggleUpdated"),a.searchHistoryToggleUpdated=new n.a("searchHistoryToggleUpdated")},mKi5:function(e,t,i){"use strict";var n=i("fz//"),a=i("3ZGc"),r=i("PfRV"),o=i("MF9s"),s=i("7FLv"),c=i("objN"),d=i("MZhw");const l={contextMenu:Object.assign(Object.assign(Object.assign({background:d.c},Object(r.b)()),Object(s.b)(s.a.e11)),{margin:"0",padding:Object(n.a)("{0} 0",Object(a.a)(o.p)),"max-width":"368px","min-width":"64px",transition:"all 0.2s ease-in-out",[c.D]:Object.assign(Object.assign({},c.w),{background:c.a.buttonBackground,border:Object(n.a)("{0} solid {1}",Object(a.a)(o.X),()=>c.a.buttonText)})})};t.a=l},mzbC:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.initialize=new n.a("initialize"),a.update=new n.a("update"),a.ntpReset=new n.a("ntpReset"),a.dhpReset=new n.a("dhpReset"),a.marketUpdated=new n.a("marketUpdated"),a.displayOptionUpdated=new n.a("displayOptionUpdated"),a.dhpHideNewsFeedUpdated=new n.a("dhpHideNewsFeedUpdated"),a.hideHomePageImageUpdated=new n.a("hideHomePageImageUpdated"),a.bingShoppingCardVisibilityUpdated=new n.a("bingShoppingCardVisibilityUpdated"),a.weatherCardVisibilityUpdated=new n.a("weatherCardVisibilityUpdated"),a.sportsCardVisibilityUpdated=new n.a("sportsCardVisibilityUpdated"),a.moneyCardVisibilityUpdated=new n.a("moneyCardVisibilityUpdated"),a.horoscopeCardVisibilityUpdated=new n.a("horoscopeCardVisibilityUpdated"),a.onThisDayCardVisibilityUpdated=new n.a("onThisDayCardVisibilityUpdated"),a.electionsCardVisibilityUpdated=new n.a("electionsCardVisibilityUpdated"),a.esportsCardVisibilityUpdated=new n.a("esportsCardVisibilityUpdated"),a.lotteryCardVisibilityUpdated=new n.a("lotteryCardVisibilityUpdated"),a.qnaCardVisibilityUpdated=new n.a("qnaCardVisibilityUpdated")},oMQt:function(e,t,i){"use strict";i.r(t),i.d(t,"ToolingInfo",(function(){return Gn})),i.d(t,"TopSitesEdgeNext",(function(){return zn})),i.d(t,"TopSitesEdgeNextActions",(function(){return xe})),i.d(t,"TopSitesEdgeNextBaseConnector",(function(){return Ve})),i.d(t,"TopSitesEdgeNextConnector",(function(){return Fn})),i.d(t,"TopSitesEdgeNextReducer",(function(){return we}));var n={};i.r(n),i.d(n,"FILE",(function(){return Y})),i.d(n,"URL",(function(){return X})),i.d(n,"TEXT",(function(){return Q}));var a={};i.r(a),i.d(a,"topSitesId",(function(){return Vt})),i.d(a,"topSiteContextMenuContainerId",(function(){return zt})),i.d(a,"topSiteContextMenuEditId",(function(){return Gt})),i.d(a,"topSiteContextMenuRemoveId",(function(){return qt})),i.d(a,"topSiteSignInContextMenuUpdateId",(function(){return $t})),i.d(a,"topSiteSmartListContextMenuUpdateId",(function(){return Zt})),i.d(a,"defaultEditText",(function(){return Wt})),i.d(a,"defaultRemoveText",(function(){return Kt})),i.d(a,"defaultAriaEditText",(function(){return Yt})),i.d(a,"defaultAriaRemoveText",(function(){return Xt})),i.d(a,"defaultAriaMenuHoverText",(function(){return Qt})),i.d(a,"IconType",(function(){return Jt}));var r=i("+viU"),o=i("5mwN"),s=i("JpJ4"),c=i("qGiF"),d=i("1I/+"),l=i("iCAe"),u=i("rvYQ"),g=i("QGS5");var h={topSites:{position:"relative",display:"inline-grid","grid-gap":"8px","justify-content":"center","grid-template-columns":"repeat(8, auto)","text-align":"center","grid-auto-flow":"row","@media only screen and (max-width: 1263px)":{"grid-template-columns":"repeat(4, auto)"}}};const p=Object(r.a)(h)(g.default);var m,b,f,C=i("ERkP"),v=i.n(C),y=i("OnwC");!function(e){e.dark="dark",e.light="light"}(m||(m={})),function(e){e.button="button",e.div="div"}(b||(b={})),function(e){e.dark="dark",e.light="light"}(f||(f={}));var S=i("o1qX");class x extends y.a{constructor(){super(...arguments),this.handledProps={tag:void 0,forceContrast:void 0,managedClasses:void 0}}get tag(){return b[this.props.tag]}render(){return v.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{className:this.generateClassNames()}),this.generatePlaceholderImage())}generateClassNames(){const{topSitePlaceholder:e,topSitePlaceholder__button:t,topSitePlaceholder__forceContrastDark:i,topSitePlaceholder__forceContrastLight:n}=this.props.managedClasses;return super.generateClassNames(Object(S.a)(e,[t,this.props.tag===b.button],[i,this.props.forceContrast===m.dark],[n,this.props.forceContrast===m.light]))}generatePlaceholderImage(){const e=Object(S.a)(this.props.managedClasses.topSitePlaceholder_icon);return"function"==typeof this.props.icon?this.props.icon(e):this.props.tag===b.button?v.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg",className:e},v.a.createElement("path",{d:"M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z"})):void 0}}x.displayName="TopSitePlaceholder",x.defaultProps={tag:b.div,managedClasses:{}};var O=i("PfRV"),T=i("MF9s"),w=i("QhQn"),I=i("7b0X"),E=i("objN"),k=i("ZEO0"),j=i("SP+O"),L=i("7FLv"),D=i("fz//"),B=i("3ZGc"),P=i("iuMt");var A={topSitePlaceholder:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-flex","justify-content":"center","align-items":"center","box-sizing":"border-box",position:"relative"},Object(O.c)()),{width:"120px",height:"90px",padding:"0"}),Object(O.d)()),{background:"transparent",border:Object(D.a)("{0} solid {1}",Object(B.a)(T.X),w.c)}),Object(P.a)({border:Object(D.a)("{0} solid {1}",Object(B.a)(T.s),I.a)})),{"&$topSitePlaceholder__button":Object.assign({display:"inline-block",border:"none"},E.d)}),topSitePlaceholder__button:Object.assign(Object.assign(Object.assign(Object.assign({},Object(k.c)()),{color:j.c,background:T.k,transition:"all 0.2s ease-in-out"}),Object(L.b)(L.a.e4)),{"&:hover":Object.assign({},Object(L.b)(L.a.e6))}),topSitePlaceholder_icon:Object.assign({width:"24px",height:"24px",color:j.c,fill:j.c},E.o),topSitePlaceholder__forceContrastDark:{"border-color":"rgba(255, 255, 255, 0.6)"},topSitePlaceholder__forceContrastLight:{"border-color":"rgba(0, 0, 0, 0.25)"}};const H=Object(r.a)(A)(x);var M=i("ypwz"),_=i("uT2j"),R=i("3RYC");function N(e){var t=null;return function(){return null==t&&(t=e()),t}}function F(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var U=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,i,n;return t=e,(i=[{key:"enter",value:function(e){var t=this,i=this.entered.length;return this.entered=function(e,t){var i=new Set,n=function(e){return i.add(e)};e.forEach(n),t.forEach(n);var a=[];return i.forEach((function(e){return a.push(e)})),a}(this.entered.filter((function(i){return t.isNodeInDocument(i)&&(!i.contains||i.contains(e))})),[e]),0===i&&this.entered.length>0}},{key:"leave",value:function(e){var t,i,n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),i=e,t.filter((function(e){return e!==i}))),n>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&F(t.prototype,i),n&&F(t,n),e}(),V=N((function(){return/firefox/i.test(navigator.userAgent)})),z=N((function(){return Boolean(window.safari)}));function G(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var q=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=t.length,a=[],r=0;r<n;r++)a.push(r);a.sort((function(e,i){return t[e]<t[i]?-1:1}));for(var o,s,c=[],d=[],l=[],u=0;u<n-1;u++)o=t[u+1]-t[u],s=i[u+1]-i[u],d.push(o),c.push(s),l.push(s/o);for(var g=[l[0]],h=0;h<d.length-1;h++){var p=l[h],m=l[h+1];if(p*m<=0)g.push(0);else{o=d[h];var b=d[h+1],f=o+b;g.push(3*f/((f+b)/p+(f+o)/m))}}g.push(l[l.length-1]);for(var C,v=[],y=[],S=0;S<g.length-1;S++){C=l[S];var x=g[S],O=1/d[S],T=x+g[S+1]-C-C;v.push((C-x-T)*O),y.push(T*O*O)}this.xs=t,this.ys=i,this.c1s=g,this.c2s=v,this.c3s=y}var t,i,n;return t=e,(i=[{key:"interpolate",value:function(e){var t=this.xs,i=this.ys,n=this.c1s,a=this.c2s,r=this.c3s,o=t.length-1;if(e===t[o])return i[o];for(var s,c=0,d=r.length-1;c<=d;){var l=t[s=Math.floor(.5*(c+d))];if(l<e)c=s+1;else{if(!(l>e))return i[s];d=s-1}}var u=e-t[o=Math.max(0,d)],g=u*u;return i[o]+n[o]*u+a[o]*g+r[o]*u*g}}])&&G(t.prototype,i),n&&G(t,n),e}();function $(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var i=t.getBoundingClientRect(),n=i.top;return{x:i.left,y:n}}function Z(e){return{x:e.clientX,y:e.clientY}}function W(e,t,i,n,a){var r,o,s="IMG"===(r=t).nodeName&&(V()||!document.documentElement.contains(r)),c=$(s?e:t),d={x:i.x-c.x,y:i.y-c.y},l=e.offsetWidth,u=e.offsetHeight,g=n.anchorX,h=n.anchorY,p=function(e,t,i,n){var a=e?t.width:i,r=e?t.height:n;return z()&&e&&(r/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:r}}(s,t,l,u),m=p.dragPreviewWidth,b=p.dragPreviewHeight,f=a.offsetX,C=a.offsetY,v=0===C||C;return{x:0===f||f?f:new q([0,.5,1],[d.x,d.x/l*m,d.x+m-l]).interpolate(g),y:v?C:(o=new q([0,.5,1],[d.y,d.y/u*b,d.y+b-u]).interpolate(h),z()&&s&&(o+=(window.devicePixelRatio-1)*b),o)}}var K,Y="__NATIVE_FILE__",X="__NATIVE_URL__",Q="__NATIVE_TEXT__";function J(e,t,i){var n=t.reduce((function(t,i){return t||e.getData(i)}),"");return null!=n?n:i}function ee(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var te=(ee(K={},Y,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),ee(K,X,{exposeProperties:{urls:function(e,t){return J(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),ee(K,Q,{exposeProperties:{text:function(e,t){return J(e,t,"")}},matchesTypes:["Text","text/plain"]}),K);function ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,i,n;return t=e,(i=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var i={};Object.keys(this.config.exposeProperties).forEach((function(n){i[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&ie(t.prototype,i),n&&ie(t,n),e}();function ae(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(te).filter((function(e){return te[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function re(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,i,n;return t=e,(i=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&re(t.prototype,i),n&&re(t,n),e}();function se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ce(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?se(Object(i),!0).forEach((function(t){de(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function de(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function le(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ue=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return $(n.sourceNodes.get(e))},this.endDragNativeItem=function(){n.isDraggingNativeItem()&&(n.actions.endDrag(),n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(e){return n.document&&n.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=n.currentDragSourceNode;n.isNodeInDocument(e)||n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=n.dragStartSourceIds;n.dragStartSourceIds=null;var i=Z(e);n.monitor.isDragging()&&n.actions.endDrag(),n.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:i});var a=e.dataTransfer,r=ae(a);if(n.monitor.isDragging()){if(a&&"function"==typeof a.setDragImage){var o=n.monitor.getSourceId(),s=n.sourceNodes.get(o),c=n.sourcePreviewNodes.get(o)||s;if(c){var d=n.getCurrentSourcePreviewNodeOptions(),l=W(s,c,i,{anchorX:d.anchorX,anchorY:d.anchorY},{offsetX:d.offsetX,offsetY:d.offsetY});a.setDragImage(c,l.x,l.y)}}try{a.setData("application/json",{})}catch(e){}n.setCurrentDragSourceNode(e.target),n.getCurrentSourcePreviewNodeOptions().captureDraggingState?n.actions.publishDragSource():setTimeout((function(){return n.actions.publishDragSource()}),0)}else if(r)n.beginDragNativeItem(r);else{if(a&&!a.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(n.dragEnterTargetIds=[],n.enterLeaveCounter.enter(e.target)&&!n.monitor.isDragging()){var t=e.dataTransfer,i=ae(t);i&&n.beginDragNativeItem(i,t)}},this.handleTopDragEnter=function(e){var t=n.dragEnterTargetIds;(n.dragEnterTargetIds=[],n.monitor.isDragging())&&(n.altKeyPressed=e.altKey,V()||n.actions.hover(t,{clientOffset:Z(e)}),t.some((function(e){return n.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){n.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));n.altKeyPressed=e.altKey,n.actions.hover(t||[],{clientOffset:Z(e)}),(t||[]).some((function(e){return n.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){n.isDraggingNativeItem()&&e.preventDefault(),n.enterLeaveCounter.leave(e.target)&&n.isDraggingNativeItem()&&n.endDragNativeItem()},this.handleTopDropCapture=function(e){n.dropTargetIds=[],e.preventDefault(),n.isDraggingNativeItem()&&n.currentNativeSource.loadDataTransfer(e.dataTransfer),n.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(t,{clientOffset:Z(e)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new oe(i),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new U(this.isNodeInDocument)}var t,i,a;return t=e,(i=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,i){var n=this;return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,i){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);var a=function(t){return n.handleDragStart(t,e)},r=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",r),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",r),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var i=this,n=function(t){return i.handleDragEnter(t,e)},a=function(t){return i.handleDragOver(t,e)},r=function(t){return i.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",a),t.addEventListener("drop",r),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",a),t.removeEventListener("drop",r)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return ce({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return ce({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(n).some((function(t){return n[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var i=new ne(te[e]);return i.loadDataTransfer(t),i}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&le(t.prototype,i),a&&le(t,a),e}(),ge=function(e,t){return new ue(e,t)},he=i("+8mm");const pe={ADD_DIALOG_HEIGHT:156,ADD_DIALOG_WIDTH:338,ADD_DIALOG_GAP:5,ADD_TILE_ID:"addTile",PAGE_HEADER_ID:"p_header",TOPSITES_CONTAINER_ID:"TopSitesContainer",TOPSITES_ID:"TopSitesCommon",PAGE_ROOT:"root",TOPSITES_CLASS_SELECTOR:"topSitesCommon",TOPSITE_GRID_GAP:8,TOPSITE_TILE_DISPLAY_NONE:{display:"none"},TOPSITE_TILE_HEIGHT:90,TOP_SITE_NEW_TILE_HEIGHT:84};var me=i("HDSB"),be=i("mObi"),fe=i("EQZC");class Ce extends o.a{constructor(e,...t){super(e,...t,!0),this.handledProps=Object.assign(Object.assign({},o.b),{addDialogGapInPx:void 0,addDialogHandler:void 0,addDialogHeightInPx:void 0,addDialogWidthInPx:void 0,addTileIconSizeInPx:void 0,addTileSupported:void 0,addTileTelemetryObject:void 0,ariaLabel_addTile:void 0,children:void 0,collapsibleControlIsDefaultCollapsed:void 0,containerStyleOverrides:void 0,contextMenuHandler:void 0,editDialogHandler:void 0,errorCallback:void 0,focusAddTileHandler:void 0,focusTopSiteTileRemoveHandler:void 0,focusTopSiteTileReorderingHandler:void 0,generateAddDialog:void 0,generateCollapsibleControl:void 0,generateContextMenu:void 0,generateEditDialog:void 0,generateUndoNotificationToast:void 0,getTopSitePlaceholderStyleOverrides:void 0,isCollapsed:void 0,isReordering:void 0,lightThemeEnabled:void 0,managedClasses:void 0,maxTiles:void 0,pinningSupported:void 0,removeBackPlate:void 0,renderPlaceholders:void 0,reorderingSupported:void 0,showAddDialog:void 0,showCollapsibleControl:void 0,showContextMenu:void 0,showEditDialog:void 0,showToastMessage:void 0,styleOverrides:void 0,topSitesLoadedHandler:void 0,topSitesElementTimingHandler:void 0}),this.topSitesLoadComplete=!1,this.addDialogDiv=v.a.createRef(),this.clientSideCachedRender=Object(me.a)()&&window.needsHydrate,this.clientSideFirstRender=Object(me.a)()&&!window.RENDER}componentDidMount(){const e=this.props.requestContext?Object(d.b)(this.props.requestContext.data.ssrRiver,"ssrRiver",!1):void 0;this.clientSideFirstRender&&e?he.a.updateRiverHydrationComplete.registerObserver(()=>{this.setState({reRender:!0}),this.clientSideFirstRender=!1}):this.clientSideCachedRender||this.clientSideFirstRender?(this.setState({reRender:!0}),this.clientSideCachedRender=!1,this.clientSideFirstRender=!1):(this.topSitesLoadComplete=!0,this.runTopSitesCompletionTasks())}componentDidCatch(e){this.props.errorCallback&&this.props.errorCallback(e)}componentDidUpdate(e){e&&e.showAddDialog&&!this.props.showAddDialog&&this.props.focusAddTileHandler&&"function"==typeof this.props.focusAddTileHandler&&this.props.focusAddTileHandler(),(e&&e.isReordering||this.props.isReordering)&&this.props.focusTopSiteTileReorderingHandler&&"function"==typeof this.props.focusTopSiteTileReorderingHandler&&this.props.focusTopSiteTileReorderingHandler(),(e&&e.showToastMessage&&!this.props.showToastMessage||e&&e.showEditDialog&&!this.props.showEditDialog)&&this.props.focusTopSiteTileRemoveHandler&&"function"==typeof this.props.focusTopSiteTileRemoveHandler&&this.props.focusTopSiteTileRemoveHandler(),e.showAddDialog!==this.props.showAddDialog&&Object(l.c)(l.a.addTopSite,this.props.showAddDialog),e.showEditDialog!==this.props.showEditDialog&&Object(l.c)(l.a.editTopSite,this.props.showEditDialog),this.topSitesLoadComplete||(this.topSitesLoadComplete=!0,this.runTopSitesCompletionTasks())}render(){super.render();const{managedClasses:e}=this.props,t=this.clientSideCachedRender&&(!this.state||this.state&&!this.state.reRender);return this.clientSideFirstRender&&u.b.AppType!==M.a.EdgeChromium?v.a.createElement(c.a,null,t=>v.a.createElement("div",Object.assign({id:pe.TOPSITES_CONTAINER_ID},this.props.containerStyleOverrides),v.a.createElement(p,Object.assign({id:pe.TOPSITES_ID,className:this.generateClassNames(e.topSitesCommon),jssStyleSheet:this.props.styleOverrides},this.unhandledProps()),v.a.createElement(_.a,Object.assign({},s.a)),this.renderPlaceholderContent(),v.a.createElement("div",{ref:this.addDialogDiv,className:e.topSitesCommon_addDialog},this.renderAddDialog(t))))):t?v.a.createElement(R.a,{backend:ge},v.a.createElement(c.a,null,t=>v.a.createElement("div",Object.assign({id:pe.TOPSITES_CONTAINER_ID},this.props.containerStyleOverrides),v.a.createElement(p,Object.assign({id:pe.TOPSITES_ID,className:this.generateClassNames(e.topSitesCommon),jssStyleSheet:this.props.styleOverrides},this.unhandledProps()),v.a.createElement("div",{ref:this.addDialogDiv,className:e.topSitesCommon_addDialog},this.renderAddDialog(t)))))):v.a.createElement(R.a,{backend:ge},v.a.createElement(c.a,null,t=>v.a.createElement("div",Object.assign({id:pe.TOPSITES_CONTAINER_ID},this.props.containerStyleOverrides),v.a.createElement(p,Object.assign({id:pe.TOPSITES_ID,className:this.generateClassNames(e.topSitesCommon),jssStyleSheet:this.props.styleOverrides},this.unhandledProps(),this.clarityProps()),v.a.createElement(_.a,Object.assign({},s.a),this.props.children),this.renderPlaceholderContent(),v.a.createElement("div",{ref:this.addDialogDiv,className:e.topSitesCommon_addDialog},this.renderAddDialog(t)),this.renderEditDialog(t),this.renderContextMenu(t)),this.renderUndoNotificationToast(t),this.renderCollapsibleControl(t))))}renderUndoNotificationToast(e){if(this.props.showToastMessage&&"function"==typeof this.props.generateUndoNotificationToast)return this.props.generateUndoNotificationToast(e)}renderContextMenu(e){if(this.props.showContextMenu&&"function"==typeof this.props.generateContextMenu)return v.a.createElement("div",{className:this.props.managedClasses.topSitesCommon_addContextMenu},this.props.generateContextMenu(e))}renderEditDialog(e){if(this.props.showEditDialog&&"function"==typeof this.props.generateEditDialog)return v.a.createElement("div",null,this.props.generateEditDialog(e))}renderPlaceholderContent(){const e=[];let t=!Object(me.a)()||this.clientSideFirstRender?this.props.maxTiles:this.props.maxTiles-v.a.Children.count(this.props.children);const{managedClasses:i}=this.props;if(t>0){if(Object(me.a)()&&!this.clientSideFirstRender&&this.props.addTileSupported){const n=v.a.createElement(_.a,Object.assign({},s.a,{key:"bg_add"}),v.a.createElement(H,Object.assign({"aria-label":this.props.ariaLabel_addTile,title:this.props.ariaLabel_addTile,className:i.topSitesCommon_addPlaceholder,id:pe.ADD_TILE_ID,jssStyleSheet:this.getTopSitePlaceholderStyles(),key:this.generateKey(t),onClick:this.props.addDialogHandler,tag:b.button},this.props.addTileTelemetryObject?this.props.addTileTelemetryObject.render():null,{"data-targetid":"AddTopSiteButton"})));e.push(n),t-=1}if(this.props.renderPlaceholders)for(;t>0;t--)e.push(v.a.createElement(H,{className:i.topSitesCommon_placeholder,key:this.generateKey(t),tag:b.div}))}return e}getTopSitePlaceholderStyles(){return this.props.removeBackPlate&&this.props.getTopSitePlaceholderStyleOverrides&&"function"==typeof this.props.getTopSitePlaceholderStyleOverrides?this.props.getTopSitePlaceholderStyleOverrides():Ce.getAddTilePlaceholderStyleOverrides(this.props.addTileIconSizeInPx)}renderCollapsibleControl(e){return this.props.showCollapsibleControl?this.props.generateCollapsibleControl&&"function"==typeof this.props.generateCollapsibleControl?this.props.generateCollapsibleControl(e):void 0:null}generateKey(e){return"placeholder_"+(this.props.maxTiles-e)}renderAddDialog(e){if(this.props.showAddDialog&&"function"==typeof this.props.generateAddDialog)return this.props.generateAddDialog(e)}runTopSitesCompletionTasks(){!(this.props.elementtiming&&Object(fe.b)(window.PerformanceObserver,"TTVR.TopSites",e=>{this.props.topSitesElementTimingHandler&&this.props.topSitesElementTimingHandler(e.startTime,()=>{this.markTimeToVisuallyReady(!0,e.startTime)})}))&&this.props.topSitesElementTimingHandler&&this.props.topSitesElementTimingHandler(window.performance.now(),()=>{this.markTimeToVisuallyReady(!0)}),this.props.showCollapsibleControl&&this.props.isCollapsed&&this.markTimeToVisuallyReady(!1),this.props.topSitesLoadedHandler&&this.props.topSitesLoadedHandler(()=>{super.markTimeToVisuallyReady(!1)})}}Ce.defaultProps={experienceName:"TopSitesCommon",lightThemeEnabled:!1,maxTiles:8,addDialogGapInPx:pe.ADD_DIALOG_GAP,addDialogHeightInPx:pe.ADD_DIALOG_HEIGHT,addDialogWidthInPx:pe.ADD_DIALOG_WIDTH},Ce.getAddTilePlaceholderStyleOverrides=Object(be.a)(e=>({topSitePlaceholder_icon:{height:e?Object(B.a)(e):"24px",width:e?Object(B.a)(e):"24px"}}),(...e)=>e.join());const ve={topSitesCommon:{background:"none",color:j.c},topSitesCommon_addDialog:{position:"relative"},topSitesCommon_addContextMenu:{position:"absolute"}},ye=Object(r.a)(ve)(Ce);var Se=i("G82u");class xe{}xe.initialize=new Se.a("initialize"),xe.reorder=new Se.a("reorder"),xe.themeChange=new Se.a("themeChange"),xe.toggleAddDialogVisibility=new Se.a("toggleAddDialogVisibility"),xe.toggleContextMenuVisibility=new Se.a("toggleContextMenuVisibilitySignature"),xe.toggleEditDialogVisibility=new Se.a("toggleEditDialogVisibilitySignature"),xe.toggleToastDialogVisibility=new Se.a("ToggleToastDialogVisibilitySignature"),xe.toggleReorderingState=new Se.a("toggleReorderingStateSignature");var Oe=i("05Au"),Te=i("OPjr");class we{reduce(e,t){if(!e){return{isCollapsed:!1,isReordering:!1,lightThemeEnabled:!1,renderList:[],showAddDialog:!1,showContextMenu:!1,showEditDialog:!1,toastNotificationState:{showToastDialog:!1,tileTitle:null,tileRid:null,tileSource:null,tileUrl:null}}}if(!t)return e;let i,n=!1;return n=Oe.a.handleAction(t,xe.initialize,e=>{i=e}),n=n||Oe.a.handleAction(t,xe.reorder,t=>{i=Object.assign(Object.assign({},e),{renderList:t})}),n=n||Oe.a.handleAction(t,xe.themeChange,t=>{i=Object.assign(Object.assign({},e),{lightThemeEnabled:t})}),n=n||Oe.a.handleAction(t,xe.toggleAddDialogVisibility,t=>{i=Object.assign(Object.assign({},e),{showAddDialog:t})}),n=n||Oe.a.handleAction(t,xe.toggleEditDialogVisibility,t=>{i=Object.assign(Object.assign({},e),{showEditDialog:t})}),n=n||Oe.a.handleAction(t,xe.toggleContextMenuVisibility,t=>{i=Object.assign(Object.assign({},e),{showContextMenu:t})}),n=n||Oe.a.handleAction(t,xe.toggleToastDialogVisibility,t=>{i=Object.assign(Object.assign({},e),{toastNotificationState:t})}),n=n||Oe.a.handleAction(t,xe.toggleReorderingState,t=>{i=Object.assign(Object.assign({},e),{isReordering:t})}),n=n||Oe.a.handleAction(t,Te.a.toggleCollapsibleControl,t=>{i=Object.assign(Object.assign({},e),{isCollapsed:t})}),i||e}}var Ie,Ee;!function(e){e.inspect=function(e){const{config:t,state:i,connectorArgs:n}=e,a={children:i.renderList,addTileSupported:!(!t||!t.addTileSupported)&&t.addTileSupported,addTileIconSizeInPx:20,addTileTelemetryObject:n.addTileTelemetryObject,ariaLabel_addTile:t&&t.ariaLabel_addTile?t.ariaLabel_addTile:"",collapsibleControlIsDefaultCollapsed:!(!t||!t.collapsibleControlIsDefaultCollapsed)&&t.collapsibleControlIsDefaultCollapsed,showAddDialog:i.showAddDialog,showContextMenu:i.showContextMenu,showEditDialog:i.showEditDialog,showCollapsibleControl:!(!t||!t.showCollapsibleControl)&&t.showCollapsibleControl,showToastMessage:!!i.toastNotificationState&&i.toastNotificationState.showToastDialog,maxTiles:t&&t.maxTiles?t.maxTiles:8,pinningSupported:!(!t||!t.pinningSupported)&&t.pinningSupported,removeBackPlate:!(!t||!t.removeBackPlate)&&t.removeBackPlate,renderPlaceholders:!(!t||!t.renderPlaceholders)&&t.renderPlaceholders,isCollapsed:i.isCollapsed,isReordering:i.isReordering,reorderingSupported:!(!t||!t.reorderingSupported)&&t.reorderingSupported,lightThemeEnabled:i.lightThemeEnabled};return n&&Object.assign(a,{addDialogHandler:n.addDialogHandler,contextMenuHandler:n.contextMenuHandler,collapseTopSites:n.collapseTopSites,containerStyleOverrides:n.containerStyleOverrides,editDialogHandler:n.editDialogHandler,expandTopSites:n.expandTopSites,focusAddTileHandler:n.focusAddTileHandler,focusTopSiteTileRemoveHandler:n.focusTopSiteTileRemoveHandler,focusTopSiteTileReorderingHandler:n.focusTopSiteTileReorderingHandler,generateAddDialog:n.generateAddDialog,generateContextMenu:n.generateContextMenu,generateCollapsibleControl:n.generateCollapsibleControl,generateEditDialog:n.generateEditDialog,generateUndoNotificationToast:n.generateUndoNotificationToast,getTopSitePlaceholderStyleOverrides:n.getTopSitePlaceholderStyleOverrides,topSitesLoadedHandler:n.topSitesLoadedHandler,topSitesElementTimingHandler:n.topSitesElementTimingHandler,errorCallback:n.errorCallback,styleOverrides:n.styleOverrides,requestContext:n.requestContext}),a.elementtiming="TTVR.TopSites",{props:a,missingChildren:[]}}}(Ie||(Ie={})),function(e){e.Enforced="ENFORCED",e.Recommended="RECOMMENDED"}(Ee||(Ee={}));const ke=/^(\/\?|\?|&|)/;var je;!function(e){e.Reorderable="REORDERABLE"}(je||(je={}));var Le=i("qReY"),De=i("9PP5"),Be=i("WfnD"),Pe=i("XLvf"),Ae=i("ax+D");const He=/www\d*\./i,Me=/^https?:/i;class _e{constructor(e){if(!Ae.a.isNotNullOrUndefined(e))return;let t;e.trim();try{t=new URL(e)}catch(e){t=void 0}if(!t||!e.toLocaleLowerCase().startsWith(t.origin.toLocaleLowerCase()))try{t=new URL("http://"+e)}catch(e){t=void 0}if(!t||!t.host||!Me.test(t.protocol))return;const i=t.hostname.replace(He,"");this.url=t.href.replace(/\/$/,""),this.domain=i,this.domainAndPath=this.domain+t.pathname.replace(/[\s/]+$/g,""),this.domainPathAndQuery=this.domainAndPath+t.search,this.hasQuery=!!t.search}}var Re=i("aHCm"),Ne=i("dTwT"),Fe=i("Myzn");const Ue=new class{constructor(e){this.webStorage=e,this.deletedUrlLookup=this.webStorage.getObject("removedTopSiteUrls")||{},this.deletedDomainLookup={}}getCurated(){return this.curated}getDeletedDomainLookup(){return this.deletedDomainLookup}getDeletedUrlLookup(){return this.deletedUrlLookup}deleteSite(e){e&&(this.deletedUrlLookup[e]=!0,this.webStorage.setObject("removedTopSiteUrls",this.deletedUrlLookup))}addSite(e){e&&(delete this.deletedUrlLookup[e],this.webStorage.setObject("removedTopSiteUrls",this.deletedUrlLookup))}initializeCuratedSitesFromConfig(e,t){if(this.config=e,t&&t.forEach(e=>{const t=new _e(e.url);this.deletedDomainLookup[t.domain]=!0,this.deletedUrlLookup[e.url]=!0}),this.curated=[],!this.config.curatedSites)return;const i=this.config.curatedSites.map(e=>Object.assign(Object.assign({},e),{faviconUrl:this.getImageUrl(e.faviconUrl)})),n={};Object(Fe.a)(this.deletedDomainLookup,(e,t)=>{this.addKey(n,t)}),Object(Fe.a)(this.deletedUrlLookup,(e,t)=>{if(!t||n[t])return;const i=new _e(t);this.addKey(n,i.domainAndPath),n[t]=!0}),this.curated=new Array,i.forEach(e=>{const t=new _e(e.url);n[t.domain]||n[t.domainAndPath]||n[e.url]||this.curated.push(e)})}addKey(e,t){t&&!e[t]&&(e[t]=!0)}getImageUrl(e){if(e){const t=(e&&e.match(/cms\/api\/amp\/image\/([a-z0-9]+)$/i)||{})[1];if(t)return`${Re.a.prod}${t}.img`}return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrsl7EJADAIBGPIEO4/nVt8SCFkgijhvhCsPNQHNUmjWnM0EBCpdYK7i07cSUTYy+I5ARaz705UuQR34A4ggAACCCCA4LL6qhPGV94JYgswAGXGEhq663zFAAAAAElFTkSuQmCC"}}(Object(Ne.a)());class Ve extends Be.a{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.defaultRidForUpdate=-1,this.onMostVisitedChangeHandler=()=>{!this.suppressTopSitesStateUpdate&&this.getOrUpdateTopSitesState()},this.saveTileHandler=(e,t,i)=>{if(this.ntpApiHandle&&e){const t=this.ntpApiHandle.fixupAndValidateUrl(e.href);if(t)return this.ntpApiHandle.updateCustomLink(this.defaultRidForUpdate,t,i||e.hostname),De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_ADD),this.closeAddTopSiteDialogHandler(!0),!0}return!1},this.updateTileHandler=(e,t,i)=>{if(this.ntpApiHandle&&e){let n=this.ntpApiHandle.fixupAndValidateUrl(e.href);if(n&&t){if(this.ntpApiHandle.getMostVisitedItemData(t))n=this.ntpApiHandle.getMostVisitedItemData(t).url!==n?n:"",this.ntpApiHandle.updateCustomLink(t,n,i||e.hostname),this.ntpApiHandle.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_UPDATE);else{const a=this.getCurrentState();if(!a)return!1;const r=a.renderList.findIndex(e=>parseInt(e.key)===t);this.suppressTopSitesStateUpdate=!0,this.updateCuratedToCustomLink(a,r).then(()=>{a.curatedSiteMap.get(t).locationIndex?(this.ntpApiHandle.onmostvisitedchange=()=>{const e=this.ntpApiHandle.mostVisited,t=e[e.length-1].rid,i=this.ntpApiHandle.getMostVisitedItemData(t);this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler,this.suppressTopSitesStateUpdate=!1,i.url===n&&(this.ntpApiHandle.reorderCustomLink(t,r),this.getOrUpdateTopSitesState())},this.ntpApiHandle.updateCustomLink(this.defaultRidForUpdate,n,i),this.ntpApiHandle.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_ADD)):(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler,this.suppressTopSitesStateUpdate=!1,this.ntpApiHandle.updateCustomLink(this.defaultRidForUpdate,n,i||e.hostname),this.getOrUpdateTopSitesState())})}return this.closeEditTopSiteDialogHandler(!0),!0}}return!1},this.removeTileHandler=(e,t,i,n,a)=>{if(a&&this.showToastNotificationHandler(e,t,i,n),-5===i)return Ue.deleteSite(n),void this.getOrUpdateTopSitesState();this.ntpApiHandle&&e&&(this.ntpApiHandle.deleteMostVisitedItem(e),De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_REMOVE))},this.undoTopSiteHandler=(e,t,i)=>{if(-5===t)return Ue.addSite(i),void this.getOrUpdateTopSitesState();if(this.ntpApiHandle&&e){const t=this.ntpApiHandle.getMostVisitedItemData(e),i=t?t.tileSource:null;4===i?this.ntpApiHandle.undoCustomLinkAction(e):0===i&&this.ntpApiHandle.undoMostVisitedDeletion(e)}},this.showToastNotificationHandler=(e,t,i,n)=>{const a={showToastDialog:!0,tileTitle:t,tileRid:e,tileSource:i,tileUrl:n};xe.toggleToastDialogVisibility.getActionSender(this).send(a)},this.closeToastNotificationHandler=()=>{xe.toggleToastDialogVisibility.getActionSender(this).send({showToastDialog:!1,tileTitle:null,tileRid:null,tileSource:null,tileUrl:null})},this.reorderTileHandler=(e,t)=>{if(!this.ntpApiHandle||!e||Object(Pe.isNullOrUndefined)(t))return!1;const i=this.getCurrentState();if(!i)return!1;const n=i.curatedSiteMap;if(!n.size)return this.ntpApiHandle.reorderCustomLink(e,t),!0;this.ntpApiHandle.onmostvisitedchange=void 0;let a=!0,r=!1,o=t;const s=this.getLastRecommendedSiteLocationIndex(i,e);return s&&(o=Math.max(t,s+1)),this.updateCuratedToCustomLink(i,o).then(()=>{if(this.ntpApiHandle.getMostVisitedItemData(e))this.ntpApiHandle.reorderCustomLink(e,t),this.getOrUpdateTopSitesState(),a&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler);else{const i=n.get(e);if(i){const e=this.getMostVisitedSites(),n=e.findIndex(e=>e.title===i.title);if(n>-1){const i=e[n];this.ntpApiHandle.reorderCustomLink(i.rid,t),this.getOrUpdateTopSitesState(),a&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler)}else{const e=this.ntpApiHandle.fixupAndValidateUrl(i.url);e&&(r=!0,a=!1,this.ntpApiHandle.onmostvisitedchange=()=>{const i=this.ntpApiHandle.mostVisited,n=i[i.length-1].rid,r=this.ntpApiHandle.getMostVisitedItemData(n);this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler,r.url===e&&(this.ntpApiHandle.reorderCustomLink(n,t),this.getOrUpdateTopSitesState(),a&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler))},this.ntpApiHandle.updateCustomLink(this.defaultRidForUpdate,e,i.title),this.ntpApiHandle.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_ADD))}}}}),!0},this.getLastRecommendedSiteLocationIndex=(e,t)=>{const i=e.curatedSiteMap;let n=null;return i.forEach(e=>{const t=e;t.locationIndex&&(n=t.locationIndex)}),n},this.closeAddTopSiteDialogHandler=e=>{e?De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_DONE):De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_CANCEL),xe.toggleAddDialogVisibility.getActionSender(this).send(!1)},this.closeEditTopSiteDialogHandler=e=>{e?De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_DONE):De.b.logEvent(De.a.NTP_CUSTOMIZE_SHORTCUT_CANCEL),xe.toggleEditDialogVisibility.getActionSender(this).send(!1)},this.closeTopSiteContextMenuHandler=()=>{xe.toggleContextMenuVisibility.getActionSender(this).send(!1)},this.showEditTopSiteDialogHandler=()=>{xe.toggleEditDialogVisibility.getActionSender(this).send(!0)},this.onSmartListUpdateComplete=e=>{e?De.b.logEvent(De.a.NTP_SMARTLIST_ENABLED):De.b.logEvent(De.a.NTP_SMARTLIST_DISABLED)};const s=window;s.chrome&&s.chrome.embeddedSearch&&(this.ntpApiHandle=s.chrome.embeddedSearch.newTabPage)}showAddTopSiteDialogHandler(){De.b.logEvent(De.a.NTP_CUSTOMIZE_ADD_SHORTCUT_CLICKED),xe.toggleAddDialogVisibility.getActionSender(this).send(!0)}showTopSiteContextMenuHandler(){De.b.logEvent(De.a.NTP_CUSTOMIZE_ADD_SHORTCUT_CLICKED),xe.toggleContextMenuVisibility.getActionSender(this).send(!0)}onTopSitesRendered(){this.ntpApiHandle&&!Object(Le.a)()&&"hidden"!==document.visibilityState&&De.b.logEvent(De.a.NTP_ALL_TILES_LOADED)}getMostVisitedSites(){let e=null;if(this.ntpApiHandle){if(!this.ntpApiHandle.mostVisitedAvailable)return null;e=this.ntpApiHandle.mostVisited.map((e,t)=>{const i=this.ntpApiHandle.getMostVisitedItemData(e.rid);return this.ntpApiHandle.logMostVisitedImpression(t,i.tileTitleSource,i.tileSource,0,i.dataGenerationTime),{rid:e.rid,dataGenerationTime:i.dataGenerationTime,faviconUrl:e.faviconUrl,domain:i.domain,title:i.title,tileSource:i.tileSource,tileTitleSource:i.tileTitleSource,url:i.url,direction:i.direction,enforcement:e.enforcement}}),De.b.logEvent(De.a.NTP_ALL_TILES_RECEIVED)}return e}updateCuratedToCustomLink(e,t){const i=e.renderList,n=e.curatedSiteMap;return new Promise(e=>{i&&n&&n.size||e(),this.suppressTopSitesStateUpdate=!0;const a={};n.forEach(e=>{a[e.title]=e});const r=[],o={};for(let e=0;e<t;e++){const t=i[e],s=parseInt(t.key);if(!this.ntpApiHandle.getMostVisitedItemData(s)){const e=n.get(s);if(e){const t=this.ntpApiHandle.fixupAndValidateUrl(e.url);if(t){let i;const n=new Promise((function(e){i=e}));r.push(n),o[e.title]=i,this.ntpApiHandle.onmostvisitedchange=()=>{const e=this.ntpApiHandle.mostVisited,t=e[e.length-1].rid,i=this.ntpApiHandle.getMostVisitedItemData(t);if(a[i.title]){const e=a[i.title].locationIndex;e&&this.ntpApiHandle.reorderCustomLink(t,e),o[i.title]()}},this.ntpApiHandle.updateCustomLink(this.defaultRidForUpdate,t,e.title)}}}}Promise.all(r).then(()=>{this.suppressTopSitesStateUpdate=!1,e()})})}}var ze=i("SWc4"),Ge=i("D57K"),qe=i("mwRD"),$e=i("o6Qh"),Ze=i("pCrc"),We=i("4k19"),Ke=i("eoyk"),Ye=i("Zn5T"),Xe=i("s9+9"),Qe=i("KRKw"),Je=i("rRWH"),et=i("I6Lx"),tt=i("4Ixr");class it extends tt.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return v.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),v.a.createElement("path",{d:"M16 3V13H0V3H5V2C5 1.85938 5.02604 1.72917 5.07812 1.60938C5.13021 1.48958 5.20052 1.38542 5.28906 1.29688C5.38281 1.20312 5.48958 1.13021 5.60938 1.07812C5.72917 1.02604 5.85938 1 6 1H10C10.1406 1 10.2708 1.02604 10.3906 1.07812C10.5104 1.13021 10.6146 1.20312 10.7031 1.29688C10.7969 1.38542 10.8698 1.48958 10.9219 1.60938C10.974 1.72917 11 1.85938 11 2V3H16ZM6 3H10V2H6V3ZM1 4V5.44531L6 7.9375V7H10V7.9375L15 5.44531V4H1ZM7 8V9H9V8H7ZM15 12V6.55469L10 9.0625V10H6V9.0625L1 6.55469V12H15Z"}))}}class nt extends tt.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return v.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),v.a.createElement("path",{d:"M2 7C2.14062 7 2.27083 7.02604 2.39062 7.07812C2.51042 7.13021 2.61458 7.20312 2.70312 7.29688C2.79688 7.38542 2.86979 7.48958 2.92188 7.60938C2.97396 7.72917 3 7.85938 3 8C3 8.14062 2.97396 8.27083 2.92188 8.39062C2.86979 8.51042 2.79688 8.61719 2.70312 8.71094C2.61458 8.79948 2.51042 8.86979 2.39062 8.92188C2.27083 8.97396 2.14062 9 2 9C1.85938 9 1.72917 8.97396 1.60938 8.92188C1.48958 8.86979 1.38281 8.79948 1.28906 8.71094C1.20052 8.61719 1.13021 8.51042 1.07812 8.39062C1.02604 8.27083 1 8.14062 1 8C1 7.85938 1.02604 7.72917 1.07812 7.60938C1.13021 7.48958 1.20052 7.38542 1.28906 7.29688C1.38281 7.20312 1.48958 7.13021 1.60938 7.07812C1.72917 7.02604 1.85938 7 2 7ZM8 7C8.14062 7 8.27083 7.02604 8.39062 7.07812C8.51042 7.13021 8.61458 7.20312 8.70312 7.29688C8.79688 7.38542 8.86979 7.48958 8.92188 7.60938C8.97396 7.72917 9 7.85938 9 8C9 8.14062 8.97396 8.27083 8.92188 8.39062C8.86979 8.51042 8.79688 8.61719 8.70312 8.71094C8.61458 8.79948 8.51042 8.86979 8.39062 8.92188C8.27083 8.97396 8.14062 9 8 9C7.85938 9 7.72917 8.97396 7.60938 8.92188C7.48958 8.86979 7.38281 8.79948 7.28906 8.71094C7.20052 8.61719 7.13021 8.51042 7.07812 8.39062C7.02604 8.27083 7 8.14062 7 8C7 7.85938 7.02604 7.72917 7.07812 7.60938C7.13021 7.48958 7.20052 7.38542 7.28906 7.29688C7.38281 7.20312 7.48958 7.13021 7.60938 7.07812C7.72917 7.02604 7.85938 7 8 7ZM14 7C14.1406 7 14.2708 7.02604 14.3906 7.07812C14.5104 7.13021 14.6146 7.20312 14.7031 7.29688C14.7969 7.38542 14.8698 7.48958 14.9219 7.60938C14.974 7.72917 15 7.85938 15 8C15 8.14062 14.974 8.27083 14.9219 8.39062C14.8698 8.51042 14.7969 8.61719 14.7031 8.71094C14.6146 8.79948 14.5104 8.86979 14.3906 8.92188C14.2708 8.97396 14.1406 9 14 9C13.8594 9 13.7292 8.97396 13.6094 8.92188C13.4896 8.86979 13.3828 8.79948 13.2891 8.71094C13.2005 8.61719 13.1302 8.51042 13.0781 8.39062C13.026 8.27083 13 8.14062 13 8C13 7.85938 13.026 7.72917 13.0781 7.60938C13.1302 7.48958 13.2005 7.38542 13.2891 7.29688C13.3828 7.20312 13.4896 7.13021 13.6094 7.07812C13.7292 7.02604 13.8594 7 14 7Z"}))}}var at=i("+djJ"),rt=i("HxRh");var ot;!function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit"}(ot||(ot={}));var st=i("jAzu"),ct=i("/E6d"),dt=i("Fao1"),lt=i("e0li"),ut=i("NS3c"),gt=i("xDbA"),ht=i("Nw3/"),pt=i("Lfgt"),mt=i("RzF4"),bt=i("AuhI"),ft=i("X9F+"),Ct=i("odxL"),vt=i("8yfO"),yt=i("mDtb");var St={topSite:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({position:"relative"},Object(O.c)()),{width:"120px",height:"90px",background:T.k,transition:"all 0.2s ease-in-out"}),Object(L.b)(L.a.e4)),{"&:hover":Object.assign(Object.assign(Object.assign({},Object(L.b)(L.a.e6)),{"& $topSite_actionButton":{opacity:"1"}}),E.h)}),E.x),topSite_badge:Object.assign({"background-color":ft.c,"border-radius":"12px",color:Ct.d,flex:"none",margin:Object(Je.c)("0 0 0 4px","0 4px 0 0"),"min-width":"16px"},E.b),topSite_content:Object.assign(Object.assign(Object.assign({transition:"all 0.2s ease-in-out","box-sizing":"border-box",display:"flex","flex-direction":"column","align-items":"center","justify-content":"flex-end",width:"100%",height:"100%",padding:"12px"},Object(O.c)()),E.d),{"&:hover":{[E.D]:{border:Object(D.a)("{0} solid "+E.a.selectedBackground,Object(B.a)(T.X))}}}),topSite_destination:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Object(vt.d)("t8")),Object(yt.c)()),Object(bt.a)(1,16)),{color:j.c,"max-width":"100%",padding:"0","text-decoration":"none","font-family":"inherit","text-overflow":"ellipsis","&::after":{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0","z-index":"1"}}),Object(P.a)({"&::after":Object.assign(Object.assign({border:Object(D.a)("{0} solid {1}",Object(B.a)(T.s),I.a)},Object(O.c)()),E.y)})),{[E.D]:{border:"transparent",color:E.a.buttonText},"a&":Object.assign({},E.t)}),topSite_image:{"max-height":"24px","margin-top":"8px"},topSite_title:{"align-items":"baseline",display:"flex","justify-content":"center",margin:"17px 0 0 0",width:"100%"},topSite_actionButton:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({display:"flex","align-items":"center","justify-content":"center","box-sizing":"border-box",position:"absolute",top:"4px",right:Object(Je.c)("4px",""),left:Object(Je.c)("","4px"),background:"transparent"},Object(O.d)()),Object(O.a)()),{height:"24px",width:"24px",padding:"0",transition:"all 0.2s ease-in-out","z-index":"2",opacity:"0",cursor:"pointer",fill:j.c}),E.d),{"&:hover":Object.assign(Object.assign({},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)})}),Object(P.a)(Object.assign(Object.assign({"border-color":I.a,opacity:"1"},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}))),topSite_actionButtonGlyph:Object.assign({width:"10px",height:"10px",fill:j.c},E.o),topSite__pinned:{}};const xt=Object(r.a)(St)(mt.default);var Ot=i("a9k+"),Tt=i("LD6M"),wt=i("0fst");const It={dialog_body:{width:"100%","line-height":"16px","align-items":"center","justify-content":"space-between"},dialog_body_aftercontent:Object.assign(Object.assign({flex:"1 1 0","margin-top":"8px"},Object(vt.b)("t8")),{color:j.c}),dialog_heading:{display:"flex",color:I.a},dialog_heading_override:{width:"fit-content","padding-left":Object(Je.c)("16px","unset"),"padding-right":Object(Je.c)("unset","16px")},viewportPositioner:{"z-index":""+wt.a.Above,"&:focus":{outline:"none"}},viewportPositioner__top:{"& > div":{transform:"translateY(-8px)"}},viewportPositioner__bottom:{"& > div":{transform:"translateY(8px)"}},dialogViewportPositionerWrapper:{height:"0px",width:"0px"},labelText:{"box-sizing":"border-box","font-weight":"600","line-height":"32px !important","margin-top":"auto","margin-bottom":"auto","text-align":Object(Je.c)("left","right"),width:"40px"},textField:{"border-radius":"2px",float:"right",height:"32px",outline:"none",padding:"12px",width:"288px"},textField_large_dialog:{width:"384px"},name:{display:"grid"},url:{"margin-top":"12px",display:"grid"},topSite:{"margin-top":"16px",display:"flex"},topSite_position:{"margin-left":Object(Je.c)("12px","unset"),"margin-right":Object(Je.c)("unset","12px"),display:"flex"}},Et={dialog:{width:"316px","& $dialog_positioningRegion":{position:"relative"}},dialog_body:{"margin-top":"4px"},dialog_actionWrapper:{"grid-template-columns":"140px 140px","justify-content":"center"},dialog_contentRegion:{padding:"16px","&:focus":{outline:"none"}},dialog_heading:{width:"fit-content"},dialog_positioningRegion:{overflow:"initial",position:"relative"},dialog_primaryButton:{"min-width":"140px","max-width":"140px",width:"140px"},dialog_secondaryButton:{"min-width":"140px","max-width":"140px",width:"140px"},dialog_closeButton:{height:"24px",right:Object(Je.c)("4px","unset"),left:Object(Je.c)("unset","4px"),top:"4px",width:"24px"},dialog_mainContent:{padding:"0px",display:"grid"}},kt=Object.assign(Object.assign({},Et),{dialog_actionWrapper:{"grid-auto-flow":"dense"},dialog_primaryButton:{"grid-column":"2"},dialog_secondaryButton:{"grid-column":"1"}}),jt={width:"316px"},Lt={width:"416px"},Dt={dialog:{width:"416px","& $dialog_positioningRegion":{position:"relative"}},dialog_body:{"margin-top":"4px"},dialog_actionWrapper:{"grid-template-columns":"188px 188px","justify-content":"center"},dialog_contentRegion:{padding:"0px","&:focus":{outline:"none"}},dialog_heading:{width:"fit-content"},dialog_heading_override:{width:"fit-content","padding-left":Object(Je.c)("16px","unset"),"padding-right":Object(Je.c)("unset","16px")},dialog_positioningRegion:{overflow:"initial",position:"relative"},dialog_primaryButton:{"min-width":"188px","max-width":"188px",width:"188px"},dialog_secondaryButton:{"min-width":"188px","max-width":"140px",width:"188px"},dialog_closeButton:{height:"24px",right:Object(Je.c)("4px","unset"),left:Object(Je.c)("unset","4px"),top:"4px",width:"24px"},dialog_mainContent:{padding:"16px",display:"grid"},dialog_afterContentRegion:{"padding-right":Object(Je.c)("16px","unset"),"padding-left":Object(Je.c)("unset","16px"),"padding-bottom":"16px","background-color":Tt.a},dialog_beforeContentRegion:{"padding-right":Object(Je.c)("16px","unset"),"padding-left":Object(Je.c)("unset","16px"),"padding-top":"16px"}},Bt=Object.assign(Object.assign({},Dt),{dialog_actionWrapper:{"grid-auto-flow":"dense"},dialog_primaryButton:{"grid-column":"2"},dialog_secondaryButton:{"grid-column":"1"}});var Pt=i("ADRF"),At=i("Gy7L"),Ht=i("xnnr");const Mt=/^https?:/i;class _t extends y.a{constructor(e){super(e),this.handledProps={addButton:void 0,ariaLabel_addNameInput:void 0,ariaLabel_addUrlInput:void 0,ariaLabel_editNameInput:void 0,ariaLabel_editUrlInput:void 0,cancelButton:void 0,closeButton:void 0,closeHandler:void 0,dialogAnchor:void 0,dialogStyleOverrides:void 0,dialogType:void 0,dialogUrlTooltipText:void 0,enableMacPositioning:void 0,enableNameField:void 0,enableOnlyRenaming:void 0,errorCallback:void 0,loadedHandler:void 0,managedClasses:void 0,nameLabelText:void 0,nameValue:void 0,saveHandler:void 0,saveSuggestionHandler:void 0,titleText:void 0,subTitleText:void 0,suggestedAfterContent:void 0,topSiteRid:void 0,urlLabelText:void 0,urlValue:void 0,viewport:void 0},this.renderAfterContent=()=>{let e=[];const{suggestedAfterContent:t}=this.props,{topSite_position:i}=this.props.managedClasses;return e=t.map((e,t)=>v.a.createElement(xt,Object.assign({},e,{className:i,onClick:()=>this.saveSuggestedLink(e.url,e.title,t)}))),e},this.saveSuggestedLink=(e,t,i)=>{const{saveSuggestionHandler:n}=this.props;if(n){const a=this.tryParseUrl(e),r=Object(Ht.a)(t);a&&r?n(a,null,r,i):a&&n(a,null,null,i)}},this.createAfterContent=()=>{if(!this.props.suggestedAfterContent)return;const{dialog_heading_override:e,dialog_body_aftercontent:t,topSite:i}=this.props.managedClasses;return v.a.createElement("div",{className:t,"data-targetid":"QuicklinksAddDialogFirstLink"},v.a.createElement(dt.a,{size:lt.a._7,tag:lt.b.h3,className:e},this.props.subTitleText),v.a.createElement("div",{className:i},this.renderAfterContent()))},this.createAddButton=()=>{const e=Object.assign(Object.assign({},this.props.addButton),{appearance:ut.a.primary,onClick:e=>{e.stopPropagation(),this.save()}});return v.a.createElement(gt.a,Object.assign({},e))},this.createCancelButton=()=>{const e=Object.assign(Object.assign({},this.props.cancelButton),{onClick:this.close,id:"topsites-dialog-cancel"});return v.a.createElement(gt.a,Object.assign({},e))},this.checkWindowCollision=()=>{if(this.props.dialogAnchor){return(this.props.dialogAnchor.getBoundingClientRect()||{top:0}).top<=190}return!1},this.save=()=>{const{saveHandler:e}=this.props;if(e){const t=this.tryParseUrl(this.state.urlText),i=Object(Ht.a)(this.state.nameText);t&&i&&this.props.topSiteRid?e(t,this.props.topSiteRid,i):t&&this.props.topSiteRid?e(t,this.props.topSiteRid,null):t&&i?e(t,null,i):t&&e(t,null,null)}},this.close=()=>{const{closeHandler:e}=this.props;e&&e()},this.handleDialogKeyDown=e=>{if(e.keyCode===At.h)this.close();else if(e.keyCode===At.m){const t=e.target.id;e.shiftKey?"topsites-dialog-close"===t&&(document.getElementById("topsites-dialog-cancel").focus(),e.preventDefault()):("topsites-dialog-cancel"!==t||this.props.suggestedAfterContent||(document.getElementById("topsites-dialog-close").focus(),e.preventDefault()),"topsites-dialog-suggested-link"===t&&this.props.suggestedAfterContent&&(document.getElementById("topsites-dialog-close").focus(),e.preventDefault()))}},this.handleInputTextKeyDown=e=>{e.keyCode===At.g&&(e.preventDefault(),this.save())},this.handleOnUrlChange=e=>{this.setState({urlText:e.target.value})},this.handleOnNameChange=e=>{this.setState({nameText:e.target.value})},this.handleMouseDown=e=>{const t=e.target,i=document.getElementById("topsites-dialog"),n=document.getElementById("coachmark-v2");if(n){const t=n.getBoundingClientRect();if(e.pageX&&e.pageY&&e.pageX>=t.left&&e.pageX<=t.right&&e.pageY>=t.top&&e.pageY<=t.bottom)return}t instanceof HTMLElement&&i.contains(t)||t instanceof SVGElement&&i.contains(t)||this.props.dialogType===ot.Add&&(this.props.dialogAnchor&&t instanceof HTMLElement&&t===this.props.dialogAnchor||t instanceof SVGElement&&this.props.dialogAnchor.contains(t))||this.close()},this.handleScrollEvent=e=>{this.close()},this.handleResizeEvent=e=>{this.close()},this.state={nameText:this.props.nameValue,urlText:this.props.urlValue}}componentDidMount(){window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("resize",this.handleResizeEvent),setTimeout(()=>{window.addEventListener("scroll",this.handleScrollEvent)},1e3),this.props.loadedHandler&&this.props.loadedHandler(),this.setEditDialogInputHighlighting()}componentWillUnmount(){window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("resize",this.handleResizeEvent),window.removeEventListener("scroll",this.handleScrollEvent)}componentDidCatch(e){this.props.errorCallback&&this.props.errorCallback(e)}render(){const e=this.props.managedClasses,{dialogViewportPositionerWrapper:t,dialog_body:i}=e,n=this.props.dialogStyleOverrides;n&&Object.assign(Et,n);let a=Et;return this.props.enableMacPositioning&&!this.props.suggestedAfterContent?a=kt:this.props.suggestedAfterContent&&!this.props.enableMacPositioning?a=Dt:this.props.suggestedAfterContent&&this.props.enableMacPositioning&&(a=Bt),v.a.createElement("div",{className:t},v.a.createElement(st.a,{anchor:this.props.dialogAnchor,defaultHorizontalPosition:ct.b.right,defaultVerticalPosition:ct.c.bottom,fixedAfterInitialPlacement:!0,horizontalPositioningMode:ct.a.inset,managedClasses:this.props.managedClasses,style:this.props.suggestedAfterContent?Lt:jt,verticalLockToDefault:this.checkWindowCollision(),verticalPositioningMode:ct.a.adjacent,viewport:this.props.viewport},v.a.createElement(Ot.a,Object.assign({id:"topsites-dialog",onKeyDown:this.handleDialogKeyDown,jssStyleSheet:a},this.unhandledProps(),this.coerceDialogProps()),v.a.createElement("div",{className:i},this.props.enableNameField?this.renderName():null,this.props.enableOnlyRenaming&&this.props.dialogType===ot.Edit?null:this.renderURL()))))}renderURL(){const{url:e,labelText:t,textField:i,textField_large_dialog:n}=this.props.managedClasses;return v.a.createElement("div",{className:e},v.a.createElement($e.a,{className:t,htmlFor:"topsites-dialog-input-url"},this.props.urlLabelText?this.props.urlLabelText:"URL"),v.a.createElement(ht.a,{"aria-label":this.props.dialogType===ot.Edit?this.props.ariaLabel_editUrlInput:this.props.ariaLabel_addUrlInput,autoFocus:!this.props.enableNameField,className:this.props.suggestedAfterContent?i+""+n:i,id:"topsites-dialog-input-url",onChange:this.handleOnUrlChange,onKeyDown:this.handleInputTextKeyDown,placeholder:"",title:this.props.dialogUrlTooltipText,type:pt.a.url,value:this.state.urlText}))}renderName(){const{name:e,labelText:t,textField:i,textField_large_dialog:n}=this.props.managedClasses;return v.a.createElement("div",{className:e},v.a.createElement($e.a,{className:t,htmlFor:"topsites-dialog-input-name"},this.props.nameLabelText?this.props.nameLabelText:"Name"),v.a.createElement(ht.a,{"aria-label":this.props.dialogType===ot.Edit?this.props.ariaLabel_editNameInput:this.props.ariaLabel_addNameInput,autoFocus:!!this.props.enableNameField,className:this.props.suggestedAfterContent?i+""+n:i,id:"topsites-dialog-input-name",onChange:this.handleOnNameChange,onKeyDown:this.handleInputTextKeyDown,placeholder:"",type:pt.a.text,value:this.state.nameText}))}coerceDialogProps(){let e;return e=this.props.titleText?this.props.titleText:this.props.dialogType===ot.Edit?"Edit website":"Add a website",{visible:!0,modal:!1,contentWidth:this.props.suggestedAfterContent?"416px":null,primaryButton:this.createAddButton,secondaryButton:this.createCancelButton,afterContent:this.createAfterContent,heading:{children:e},closeButton:Object.assign(Object.assign({},this.props.closeButton),{label:this.props.closeButton.label,onInvoke:this.close,autoFocus:!1,id:"topsites-dialog-close"})}}setEditDialogInputHighlighting(){if(this.props.dialogType===ot.Edit){const e=document.getElementById("topsites-dialog-input-url"),t=document.getElementById("topsites-dialog-input-name");e&&(e.selectionStart=0),t&&(t.selectionStart=0)}}tryParseUrl(e){if(!e)return;e=Object(Ht.a)(e);let t=this.tryCreateUrl(e);return t&&t.href.toLocaleUpperCase().startsWith(e.toLocaleUpperCase())||Mt.test(e)||(t=this.tryCreateUrl("https://"+e)),t&&t.host&&Mt.test(t.protocol)&&Pt.a.isValidUrl(t.href,!0)?t:void 0}tryCreateUrl(e){try{return new URL(e)}catch(e){return}}}var Rt=_t;const Nt=Object(r.a)(It)(Rt);var Ft=i("Am8i"),Ut=i("u5KZ");const Vt="TopSitesCommon",zt="topsite-context-menu-container",Gt="topsite-context-menu-edit",qt="topsite-context-menu-remove",$t="topsite-signin-context-menu-update",Zt="topsite-smartlist-context-menu-update",Wt="Edit",Kt="Remove",Yt="Edit this site",Xt="Remove this site",Qt="More options";var Jt;!function(e){e[e.Edit=0]="Edit",e[e.Remove=1]="Remove",e[e.Preview=2]="Preview",e[e.User=3]="User"}(Jt||(Jt={}));var ei=i("27Co"),ti=i("FUtr");class ii extends tt.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return v.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),v.a.createElement("path",{d:"M0 6L0 7H1L1 6H0ZM0 9L0 10H1L1 9H0ZM3 9V10L16 10V9L3 9ZM0 12L0 13H1V12H0ZM3 13L16 13V12L3 12V13ZM3 6L3 7L16 7V6L3 6ZM0 3L0 4H1V3H0ZM3 3L3 4L16 4V3L3 3Z"}))}}class ni extends tt.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return v.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),v.a.createElement("path",{d:"M9.39062 9.39844C10.099 9.64323 10.737 9.98698 11.3047 10.4297C11.8776 10.8672 12.362 11.375 12.7578 11.9531C13.1589 12.5312 13.4661 13.1641 13.6797 13.8516C13.8932 14.5391 14 15.2552 14 16H13C13 15.1458 12.8464 14.3542 12.5391 13.625C12.237 12.8906 11.8177 12.2552 11.2812 11.7188C10.7448 11.1823 10.1094 10.763 9.375 10.4609C8.64583 10.1536 7.85417 10 7 10C6.44271 10 5.90625 10.0703 5.39062 10.2109C4.875 10.3516 4.39323 10.5521 3.94531 10.8125C3.5026 11.0677 3.09896 11.3776 2.73438 11.7422C2.375 12.1016 2.0651 12.5052 1.80469 12.9531C1.54948 13.3958 1.35156 13.875 1.21094 14.3906C1.07031 14.9062 1 15.4427 1 16H0C0 15.25 0.109375 14.5339 0.328125 13.8516C0.546875 13.1641 0.856771 12.5339 1.25781 11.9609C1.65885 11.388 2.14323 10.8828 2.71094 10.4453C3.28385 10.0078 3.92188 9.66146 4.625 9.40625C4.21875 9.1875 3.85417 8.92188 3.53125 8.60938C3.20833 8.29688 2.93229 7.95052 2.70312 7.57031C2.47917 7.1849 2.30469 6.77604 2.17969 6.34375C2.0599 5.90625 2 5.45833 2 5C2 4.30729 2.13021 3.65885 2.39062 3.05469C2.65104 2.44531 3.00781 1.91406 3.46094 1.46094C3.91406 1.00781 4.44271 0.651042 5.04688 0.390625C5.65625 0.130208 6.30729 0 7 0C7.69271 0 8.34115 0.130208 8.94531 0.390625C9.55469 0.651042 10.0859 1.00781 10.5391 1.46094C10.9922 1.91406 11.349 2.44531 11.6094 3.05469C11.8698 3.65885 12 4.30729 12 5C12 5.45833 11.9375 5.90365 11.8125 6.33594C11.6927 6.76823 11.5182 7.17448 11.2891 7.55469C11.0651 7.9349 10.7917 8.28385 10.4688 8.60156C10.151 8.91406 9.79167 9.17969 9.39062 9.39844ZM3 5C3 5.55208 3.10417 6.07031 3.3125 6.55469C3.52604 7.03906 3.8125 7.46354 4.17188 7.82812C4.53646 8.1875 4.96094 8.47396 5.44531 8.6875C5.92969 8.89583 6.44792 9 7 9C7.55208 9 8.07031 8.89583 8.55469 8.6875C9.03906 8.47396 9.46094 8.1875 9.82031 7.82812C10.1849 7.46354 10.4714 7.03906 10.6797 6.55469C10.8932 6.07031 11 5.55208 11 5C11 4.44792 10.8932 3.92969 10.6797 3.44531C10.4714 2.96094 10.1849 2.53906 9.82031 2.17969C9.46094 1.8151 9.03906 1.52865 8.55469 1.32031C8.07031 1.10677 7.55208 1 7 1C6.44792 1 5.92969 1.10677 5.44531 1.32031C4.96094 1.52865 4.53646 1.8151 4.17188 2.17969C3.8125 2.53906 3.52604 2.96094 3.3125 3.44531C3.10417 3.92969 3 4.44792 3 5Z"}))}}const ai={contextMenuItem_image:{"margin-left":Object(Je.c)("8px","16px"),"margin-right":Object(Je.c)("16px","8px"),"margin-top":"auto","margin-bottom":"auto"},contextMenuItem_policyImage:{"margin-left":Object(Je.c)("auto","8px"),"margin-right":Object(Je.c)("8px","auto"),"margin-top":"auto","margin-bottom":"auto"},contextMenu:{"max-width":"150px","min-width":"150px"},contextMenuWithSmartList:{"max-width":"182px","min-width":"182px"},contextMenuPositioner:{"z-index":""+wt.a.Above,"&:focus":{outline:"none"},width:"100%"}},ri={contextMenuItem:{display:"flex","align-items":"center"},contextMenuItem_contentRegion:{width:"100%",display:"flex"}},oi={contextMenuItem:{display:"none"},contextMenuItem_contentRegion:{display:"none"}};var si=i("JIHU"),ci=i("Cmru"),di=i("7nmT"),li=i.n(di);class ui extends y.a{constructor(e){super(e),this.handledProps={closeHandler:void 0,editContextMenuItemProps:void 0,errorCallback:void 0,isRecommendedPolicy:void 0,loadedHandler:void 0,managedClasses:void 0,recommendedPolicyTitleText:void 0,removeContextMenuItemProps:void 0,telemetryHandler:void 0,topSiteActionButton:void 0,topSiteRid:void 0,updateSignInStatusContextItemProps:void 0,updateSmartListContextMenuItemProps:void 0},this.renderContextMenuItem=(e,t,i,n)=>v.a.createElement(si.a,Object.assign({id:e,key:i.toString(),jssStyleSheet:ri,onInvoke:e=>{e.stopPropagation(),this.props.telemetryHandler(e.target),t(),this.close()},className:this.props.managedClasses.contextMenuItem},n.telemetryTags),this.renderItemIcon(i,n["aria-label"]),n.labelText,this.props.isRecommendedPolicy&&this.renderGroupPolicyIcon()),this.editTopSiteHandler=()=>{this.props.editContextMenuItemProps.handler()},this.removeTopSiteHandler=()=>{this.props.removeContextMenuItemProps.handler(this.props.topSiteRid)},this.updateTopSiteSignInStatusandler=()=>{this.props.updateSignInStatusContextItemProps.handler(this.props.topSiteRid),this.props.closeHandler()},this.updateTopSiteSmartListHandler=()=>{this.props.updateSmartListContextMenuItemProps.handler(this.props.topSiteRid),this.props.closeHandler()},this.close=()=>{const{closeHandler:e}=this.props;e&&e()},this.handleUnfocus=e=>{const t=e.target,i=this.contextMenuContainerRef&&this.contextMenuContainerRef.current,n=li.a.findDOMNode(i);t instanceof HTMLElement&&n.contains(t)||t instanceof SVGElement&&n.contains(t)||this.props.topSiteActionButton&&t instanceof HTMLElement&&t===this.props.topSiteActionButton||t instanceof SVGElement&&this.props.topSiteActionButton.contains(t)||this.close()},this.handleKeyDown=e=>{if(e.keyCode===At.h){const{topSiteActionButton:e}=this.props;e&&e.focus(),this.close()}else if(e.keyCode===At.m){const t=e.target.id;if(t&&t===Gt){const e=document.getElementById(qt);e&&e.focus()}else{const e=document.getElementById(Gt);e&&e.focus()}e.preventDefault()}},this.handleScrollEvent=e=>{this.close()},this.contextMenuContainerRef=v.a.createRef()}componentDidMount(){window.addEventListener("mousedown",this.handleUnfocus),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("scroll",this.handleScrollEvent),this.props.loadedHandler&&this.props.loadedHandler(),this.toggleActionButtonVisibility(!0)}componentWillUnmount(){window.removeEventListener("mousedown",this.handleUnfocus),window.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("scroll",this.handleScrollEvent),this.toggleActionButtonVisibility(!1)}componentDidCatch(e){this.props.errorCallback&&this.props.errorCallback(e)}render(){const{contextMenuPositioner:e,contextMenu:t,contextMenuWithSmartList:i}=this.props.managedClasses,n=this.props.updateSmartListContextMenuItemProps?i:t;return v.a.createElement(st.a,{ref:this.contextMenuContainerRef,className:e,anchor:this.props.topSiteActionButton,viewport:document.getElementById(Vt),horizontalPositioningMode:ct.a.inset,verticalPositioningMode:ct.a.adjacent,verticalLockToDefault:!0,fixedAfterInitialPlacement:!0,defaultHorizontalPosition:ct.b.right,defaultVerticalPosition:ct.c.bottom},v.a.createElement(ci.a,{className:n},this.renderContextMenuItem(Gt,this.editTopSiteHandler,Jt.Edit,this.props.editContextMenuItemProps),this.renderContextMenuItem(qt,this.removeTopSiteHandler,Jt.Remove,this.props.removeContextMenuItemProps),this.props.updateSignInStatusContextItemProps?this.renderContextMenuItem($t,this.updateTopSiteSignInStatusandler,Jt.User,this.props.updateSignInStatusContextItemProps):v.a.createElement(si.a,{jssStyleSheet:oi}),this.props.updateSmartListContextMenuItemProps?this.renderContextMenuItem(Zt,this.updateTopSiteSmartListHandler,Jt.Preview,this.props.updateSmartListContextMenuItemProps):v.a.createElement(si.a,{jssStyleSheet:oi})))}renderItemIcon(e,t){switch(e){case Jt.Edit:return v.a.createElement(ei.a,{titleText:t,className:this.props.managedClasses.contextMenuItem_image});case Jt.Remove:return v.a.createElement(ti.a,{titleText:t,className:this.props.managedClasses.contextMenuItem_image});case Jt.Preview:return v.a.createElement(ii,{titleText:t,className:this.props.managedClasses.contextMenuItem_image});case Jt.User:return v.a.createElement(ni,{titleText:t,className:this.props.managedClasses.contextMenuItem_image});default:return null}}renderGroupPolicyIcon(){return v.a.createElement(it,{className:this.props.managedClasses.contextMenuItem_policyImage,titleText:this.props.recommendedPolicyTitleText})}toggleActionButtonVisibility(e){this.props.topSiteActionButton&&(e?this.props.topSiteActionButton.setAttribute("style","opacity: 1"):this.props.topSiteActionButton.removeAttribute("style"))}}const gi=Object(r.a)(ai)(ui);var hi=i("LOMp"),pi=i("AxnZ"),mi=i("6u3Q");const bi="#0078D4",fi="#63ADE5",Ci=e=>({dialogContainer:{height:"52px","max-width":"504px"}}),vi=()=>({notificationContainer:{top:"auto",bottom:"-72px"}});var yi=i("7YXi"),Si=i("kd/b"),xi=i("FPTP"),Oi=i("y2Il"),Ti=i("vhqU");class wi extends y.a{constructor(){super(...arguments),this.handledProps={closeButtonProps:void 0,closeHandler:void 0,managedClasses:void 0,notificationDurationMs:void 0,placeholderString:void 0,removedText:void 0,tileSource:void 0,tileTitle:void 0,tileUrl:void 0,topSiteRid:void 0,undoTopSiteHandler:void 0,undoButton:void 0},this.onToastClose=()=>{const{closeHandler:e}=this.props;return e&&e(),null},this.renderToast=e=>{const{topSiteRid:t}=this.props;return v.a.createElement(Si.a,{jssStyleSheet:Ci,toastId:t?t.toString():null,toastBody:this.renderBody(),onClose:e,closeButtonProps:this.props.closeButtonProps})}}render(){const{topSiteRid:e}=this.props;return v.a.createElement(yi.a,{jssStyleSheet:vi,notificationComponent:this.renderToast(this.onToastClose),notificationDurationMs:this.props.notificationDurationMs,notificationKey:e.toString(),onNotificationTimeout:this.onToastClose})}undoTopSite(){return{onClick:()=>{this.props.undoTopSiteHandler(this.props.topSiteRid,this.props.tileSource,this.props.tileUrl),this.onToastClose()}}}renderBody(){const{managedClasses:e,tileTitle:t,placeholderString:i}=this.props;if(i)return v.a.createElement(v.a.Fragment,null,v.a.createElement(xi.a,{tag:Oi.b.span,className:e.toast_bodyText},Object(pi.a)(i,this.getTileName(t)),v.a.createElement("span",{className:e.toast_removedText,key:Object(Ti.a)()},this.props.removedText)),this.renderNavigation())}getTileName(e){return v.a.createElement("span",{className:this.props.managedClasses.toast_tileName,key:Object(Ti.a)()},""+e)}renderNavigation(){const{managedClasses:e,undoButton:t}=this.props,i={children:t?t.label:null};return v.a.createElement(hi.a,Object.assign({},this.undoTopSite(),{className:e.toast_navigation},t),v.a.createElement(xi.a,Object.assign({className:e.toast_navigationText,tag:Oi.b.span},i)))}}var Ii=wi;const Ei=Object(r.a)(e=>({toast_navigation:{[Object(Je.b)("margin-left","margin-right",e.direction)]:"24px"},toast_bodyText:{"&&":Object.assign(Object.assign({},Object(vt.c)("t6")),{display:"inline-flex","align-items":"center","flex-direction":"rtl"===e.direction?"row-reverse":"row"})},toast_tileName:{"max-width":"287px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},toast_navigationText:{"&&":Object.assign(Object.assign({},Object(vt.c)("t6")),{color:Object(mi.e)(e)?bi:fi,cursor:"pointer"})},toast_removedText:{"margin-left":"5px","white-space":"nowrap"}}))(Ii);var ki;!function(e){e.lightBackgroundColor="rgba(229, 229, 229, 0.6)",e.darkBackgroundColor="rgba(0,0,0,0.42)",e.newLightBackgroundColor="#FFFFFF",e.newDarkBackgroundColor="#424242",e.onHoverLightBackgroundColor="rgba(229, 229, 229, 0.3)",e.OnHoverDarkBackgroundColor="rgba(66, 66, 66, 0.4);"}(ki||(ki={}));const ji={style:{transform:"rotate(0deg)"}},Li={style:{transform:"rotate(-180deg)"}},Di={button:{background:"none",cursor:"pointer",display:"block",height:"36px",left:Object(Je.c)("auto","0"),padding:"0",position:"absolute",right:Object(Je.c)("0","auto"),top:"-44px",visibility:"inherit","&:active:enabled":{background:"none"},"&:hover:enabled":{background:"none"},"& path":{fill:j.c},"& svg":{height:"32px",width:"32px",fill:Tt.c},"& svg:focus":{fill:Tt.a,outline:"none"},"& svg:hover":{fill:Tt.b}},button_contentRegion:{float:Object(Je.c)("right","left")}},Bi={button:{background:"none",cursor:"pointer",display:"block",height:"36px",left:Object(Je.c)("auto","0"),position:"absolute",padding:"0",right:Object(Je.c)("0","auto"),top:"-44px",visibility:"inherit","&:active:enabled":{background:"none"},"&:hover:enabled":{background:"none"},"& svg":{height:"32px",width:"32px",fill:"rgba(0, 0, 0)"},"& svg:focus":{fill:"rgba(31, 31, 31)",outline:"none"},"& svg:hover":{fill:"rgba(44, 44, 44)"}},button_contentRegion:{float:Object(Je.c)("right","left")}},Pi=Object(be.a)(e=>({label:{background:"none",border:"none",color:e||"#fff",display:"inline",height:"auto",margin:"0px 16px","pointer-events":"none",position:"relative","text-decoration":"none","text-shadow":"0px 0px 2px rgba(0, 0, 0, 0.64)",top:"-10px"}})),Ai=Object(be.a)(e=>({label:{background:"none",border:"none",color:e||"inherit",display:"inline",height:"auto","margin-left":Object(Je.c)("0px","16px"),"margin-right":Object(Je.c)("16px","0px"),"pointer-events":"none",position:"relative","text-decoration":"none",top:"-10px"}})),Hi={topSite_actionButton:{"&:hover":Object.assign(Object.assign({"background-color":Tt.b},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}),"&:active":{"background-color":Tt.a}}},Mi={style:{display:"block","max-height":"24px",margin:"8px"}},_i={style:{display:"block","max-height":"24px",margin:"10px"}},Ri=Object.assign(Object.assign({},Hi),{topSite:{background:"none","box-shadow":"none","&:hover":Object.assign(Object.assign({"background-color":Tt.b,"box-shadow":"none"},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)})}}),Ni=Object(be.a)(e=>Object.assign(Object.assign({},Ri),{topSite_title:{"margin-top":"4px"},topSite_content:{"padding-top":"10px","padding-bottom":"10px","padding-left":Object(Je.c)("10px","12px"),"padding-right":Object(Je.c)("12px","10px")},topSite_image:{width:"44px",height:"44px","background-color":ki.newLightBackgroundColor,"border-radius":"4px","max-height":"inherit","margin-top":"inherit"},topSite_destination:{color:e}})),Fi=Object(be.a)(e=>Object.assign(Object.assign({},Ri),{topSite_title:{"margin-top":"4px"},topSite_content:{"padding-top":"10px","padding-bottom":"10px","padding-left":Object(Je.c)("10px","12px"),"padding-right":Object(Je.c)("12px","10px")},topSite_image:{width:"44px",height:"44px","background-color":ki.newDarkBackgroundColor,"border-radius":"4px","max-height":"inherit","margin-top":"inherit"},topSite_destination:{color:e}})),Ui=Object.assign(Object.assign({},Ri),{topSite_actionButton:{"&:hover":Object.assign(Object.assign({"background-color":ki.lightBackgroundColor},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}),"&:active":{"background-color":ki.lightBackgroundColor}},topSite:Object.assign(Object.assign({},Ri.topSite),{"&:hover":Object.assign(Object.assign({"background-color":ki.lightBackgroundColor,"box-shadow":"none"},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B),"& $topSite_destination":{color:j.c},"& $topSite_image":{background:"none","box-shadow":"none"}})}),topSite_destination:{color:"#FFFFFF"},topSite_image:{width:"40px",height:"40px","background-color":ki.lightBackgroundColor,"border-radius":"4px","max-height":"inherit","margin-top":"inherit"}}),Vi=Object(be.a)(e=>Object.assign(Object.assign({},Ui),{topSite_actionButton:{"&:hover":Object.assign(Object.assign({"background-color":ki.onHoverLightBackgroundColor},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}),"&:active":{"background-color":ki.onHoverLightBackgroundColor}},topSite:Object.assign(Object.assign({},Ri.topSite),{"&:hover":Object.assign(Object.assign({"background-color":ki.onHoverLightBackgroundColor,"box-shadow":"none"},E.p),{"& $topSite_actionButton":{fill:ki.newLightBackgroundColor},"& $topSite_actionButtonGlyph":Object.assign({},E.B),"& $topSite_destination":{color:"#FFFFFF"}})}),topSite_title:{"margin-top":"4px"},topSite_content:{"padding-top":"10px","padding-bottom":"10px","padding-left":Object(Je.c)("10px","12px"),"padding-right":Object(Je.c)("12px","10px")},topSite_image:{width:"44px",height:"44px","background-color":ki.newLightBackgroundColor,"border-radius":"4px","max-height":"inherit","margin-top":"inherit"}})),zi=(Object.assign(Object.assign({},Ui),{topSite_actionButton:{"&:hover":Object.assign(Object.assign({"background-color":ki.darkBackgroundColor},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}),"&:active":{"background-color":ki.darkBackgroundColor}},topSite:Object.assign(Object.assign({},Ui.topSite),{"&:hover":Object.assign(Object.assign({"background-color":ki.darkBackgroundColor,"box-shadow":"none"},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B),"& $topSite_destination":{color:"#FFFFFF"},"& $topSite_image":{background:"none","box-shadow":"none"}})}),topSite_image:Object.assign(Object.assign({},Ui.topSite_image),{"background-color":ki.darkBackgroundColor})}),Object(be.a)(e=>Object.assign(Object.assign({},Ui),{topSite_actionButton:{"&:hover":Object.assign(Object.assign({"background-color":ki.OnHoverDarkBackgroundColor},E.p),{"& $topSite_actionButtonGlyph":Object.assign({},E.B)}),"&:active":{"background-color":ki.OnHoverDarkBackgroundColor}},topSite:Object.assign(Object.assign({},Ui.topSite),{"&:hover":Object.assign(Object.assign({"background-color":ki.OnHoverDarkBackgroundColor,"box-shadow":"none"},E.p),{"& $topSite_actionButton":{fill:ki.newLightBackgroundColor},"& $topSite_actionButtonGlyph":Object.assign({},E.B),"& $topSite_destination":{color:"#FFFFFF"}})}),topSite_title:{"margin-top":"4px"},topSite_content:{"padding-top":"10px","padding-bottom":"10px","padding-left":Object(Je.c)("10px","12px"),"padding-right":Object(Je.c)("12px","10px")},topSite_image:{width:"44px",height:"44px","background-color":ki.newDarkBackgroundColor,"border-radius":"4px","max-height":"inherit","margin-top":"inherit"},topSite_destination:{color:e}}))),Gi={topSitePlaceholder_icon:{height:"20px",width:"20px",color:Tt.c},topSitePlaceholder:{background:"none","box-shadow":"none","&:hover":Object.assign({"background-color":Tt.b,"box-shadow":"none"},E.p)}},qi={topSitePlaceholder_icon:Object.assign(Object.assign({},Gi.topSitePlaceholder_icon),{fill:"#FFFFFF"}),topSitePlaceholder:Object.assign(Object.assign({},Gi.topSitePlaceholder),{"&:hover":Object.assign({"background-color":ki.onHoverLightBackgroundColor,"box-shadow":"none"},E.p)})},$i={topSitePlaceholder_icon:Object.assign(Object.assign({},Gi.topSitePlaceholder_icon),{fill:"#FFFFFF"}),topSitePlaceholder:Object.assign(Object.assign({},Gi.topSitePlaceholder),{"&:hover":Object.assign({"background-color":ki.OnHoverDarkBackgroundColor,"box-shadow":"none"},E.p)})},Zi={topSitePlaceholder_icon:Object.assign(Object.assign({},Gi.topSitePlaceholder_icon),{fill:"#FFFFFF"}),topSitePlaceholder:Object.assign(Object.assign({},Gi.topSitePlaceholder),{"&:hover":Object.assign({"background-color":ki.lightBackgroundColor,"box-shadow":"none"},E.p)})},Wi={topSitePlaceholder_icon:Object.assign(Object.assign({},Gi.topSitePlaceholder_icon),{fill:"#FFFFFF"}),topSitePlaceholder:Object.assign(Object.assign({},Gi.topSitePlaceholder),{"&:hover":Object.assign({"background-color":ki.darkBackgroundColor,"box-shadow":"none"},E.p)})};var Ki={};var Yi=i("19qY"),Xi=i("5GsF"),Qi=i("+e96"),Ji=i("hnBi"),en=i("ttJo"),tn=i("I9iR"),nn=i.n(tn),an="undefined"!=typeof window?C.useLayoutEffect:C.useEffect,rn=i("Pu0A"),on=i.n(rn);function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function dn(e,t,i){var n=cn(function(e,t,i){var n=sn(Object(C.useState)((function(){return t(e)})),2),a=n[0],r=n[1],o=Object(C.useCallback)((function(){var n=t(e);on()(a,n)||(r(n),i&&i())}),[a,e,i]);return an(o,[]),[a,o]}(e,t,i),2),a=n[0],r=n[1];return an((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(r,{handlerIds:[t]})}),[e,r]),a}var ln=i("vX+A");function un(){var e=Object(C.useContext)(ln.a).dragDropManager;return nn()(null!=e,"Expected drag drop context"),e}function gn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var hn=!1,pn=!1,mn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){nn()(!hn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return hn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{hn=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;nn()(!pn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return pn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{pn=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&gn(t.prototype,i),n&&gn(t,n),e}();function bn(e,t){"function"==typeof e?e(t):e.current=t}function fn(e,t){var i=e.ref;return nn()("string"!=typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),i?Object(C.cloneElement)(e,{ref:function(e){bn(i,e),bn(t,e)}}):Object(C.cloneElement)(e,{ref:t})}function Cn(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function vn(e){var t={};return Object.keys(e).forEach((function(i){var n=e[i];if(i.endsWith("Ref"))t[i]=e[i];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(C.isValidElement)(t)){var n=t;return e(n,i),n}var a=t;Cn(a);var r=i?function(t){return e(t,i)}:e;return fn(a,r)}}(n);t[i]=function(){return a}}})),t}function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e){return null!==e&&"object"===yn(e)&&e.hasOwnProperty("current")}function xn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var On=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=vn({dragSource:function(e,t){i.clearDragSource(),i.dragSourceOptions=t||null,Sn(e)?i.dragSourceRef=e:i.dragSourceNode=e,i.reconnectDragSource()},dragPreview:function(e,t){i.clearDragPreview(),i.dragPreviewOptions=t||null,Sn(e)?i.dragPreviewRef=e:i.dragPreviewNode=e,i.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!on()(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!on()(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&xn(t.prototype,i),n&&xn(t,n),e}();function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function En(e){var t=Object(C.useRef)(e);t.current=e,nn()(null!=e.item,"item must be defined"),nn()(null!=e.item.type,"item type must be defined");var i,n=In((i=un(),[Object(C.useMemo)((function(){return new mn(i)}),[i]),Object(C.useMemo)((function(){return new On(i.getBackend())}),[i])]),2),a=n[0],r=n[1];!function(e,t,i){var n=un(),a=Object(C.useMemo)((function(){return{beginDrag:function(){var i=e.current,n=i.begin,a=i.item;if(n){var r=n(t);return nn()(null==r||"object"===wn(r),"dragSpec.begin() must either return an object, undefined, or null"),r||a||{}}return a||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(i,n){var a=e.current.isDragging;return a?a(t):n===i.getSourceId()},endDrag:function(){var n=e.current.end;n&&n(t.getItem(),t),i.reconnect()}}}),[]);an((function(){var r=Tn(function(e,t,i){var n=i.getRegistry(),a=n.addSource(e,t);return[a,function(){return n.removeSource(a)}]}(e.current.item.type,a,n),2),o=r[0],s=r[1];return t.receiveHandlerId(o),i.receiveHandlerId(o),s}),[])}(t,a,r);var o=dn(a,t.current.collect||function(){return{}},(function(){return r.reconnect()})),s=Object(C.useMemo)((function(){return r.hooks.dragSource()}),[r]),c=Object(C.useMemo)((function(){return r.hooks.dragPreview()}),[r]);return an((function(){r.dragSourceOptions=t.current.options||null,r.reconnect()}),[r]),an((function(){r.dragPreviewOptions=t.current.previewOptions||null,r.reconnect()}),[r]),[o,s,c]}function kn(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var jn=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=vn({dropTarget:function(e,t){i.clearDropTarget(),i.dropTargetOptions=t,Sn(e)?i.dropTargetRef=e:i.dropTargetNode=e,i.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,i,n;return t=e,(i=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!on()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&kn(t.prototype,i),n&&kn(t,n),e}();function Ln(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Dn=!1,Bn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,i,n;return t=e,(i=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;nn()(!Dn,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Dn=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Dn=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&Ln(t.prototype,i),n&&Ln(t,n),e}();function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hn(e){var t=Object(C.useRef)(e);t.current=e,nn()(null!=e.accept,"accept must be defined");var i,n=An((i=un(),[Object(C.useMemo)((function(){return new Bn(i)}),[i]),Object(C.useMemo)((function(){return new jn(i.getBackend())}),[i])]),2),a=n[0],r=n[1];!function(e,t,i){var n=un(),a=Object(C.useMemo)((function(){return{canDrop:function(){var i=e.current.canDrop;return!i||i(t.getItem(),t)},hover:function(){var i=e.current.hover;i&&i(t.getItem(),t)},drop:function(){var i=e.current.drop;if(i)return i(t.getItem(),t)}}}),[t]);an((function(){var r=Pn(function(e,t,i){var n=i.getRegistry(),a=n.addTarget(e,t);return[a,function(){return n.removeTarget(a)}]}(e.current.accept,a,n),2),o=r[0],s=r[1];return t.receiveHandlerId(o),i.receiveHandlerId(o),s}),[t,i])}(t,a,r);var o=dn(a,t.current.collect||function(){return{}},(function(){return r.reconnect()})),s=Object(C.useMemo)((function(){return r.hooks.dropTarget()}),[r]);return an((function(){r.dropTargetOptions=e.options||null,r.reconnect()}),[e.options]),[o,s]}class Mn{constructor(e,t,i){this.startIndex=0,this.dragConnector=(e,t)=>En({item:{id:e,index:t,type:je.Reorderable},collect:e=>({isDragging:e.isDragging()}),begin:()=>{this.cacheStartIndexHandler(e)},end:(e,t)=>{const{id:i}=t.getItem();if(t.didDrop())this.dropHandler(i)&&this.telemetryHandler(this.topSiteTile);else{const e=this.lookupIdByIndex(this.startIndex);this.reorderList(i,e)}this.clearReorderStyles()}}),this.dropConnector=(e,t)=>Hn({accept:je.Reorderable,hover:(i,n)=>{if(i.id!==e){i.index;const n=t,a=i.id,r=e;this.clearHoverState(this.startIndex,n),this.reorderList(a,r)}}}),this.cacheCurrentTopSiteTileDom=e=>{this.topSiteTile=e.currentTarget},this.handleTopSiteReorder=(e,t)=>{if(t.shiftKey&&t.altKey&&!(document.activeElement instanceof HTMLButtonElement))if(this.cacheCurrentTopSiteTileDom(t),t.keyCode===At.a.arrowRight){const i=this.getRenderListFromState(),n=i.findIndex(t=>parseInt(t.key)===e);if(n===i.length-1)return;xe.toggleReorderingState.getActionSender(this.connectorInstance).send(!0);const a=n+1;this.sortedIndex=a,this.reorderTileHandler(e,a)&&this.telemetryHandler(t.currentTarget)}else if(t.keyCode===At.a.arrowLeft){const i=this.getRenderListFromState().findIndex(t=>parseInt(t.key)===e);if(0===i)return;xe.toggleReorderingState.getActionSender(this.connectorInstance).send(!0);const n=i-1;this.sortedIndex=n,this.reorderTileHandler(e,n)&&this.telemetryHandler(t.currentTarget)}},this.clearHoverState=(e,t)=>{const i=document.getElementById(pe.TOPSITES_ID);if(i){const n=i.querySelectorAll("div[draggable] > div > button");if(n&&0!==n.length){let i;i=t>e?n[e+1]:n[e-1],i.style.opacity="0"}}},this.clearReorderStyles=()=>{const e=document.getElementById(pe.TOPSITES_ID);if(e){const t=e.querySelectorAll("div[draggable] > div > button");t&&0!==t.length&&t.forEach(e=>e.removeAttribute("style"))}},this.getRenderListFromState=()=>this.connectorInstance.getCurrentState().renderList.slice(),this.cacheStartIndexHandler=e=>{this.startIndex=this.lookupIndexById(e)},this.dropHandler=e=>{const t=this.lookupIndexById(e);return this.reorderTileHandler(e,t)},this.lookupIdByIndex=e=>{const t=this.getRenderListFromState();return e>=0&&e<t.length?parseInt(t[e].key):0},this.lookupIndexById=e=>this.getRenderListFromState().findIndex(t=>parseInt(t.key)===e),this.reorderList=(e,t)=>{const i=this.getRenderListFromState(),n=i.findIndex(t=>parseInt(t.key)===e),a=i.findIndex(e=>parseInt(e.key)===t);-1!==n&&-1!==a&&(i.splice(a,0,i.splice(n,1)[0]),xe.reorder.getActionSender(this.connectorInstance).send(i))},this.connectorInstance=e,this.telemetryHandler=t,this.reorderTileHandler=i}get currentSortedIndex(){return this.sortedIndex}set cacheSortedIndex(e){this.sortedIndex=e}}var _n,Rn=i("XzyE");!function(e){e[e.initialize=0]="initialize",e[e.render=1]="render",e[e.unmount=2]="unmount",e[e.updateSingInStatus=3]="updateSingInStatus"}(_n||(_n={}));class Nn extends Array{constructor(...e){super(...e)}update(e,t,i){const n=this.get(e);n&&(n.enabled=t,n.isUserSignedIn=i||!1,this.updatePersistentStorage())}has(e){let t=!1;return this.forEach(i=>{i.experienceType===e&&(t=!0)}),t}get(e){let t;return this.forEach(i=>{i.experienceType===e&&(t=i)}),t}isSmartListEnabled(e){const t=this.get(e);return!t||t.enabled}isUserSignedIn(e){const t=this.get(e);return!!t&&t.isUserSignedIn}static getInstance(){const e=this.getInitialStateFromPersistentStorage();return e?this._instance||(this._instance=new this(...e)):null}static updateInstance(...e){return this._instance=new this(...e)}static deInit(){this._instance=void 0}static getInitialStateFromPersistentStorage(){return Object(Ne.a)().getObject("TopSitesSmartListsState")}updatePersistentStorage(){Object(Ne.a)().setObject("TopSitesSmartListsState",[...this.values()])}}class Fn extends Ve{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.addButtonRef=v.a.createRef(),this.addSuggestionButtonRef=[],this.currentName="",this.currentUrl="",this.currentRid=0,this.currentTileSource=0,this.initialRender=!0,this.isDarkMode=!1,this.isRecommendedPolicy=!1,this.minimumTiles=7,this.outlookTmplFired=!1,this.overrideIconsList=[],this.topSiteIndex=-1,this.storedTelemetryObject=null,this.mapTelemetryObject=new Map,this.topSiteMapper=new Map,this.getOrUpdateTopSitesState=()=>{let e=this.getMostVisitedSites(),t=[],i=1;const n=new Map;if(e||(e=[]),e&&e.length<this.minimumTiles&&this.config.curatedSites){Ue.initializeCuratedSitesFromConfig(this.config,e);const t=e.length;t>0&&(i=e[t-1].rid+1e3);const a=Ue.getCurated(),r=this.config.maxTiles-1-e.length,o=a.slice(0,r).map(e=>(n.set(i,e),{rid:i++,dataGenerationTime:void 0,faviconUrl:e.faviconUrl,domain:void 0,title:e.title,tileSource:-5,tileTitleSource:void 0,url:e.url,direction:e.direction,enforcement:void 0}));e.push(...o)}const a=[],r=new Map;let o=0;e.forEach((e,t)=>{if(t<this.minimumTiles)4==e.tileSource?o++:0!=e.tileSource&&-5!==e.tileSource||a.push(t),r.set(t,e);else if(4==e.tileSource&&a.length){const i=a.pop();r.has(i)&&(r.delete(i),r.set(t,e),o++)}o>=this.minimumTiles&&o<=this.minimumTiles+1&&4==e.tileSource&&(r.set(t,e),o++)}),e=[],r&&r.forEach((t,i)=>{e.push(t)}),this.config.enableRecommendedSites&&(e=this.getSitesWithRecommendedSitesInjected(e,n)),e&&e.length>0?(this.topSitesSmartListManager.mapMostVisitedDataToSmartLists(e),t=e.map((e,t)=>{if(this.config.maxTiles-1<t)return;if(this.overrideIconsList&&this.overrideIconsList.length>0&&this.topSiteMapper.size>0){const t=new URL(e.url);this.topSiteMapper.get(e.url)?e.faviconUrl=this.topSiteMapper.get(e.url):this.topSiteMapper.get(t.hostname)&&(e.faviconUrl=this.topSiteMapper.get(t.hostname))}const i=this.removeBackPlate?this.createTopSiteBackPlateTileImage(e):this.createTopSiteTileImage(e),n=this.createDestinationButtonProps(e,this.telemetryObject,t);let a;a=e.enforcement&&e.enforcement===Ee.Enforced?this.createEnforcedActionButton():this.config.enableContextMenu?this.createContextMenuActionButton(e,this.telemetryObject):this.createRemoveActionButton(e,this.telemetryObject);const r=this.getTopSiteBadgeProps(e),o=this.getTopSiteAriaLabelProps(e),s=t&&t.toString(),c=e.title&&e.title.concat(s);this.storedTelemetryObject=this.mapTelemetryObject.get(c)?this.mapTelemetryObject.get(c):null,this.topSiteReorderTelemetryObject=this.telemetryObject&&this.telemetryObject.addOrUpdateChild({name:"frequent_topsite_tile",behavior:Ft.c.Rearrange,content:{headline:e.title},destinationUrl:n?n.href:"",type:Ft.f.Tile},this.storedTelemetryObject),this.storedTelemetryObject||this.mapTelemetryObject.set(c,this.topSiteReorderTelemetryObject);const d=this.topSiteReorderTelemetryObject?this.topSiteReorderTelemetryObject.render():null;return this.config.reorderingSupported?this.createReOrderableTopSite(a,n,i,t,e,this.telemetryObject,r,o,d):this.createTopSite(a,n,i,t,e,this.telemetryObject,r,o)})):this.zeroTopSitesErrorHandler();const s=this.getCurrentState(),c=Object.assign(Object.assign({},s),{renderList:t,curatedSiteMap:n});xe.initialize.getActionSender(this).send(c)},this.getSitesWithRecommendedSitesInjected=(e,t)=>{const i=this.getRecommendedSitesToInject(e);let n;n=0===e.length?1:e[e.length-1].rid+1e3;return function(e,t){const i=e.length+t.length,n=[];let a=0,r=0,o=0;for(let s=0;s<i;s++)r<t.length&&t[r].locationIndex===o?n[o++]=t[r++]:a<e.length?n[o++]=e[a++]:n[o++]=t[r++];return n}(e,i.map(e=>(t.set(n,e),Object.assign(Object.assign({},e),{faviconUrl:Ue.getImageUrl(e.faviconUrl),tileSource:-5,rid:n++}))))},this.getRecommendedSitesToInject=e=>{const t=this.config.recommendedSites,i=Ue.getDeletedUrlLookup()||{};let n=t.filter(e=>{if(!i[e.url])return e});const a=e.map(e=>e.url);n=n.filter(e=>!a.includes(e.url));const r=e.filter(e=>4===e.tileSource).length,o=this.config.maxTiles-r;return n.splice(0,o)},this.getTopSitesStyleOverrides=e=>{const t=this.enableBackPlateExp?pe.TOP_SITE_NEW_TILE_HEIGHT+"px":pe.TOPSITE_TILE_HEIGHT+"px",i=this.config&&this.config.reorderingSupported?`& > div:not([class*=${pe.TOPSITES_CLASS_SELECTOR}]), & > button, & > div > div[title]`:`& > div:not([class*=${pe.TOPSITES_CLASS_SELECTOR}]), & > button`,n={topSites:{"grid-gap":"12px",[i]:{height:t},"@media only screen and (max-width: 1920px)":{"grid-template-columns":"repeat(8, auto)",[i]:{width:"108px"}},"@media only screen and (max-width: 980px)":{"grid-template-columns":"repeat(4, auto)",[i]:{width:"108px"}},"background-image":fe.a,"background-repeat":"no-repeat"}};if(this.getCurrentState()&&this.getCurrentState().renderList&&this.getCurrentState().renderList.length>8&&Object.assign(n.topSites,{"@media only screen and (max-width: 1920px)":{"grid-template-columns":"repeat(10, auto)",[i]:{width:"100px",height:t}},"@media only screen and (max-width: 980px)":{"grid-template-columns":"repeat(5, auto)",[i]:{width:"100px",height:t}}}),this.removeBackPlate&&Object.assign(n.topSites,{"grid-gap":"0px"}),e){const e=this.getCurrentState().isCollapsed;Object.assign(n.topSites,{visibility:e?"hidden":"inherit"})}return n},this.getContainerStyleOverrides=()=>{let e="auto";const t=this.getCurrentState().isCollapsed;if(this.chromiumPageSettingsState&&t){!this.chromiumPageSettingsState.imageOfTheDayEnabled&&"always"!=this.chromiumPageSettingsState.selectedFeedDisplaySetting?e="30px":"always"==this.chromiumPageSettingsState.selectedFeedDisplaySetting&&(e="0px")}return{style:{height:e}}},this.getTopSiteStylesOverrides=()=>{if(!this.removeBackPlate)return Hi;const e=this.applyBackgroundColor?this.backgroundColor:"inherit";return this.getCurrentState().lightThemeEnabled?this.isDarkMode?zi(e):Vi:this.isDarkMode?Fi(e):Ni(e)},this.getTopSitePlaceholderStyleOverrides=()=>{if(!this.removeBackPlate)return{};return this.getCurrentState().lightThemeEnabled?this.enableBackPlateExp?this.isDarkMode?$i:qi:this.isDarkMode?Wi:Zi:Gi},this.topSitesLoadedHandler=()=>{window.requestAnimationFrame(()=>setTimeout(()=>{this.onTopSitesRendered()},0))},this.topSitesElementTimingHandler=(e,t)=>{Object(at.k)(Ye.a.topSitesEdgeNext,!1,e),"function"==typeof t&&t()},this.errorHandler=()=>{Ut.a.sendAppErrorEvent(Object.assign(Object.assign({},rt.Ki.ComponentMountFailed),{message:"Component failed to mount"}))},this.handleReorderableTopSiteKeyDown=(e,t)=>{t.shiftKey&&t.altKey?this.topSitesReorderingService.handleTopSiteReorder(e,t):this.onKeyDownPress(e,t)},this.toggleAddDialogVisibilityHandler=e=>{e.stopPropagation(),Ut.a.sendActionEvent(e.currentTarget);const t=this.getCurrentState();t&&t.showAddDialog?this.closeAddTopSiteDialogHandler():this.showAddTopSiteDialogHandler()},this.saveTileHandlerAndFireTelemetry=(e,t,i)=>{const n=this.addButtonRef&&this.addButtonRef.current;this.saveTileHandler(e,t,i)&&this.fireTelemetry(n)},this.saveTileHandlerAndFireSuggestionLinkTelemetry=(e,t,i,n)=>{const a=this.addSuggestionButtonRef[n]&&this.addSuggestionButtonRef[n].current;this.saveTileHandler(e,t,i)&&this.fireTelemetry(a)},this.updateTileHandlerAndFireTelemetry=(e,t,i)=>{const n=this.addButtonRef&&this.addButtonRef.current;this.updateTileHandler(e,t,i)&&this.fireTelemetry(n)},this.fireTelemetry=e=>{if(e){const t=li.a.findDOMNode(e);Ut.a.sendActionEvent(t,Ft.b.Click)}},this.generateTargetId=e=>0===e?{"data-targetid":en.d}:{},this.focusAddTileHandler=()=>{const e=document.getElementById(pe.ADD_TILE_ID);e&&e.focus()},this.focusTopSiteTileReorderingHandler=()=>{window.requestAnimationFrame(()=>{const e=document.getElementById(pe.TOPSITES_ID);if(e){const t=e.getElementsByTagName("a");if(t&&0!==t.length){const e=t[this.topSitesReorderingService.currentSortedIndex];e&&(e.focus(),xe.toggleReorderingState.getActionSender(this).send(!1))}}})},this.focusTopSiteTileRemoveHandler=()=>{window.setTimeout(()=>{const e=document.getElementById(pe.TOPSITES_ID);if(e){const t=e.getElementsByTagName("a"),i=document.getElementById(pe.ADD_TILE_ID);if(t&&0!==t.length){const e=this.topSiteIndex===t.length?i:t[this.topSiteIndex];e&&e.focus()}}},0)},this.generateAddDialogProps=()=>{const e=this.isMacEnv();this.topSiteAddDialogTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"TopSiteAddDialog",action:Ft.b.Click,behavior:Ft.c.Add,type:Ft.f.ActionButton},this.topSiteAddDialogTelemetryObject):null;let t,i,n;this.topSiteAddDialogTelemetryObject&&(this.topSiteAddDialogSaveButtonTelemetryObject=this.topSiteAddDialogTelemetryObject.addOrUpdateChild({name:"topsite_add_dialog_save",behavior:Ft.c.Save,content:{headline:this.config.addText},type:Ft.f.ActionButton},this.topSiteAddDialogSaveButtonTelemetryObject),t=this.topSiteAddDialogSaveButtonTelemetryObject?this.topSiteAddDialogSaveButtonTelemetryObject.render():null,this.topSiteAddDialogCancelButtonTelemetryObject=this.topSiteAddDialogTelemetryObject.addOrUpdateChild({name:"topsite_add_dialog_cancel",behavior:Ft.c.Cancel,content:{headline:this.config.cancelText},type:Ft.f.ActionButton},this.topSiteAddDialogCancelButtonTelemetryObject),i=this.topSiteAddDialogCancelButtonTelemetryObject?this.topSiteAddDialogCancelButtonTelemetryObject.render():null,this.topSiteAddDialogCloseButtonTelemetryObject=this.topSiteAddDialogTelemetryObject.addOrUpdateChild({name:"topsite_add_dialog_close",behavior:Ft.c.Close,content:{headline:this.config.closeButtonText},type:Ft.f.ActionButton},this.topSiteAddDialogCloseButtonTelemetryObject),n=this.topSiteAddDialogCloseButtonTelemetryObject?this.topSiteAddDialogCloseButtonTelemetryObject.render():null);const a={ref:this.addButtonRef};return{addButton:Object.assign(Object.assign({children:this.config.addText,title:this.config.addText},a),t),ariaLabel_addNameInput:this.config&&this.config.ariaLabel_addNameInput?this.config.ariaLabel_addNameInput:"",ariaLabel_addUrlInput:this.config&&this.config.ariaLabel_addUrlInput?this.config.ariaLabel_addUrlInput:"",cancelButton:Object.assign({children:this.config.cancelText,title:this.config.cancelText},i),closeButton:Object.assign({title:this.config.closeButtonText,label:this.config.closeButtonText},n),closeHandler:this.closeAddTopSiteDialogHandler,dialogAnchor:document.getElementById(pe.ADD_TILE_ID),dialogStyleOverrides:this.config.addDialogStyleOverrides,dialogType:ot.Add,dialogUrlTooltipText:this.config.dialogUrlTooltipText,enableMacPositioning:e,enableNameField:this.config.renderNameField,nameLabelText:this.config.nameLabelText,saveHandler:this.saveTileHandlerAndFireTelemetry,saveSuggestionHandler:this.saveTileHandlerAndFireSuggestionLinkTelemetry,titleText:this.config.addDialogHeadingText,subTitleText:this.config.addDialogSubHeading,suggestedAfterContent:this.config.addDialogEnableSubSection&&this.config.suggestedTopSiteList?this.addDialogafterContent():null,urlLabelText:this.config.urlLabelText,viewport:this.config.addDialogEnableSubSection&&this.chromiumPageSettingsState&&"always"==this.chromiumPageSettingsState.selectedFeedDisplaySetting?document.getElementById(pe.PAGE_ROOT):document.getElementById(pe.PAGE_HEADER_ID)}},this.generateAddDialog=()=>{const e=this.generateAddDialogProps();return v.a.createElement(_.a,Object.assign({},s.b),v.a.createElement(Nt,Object.assign({},e)))},this.generateEditDialogProps=()=>{const e=this.isMacEnv();this.topSiteEditDialogTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"TopSiteEditDialog",type:Ft.f.ActionButton},this.topSiteEditDialogTelemetryObject):null;const t={ref:this.addButtonRef};let i,n,a;return this.topSiteEditDialogTelemetryObject&&(this.topSiteEditDialogSaveButtonTelemetryObject=this.topSiteEditDialogTelemetryObject.addOrUpdateChild({name:"topsite_edit_dialog_save",content:{headline:this.config.saveText},type:Ft.f.ActionButton,behavior:Ft.c.Save},this.topSiteEditDialogSaveButtonTelemetryObject),i=this.topSiteEditDialogSaveButtonTelemetryObject?this.topSiteEditDialogSaveButtonTelemetryObject.render():null,this.topSiteEditDialogCancelButtonTelemetryObject=this.topSiteEditDialogTelemetryObject.addOrUpdateChild({name:"topsite_edit_dialog_cancel",content:{headline:this.config.cancelText},type:Ft.c.Close,behavior:Ft.c.Close},this.topSiteEditDialogCancelButtonTelemetryObject),n=this.topSiteEditDialogCancelButtonTelemetryObject?this.topSiteEditDialogCancelButtonTelemetryObject.render():null,this.topSiteEditDialogCloseButtonTelemetryObject=this.topSiteEditDialogTelemetryObject.addOrUpdateChild({name:"topsite_edit_dialog_close",content:{headline:this.config.closeButtonText},type:Ft.c.Close,behavior:Ft.c.Cancel},this.topSiteEditDialogCloseButtonTelemetryObject),a=this.topSiteEditDialogCloseButtonTelemetryObject?this.topSiteEditDialogCloseButtonTelemetryObject.render():null),{addButton:Object.assign(Object.assign({children:this.config.saveText,title:this.config.saveText},t),i),ariaLabel_editNameInput:this.config&&this.config.ariaLabel_editNameInput?this.config.ariaLabel_editNameInput:"",ariaLabel_editUrlInput:this.config&&this.config.ariaLabel_editUrlInput?this.config.ariaLabel_editUrlInput:"",cancelButton:Object.assign({children:this.config.cancelText,title:this.config.cancelText},n),closeButton:Object.assign({title:this.config.closeButtonText,label:this.config.closeButtonText},a),closeHandler:this.closeEditTopSiteDialogHandler,dialogAnchor:this.topSiteTile,dialogStyleOverrides:this.config.addDialogStyleOverrides,dialogType:ot.Edit,dialogUrlTooltipText:this.config.dialogUrlTooltipText,enableMacPositioning:e,enableNameField:this.config.renderNameField,enableOnlyRenaming:this.config.enableOnlyRenaming,nameLabelText:this.config.nameLabelText,nameValue:this.currentName,saveHandler:this.updateTileHandlerAndFireTelemetry,titleText:this.config.enableOnlyRenaming?this.config.renameDialogHeadingText:this.config.editDialogHeadingText,topSiteRid:this.currentRid,urlLabelText:this.config.urlLabelText,urlValue:this.currentUrl,viewport:document.getElementById(pe.PAGE_HEADER_ID)}},this.generateEditDialog=()=>{const e=this.generateEditDialogProps();return v.a.createElement(_.a,Object.assign({},s.b),v.a.createElement(Nt,Object.assign({},e)))},this.generateCollapsibleControl=()=>{if(!this.showCollapsibleControl)return null;const e=this.getCurrentState().isCollapsed,t=this.getCurrentState().lightThemeEnabled;this.positionTopSitesCollapsible(this.chromiumPageSettingsState&&"always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting,this.initialRender),this.topSiteCollapsibleControlTelemetry=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:e?"TopsitesHide>Collapse":"TopsitesHide>Show",behavior:e?Ft.c.Close:Ft.c.Show,type:Ft.f.ActionButton},this.topSiteCollapsibleControlTelemetry):null;const i=this.topSiteCollapsibleControlTelemetry?this.topSiteCollapsibleControlTelemetry.render():null;this.initialRender=!1;const n=this.applyBackgroundColor?this.backgroundColor:null;return v.a.createElement(qe.a,Object.assign({jssStyleSheet:t?Bi:Di,onClick:()=>e?this.expandTopSites():this.collapseTopSites(),title:e?this.config.quickLinksExpandAriaLabelText:this.config.quickLinksCollapseAriaLabelText},i),v.a.createElement($e.a,{id:"tscl",jssStyleSheet:this.geTopSitesLabelStyleOverrides(t,e,n),children:this.config.quickLinksLabelText}),(a=e?ji:Li,v.a.createElement("svg",Object.assign({id:"tscc"},a,{width:"32",height:"32",viewBox:"0 0 32 32",fill:"black",xmlns:"http://www.w3.org/2000/svg"}),v.a.createElement("g",null,v.a.createElement("rect",{width:"32",height:"32",rx:"16","fill-opacity":"0.42"}),v.a.createElement("path",{"fill-opacity":"1",d:"M16 19.709L10.1465 13.8555L10.8555 13.1465L16 18.291L21.1445 13.1465L21.8535 13.8555L16 19.709Z",fill:"white"})))));var a},this.generateContextMenu=()=>{const e={closeHandler:this.closeTopSiteContextMenuHandler,editContextMenuItemProps:this.createContextMenuItemProps(this.config.enableOnlyRenaming?this.config.renameLabelText:this.config.editLabelText,this.showEditTopSiteDialogHandler,this.config.enableOnlyRenaming?this.config.ariaLabel_renameIcon:this.config.ariaLabel_editIcon,this.config.enableOnlyRenaming?"frequent_topsite_rename":"frequent_topsite_edit"),isRecommendedPolicy:this.isRecommendedPolicy,recommendedPolicyTitleText:this.config.enforcedTopSiteLabel,removeContextMenuItemProps:this.createContextMenuItemProps(this.config.removeLabelText,this.removeTileHandler.bind(this,this.currentRid,this.currentName,this.currentTileSource,this.currentUrl,this.config.enableToastMessage),this.config.ariaLabel_removeIcon,"frequent_topsite_remove"),telemetryHandler:this.fireTelemetry,topSiteActionButton:this.topSiteActionButton,topSiteRid:this.currentRid,updateSignInStatusContextItemProps:this.createSignInStatusContextMenuItemProps(),updateSmartListContextMenuItemProps:this.createSmartListContextMenuItemProps()};return v.a.createElement(_.a,Object.assign({},s.b),v.a.createElement(gi,Object.assign({},e)))},this.generateUndoNotificationToast=()=>{const e=this.getCurrentState(),t=e.toastNotificationState?e.toastNotificationState.tileTitle:null,i=e.toastNotificationState?e.toastNotificationState.tileRid:null,n=e.toastNotificationState?e.toastNotificationState.tileSource:null,a=e.toastNotificationState?e.toastNotificationState.tileUrl:null,r=this.config.undoRemovedText?this.config.undoRemovedText:"removed",o=this.config.undoLabelText?this.config.undoLabelText:"Undo",c={closeButtonProps:Object.assign({title:this.config.closeButtonText,label:this.config.closeButtonText},this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"topsite_undo_dialog_close",behavior:Ft.c.Close,type:Ft.f.ActionButton}).render():null),closeHandler:this.onToastClose,notificationDurationMs:this.config.notificationDurationMs?this.config.notificationDurationMs:1e4,placeholderString:this.config.undoPlaceholder,removedText:r,tileTitle:t,topSiteRid:i,tileSource:n,tileUrl:a,undoButton:Object.assign({title:o,label:o},this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"topsite_undo_dialog_undo",behavior:Ft.c.Undefined,type:Ft.f.ActionButton}).render():null),undoTopSiteHandler:this.undoTopSiteHandler};return v.a.createElement(_.a,Object.assign({},s.b),v.a.createElement(Ei,Object.assign({},c)))},this.onToastClose=()=>(this.closeToastNotificationHandler(),null),this.expandTopSites=()=>{Object(Ne.a)().setItem("tsCollapsed","0"),Te.a.toggleCollapsibleControl.getActionSender(this).send(!1),window.requestAnimationFrame(()=>{const e=document.getElementById(pe.TOPSITES_ID),t=document.getElementById("tscc"),i=document.getElementById("tscl");e&&t&&i&&(e.style.visibility="visible",e.style.transition="opacity 0.3s cubic-bezier(0.3, 0.2, 0.2, 1)",e.style.opacity="1",t.style.transition="transform 300ms",t.style.transform="rotate(-180deg)",i.style.transition="opacity 0.3s cubic-bezier(0.3, 0.2, 0.2, 1)",i.style.opacity="0",setTimeout(()=>{i.style.visibility="hidden"},300),Xi.a.elementsSizeChange.getActionSender(this).send(!0,this.chromiumPageSettingsState.peekHeight))})},this.collapseTopSites=()=>{Object(Ne.a)().setItem("tsCollapsed","1"),Te.a.toggleCollapsibleControl.getActionSender(this).send(!0),window.requestAnimationFrame(()=>{const e=document.getElementById(pe.TOPSITES_ID),t=document.getElementById("tscc"),i=document.getElementById("tscl");e&&t&&i&&(e.style.transition="opacity 0.3s cubic-bezier(0.3, 0.2, 0.2, 1)",e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden"},300),t.style.transition="transform 300ms",t.style.transform="rotate(0deg)",i.style.visibility="visible",i.style.transition="opacity 0.3s cubic-bezier(0.3, 0.2, 0.2, 1)",i.style.opacity="1",Xi.a.elementsSizeChange.getActionSender(this).send(!0,this.chromiumPageSettingsState.peekHeight))})},this.positionTopSitesCollapsible=(e,t)=>{window.requestAnimationFrame(()=>{const i=document.getElementById("tscc"),n=i&&i.parentElement;if(!n)return;if(!this.getCurrentState().isCollapsed||!e)return void Object.assign(n.style,{transition:t?"none":"margin .3s",marginLeft:"0px",marginRight:"0px"});const a=document.getElementById(pe.TOPSITES_ID);if(!a)return;const r=Math.min(200,90+n.clientWidth-Math.round((document.documentElement.clientWidth-a.clientWidth)/2)),o=Object(B.a)(r<0?0:r),s=et.b&&et.b.MarketDir===Je.a.ltr;Object.assign(n.style,{transition:t?"none":"margin .3s",marginLeft:s?"0px":o,marginRight:s?o:"0px"})})},this.handleTopSiteHover=(e,t=!0,i,n)=>{this.topSitesSmartListManager.shouldRenderSmartList&&(this.topSitesSmartListManager.hoverTopSite(e,t,n),this.topSitesSmartListManager.hasSmartList(e)&&n.target&&"mouseleave"!==n.type&&(i&&i.contract&&(i.contract.destinationUrl=location.href,i.contract.content&&(i.contract.content.headline=e.toString())),Ut.a.sendActionEvent(n.target,Ft.b.Hover,Ft.c.Show)))},this.onKeyDownPress=(e,t)=>{t.keyCode===At.e?this.topSitesSmartListManager.moveFocusToSmartList(e,!1)&&t.preventDefault():t.keyCode===At.b&&this.topSitesSmartListManager.moveFocusToSmartList(e,!0)&&t.preventDefault()},this.signInSmartListHandler=(e,t)=>{t?this.topSitesSmartListManager.signInSmartList(e):this.topSitesSmartListManager.signOutSmartList(e)},this.updateSmartListStateHandler=(e,t)=>{t?this.topSitesSmartListManager.enableSmartList(e):this.topSitesSmartListManager.disableSmartList(e),this.onSmartListUpdateComplete(t)},this.renderIfOffline=!0,this.topSitesReorderingService=new Mn(this,this.fireTelemetry,this.reorderTileHandler),this.pageSettingsDataConnector=i.connector(Xe.a.ChromiumPageSettings);const c=r?r.smartListConfig:null;this.topSitesSmartListManager=class{constructor(e,t){this.$updateTopSitesHandler=t,this.$smartListConfig=e,this.validateConfigAndSetEnableState(),this.$enabled&&(this.$smartListStorageState=Nn.getInstance(),this.$isFRE=!this.$smartListStorageState,this.$smartListSharedConnector=this.getSmartListSharedConnector(),this.startSmartListObservers())}get shouldRenderSmartList(){return this.$enabled}get smartListBadgePropsMap(){return this.$smartListBadgePropsMap}static getInstance(e,t){return this.$instance||(this.$instance=new this(e,t))}static deInit(){this.$instance=void 0}disableSmartList(e){if(!this.$enabled||!e||!this.$topSiteSmartListMap)return;const t=this.$topSiteSmartListMap.get(e);t&&(t.enabled=!1,this.$smartListStorageState.update(t.experienceType,!1),this.$updateTopSitesHandler())}enableSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);t&&!t.enabled&&(t.enabled=!0,this.$smartListStorageState.update(t.experienceType,!0),this.tryInitSmartList(t.experienceType),this.$updateTopSitesHandler())}getSmartListSignInStatus(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);return t?t.isUserSignedIn:void 0}hoverTopSite(e,t=!0,i){if(this.$enabled&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.has(e)){const n=this.$topSiteSmartListMap.get(e),a=i.currentTarget;n&&n.enabled&&(t?this.executeSmartListCallback(n.experienceType,_n.render,a):this.executeSmartListCallback(n.experienceType,_n.unmount,a))}}mapMostVisitedDataToSmartLists(e){this.$enabled&&(this.$topSiteSmartListMap=new Map,e.forEach(e=>{this.$smartListConfig.smartLists.forEach(t=>{this.getSmartList(t.experienceType)||t.identifierHosts.every(i=>{if(e.url.indexOf(i)>-1){const i=!this.$smartListStorageState||this.$smartListStorageState.isSmartListEnabled(t.experienceType);return this.$topSiteSmartListMap.set(e.rid,{experienceType:t.experienceType,enabled:i,isSignInAvailable:!Object(Pe.isNullOrUndefined)(t.isSignInAvailable)&&t.isSignInAvailable,isUserSignedIn:!!this.$smartListStorageState&&this.$smartListStorageState.isUserSignedIn(t.experienceType)}),this.tryInitSmartList(t.experienceType),!1}return!0})})}),this.$smartListStorageState=Nn.updateInstance(...this.$topSiteSmartListMap.values()))}moveFocusToSmartList(e,t){if(this.$enabled&&this.$topSiteSmartListMap){if(this.$topSiteSmartListMap.has(e)){const i=this.$topSiteSmartListMap.get(e);if(i&&i.enabled&&this.$smartListSharedConnector)return this.$smartListSharedConnector.moveFocusToSmartList(i.experienceType,t)}return!1}}signInSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)))return;const t=this.$topSiteSmartListMap.get(e);t&&t.isSignInAvailable&&!this.$smartListStorageState.isUserSignedIn(t.experienceType)&&(t.isUserSignedIn=!0,this.$smartListStorageState.update(t.experienceType,t.enabled,!0),this.executeSmartListCallback(t.experienceType,_n.updateSingInStatus,!0))}signOutSmartList(e){if(!this.$enabled||!e||!this.$topSiteSmartListMap)return;const t=this.$topSiteSmartListMap.get(e);t&&t.isSignInAvailable&&this.$smartListStorageState.isUserSignedIn(t.experienceType)&&(t.isUserSignedIn=!1,this.$smartListStorageState.update(t.experienceType,t.enabled,!1),this.executeSmartListCallback(t.experienceType,_n.updateSingInStatus,!1))}getEnabledSmartList(e){if(!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.has(e)))return null;const t=this.$topSiteSmartListMap.get(e);return t.enabled?t:null}hasSignInAvailable(e){return!!(this.$enabled&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e)&&this.$topSiteSmartListMap.get(e).isSignInAvailable)}hasSmartList(e){return!!(this.$enabled&&e&&this.$topSiteSmartListMap&&this.$topSiteSmartListMap.get(e))}executeSmartListCallback(e,t,i){if(this.$smartListSharedConnector)switch(t){case _n.initialize:this.$smartListSharedConnector.initSmartList(e);break;case _n.render:this.$smartListSharedConnector.renderSmartList(e,i);break;case _n.unmount:this.$smartListSharedConnector.unmountSmartList(e,i);break;case _n.updateSingInStatus:this.$smartListSharedConnector.updateSignInStatus(e,i)}}tryInitSmartList(e){if(!this.isSmartListEnabled(e)||!this.$smartListSharedConnector)return;const t=this.$smartListSharedConnector.getCurrentState().smartLists;t&&0!==t.size&&this.executeSmartListCallback(e,_n.initialize)}getSmartListSharedConnector(){return Ji.a.getInstance().rootReducer.connector(Xe.a.SmartListSharedData)}isSmartListEnabled(e){const t=this.getSmartList(e);return!(!t||!t.enabled)}getSmartList(e){for(const[t,i]of this.$topSiteSmartListMap)if(i.experienceType===e)return i;return null}validateConfigAndSetEnableState(){this.$smartListConfig&&this.$smartListConfig.enabled&&this.$smartListConfig.smartLists&&0!==this.$smartListConfig.smartLists.length?this.$enabled=!0:this.$enabled=!1}updateSmartListBadgeProps(e,t){this.$smartListBadgePropsMap||(this.$smartListBadgePropsMap=new Map),this.$smartListBadgePropsMap.set(e,t)}observeSmartListRegistrations(){this.$smartListSharedConnector&&Rn.a.registerSmartList.registerObserver(e=>{if(!e.params&&!e.params[0])return;const t=e.params[0];this.tryInitSmartList(t.experienceType)})}observeSmartListBadgePropUpdate(){this.$smartListSharedConnector&&Rn.a.updateSmartListBadgeProps.registerObserver(e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=e.params[1];this.getSmartList(t)&&(this.updateSmartListBadgeProps(t,i),this.$updateTopSitesHandler())})}observeSmartListDisable(){this.$smartListSharedConnector&&Rn.a.disableSmartList.registerObserver(e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.disableSmartList(e)})}observeSmartListUpdateSignInState(){this.$smartListSharedConnector&&(Rn.a.userSignInSignature.registerObserver(e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.signInSmartList(e)}),Rn.a.userSignOutSignature.registerObserver(e=>{if(!e.params||!e.params[0])return;const t=e.params[0],i=this.getSmartList(t);if(i)for(const[e,t]of this.$topSiteSmartListMap)if(t===i)return void this.signOutSmartList(e)}))}startSmartListObservers(){this.observeSmartListRegistrations(),this.observeSmartListBadgePropUpdate(),this.observeSmartListDisable(),this.observeSmartListUpdateSignInState()}}.getInstance(c,this.getOrUpdateTopSitesState.bind(this)),this.suppressTopSitesStateUpdate=!1,this.ntpApiHandle&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedChangeHandler)}onComponentConnect(e){return Object(Ge.b)(this,void 0,void 0,(function*(){Be.a.prototype.onComponentConnect.call(this,e),this.chromiumPageSettingsState=this.pageSettingsDataConnector&&this.pageSettingsDataConnector.getCurrentState(),this.overrideIconsList=this.config&&this.config.overrideIconsList,this.enableBackPlateExp=this.config&&this.config.enableBackPlateExp,this.overrideIconsList&&this.overrideIconsList.length>0&&this.overrideIconsList.forEach(e=>{e.identifierHosts.every(t=>{this.topSiteMapper.set(t,e.faviconUrl)})}),this.minimumTiles=this.config.maxTiles?this.config.maxTiles-1:7;let t=this.chromiumPageSettingsState&&this.chromiumPageSettingsState.configData;this.pageSettingsDataConnector&&void 0===t&&(t=yield this.pageSettingsDataConnector.getConfigDataAsync()),this.removeBackPlate=this.config&&this.config.removeBackPlate,this.removeBackPlate&&this.setIsDarkMode();const i=this.chromiumPageSettingsState?this.chromiumPageSettingsState.imageOfTheDayEnabled:We.e.imageOfTheDayEnabled;if(this.showCollapsibleControl=this.config&&this.config.showCollapsibleControl&&!this.isCookieConsentRequired()&&Object(Ne.a)().supported,this.applyThemeBackgroundColorOnTopsite()?(this.applyBackgroundColor=!0,this.backgroundColor=this.getThemeBackgroundColor()):this.applyBackgroundColor=!1,Ke.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;this.showCollapsibleControl&&this.chromiumPageSettingsState.selectedFeedDisplaySetting!=t[0].selectedFeedDisplaySetting&&Xi.a.elementsSizeChange.getActionSender(this).send(!0,t[0].peekHeight),this.chromiumPageSettingsState=t[0];const i=t[0].imageOfTheDayEnabled;xe.themeChange.getActionSender(this).send(i),this.applyThemeBackgroundColorOnTopsite()?(this.applyBackgroundColor=!0,this.backgroundColor=this.getThemeBackgroundColor()):this.applyBackgroundColor=!1,this.removeBackPlate&&this.getOrUpdateTopSitesState()}),xe.themeChange.getActionSender(this).send(i),this.showCollapsibleControl){const e=Object(Ne.a)().getItem("tsCollapsed");let t=this.config.collapsibleControlIsDefaultCollapsed;t&&this.config.collapseForDefaultInformational&&(t=this.chromiumPageSettingsState.currentLayout===We.i.informational);const i=e?"1"===e:t;Te.a.toggleCollapsibleControl.getActionSender(this).send(i,!0),i&&Object(at.k)(Ye.a.topSitesEdgeNext,!0),Yi.a.layoutAnimationComplete.registerObserver(()=>{this.initialRender||this.positionTopSitesCollapsible("always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting,!1)}),window.addEventListener("resize",()=>this.positionTopSitesCollapsible("always"===this.chromiumPageSettingsState.selectedFeedDisplaySetting,!1))}this.getOrUpdateTopSitesState(),this.topSiteAddTileTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"TopSiteAddTile",action:Ft.b.Click,behavior:Ft.c.Add,content:{headline:"Add a site"},type:Ft.f.ActionButton},this.topSiteAddTileTelemetryObject):null}))}mapStateToProps(e){const t=Ie.inspect({config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{addDialogHandler:this.toggleAddDialogVisibilityHandler,addTileTelemetryObject:this.topSiteAddTileTelemetryObject,collapseTopSites:this.collapseTopSites,containerStyleOverrides:this.getContainerStyleOverrides(),contextMenuHandler:this.showTopSiteContextMenuHandler,editDialogHandler:this.showEditTopSiteDialogHandler,expandTopSites:this.expandTopSites,focusAddTileHandler:this.focusAddTileHandler,focusTopSiteTileRemoveHandler:this.focusTopSiteTileRemoveHandler,focusTopSiteTileReorderingHandler:this.focusTopSiteTileReorderingHandler,generateAddDialog:this.generateAddDialog,generateCollapsibleControl:this.generateCollapsibleControl,generateEditDialog:this.generateEditDialog,generateContextMenu:this.generateContextMenu,generateUndoNotificationToast:this.generateUndoNotificationToast,getTopSitePlaceholderStyleOverrides:this.getTopSitePlaceholderStyleOverrides,errorCallback:this.errorHandler,topSitesLoadedHandler:this.topSitesLoadedHandler,topSitesElementTimingHandler:this.topSitesElementTimingHandler,styleOverrides:this.getTopSitesStyleOverrides(this.showCollapsibleControl),requestContext:this.requestContext}});return Object.assign(Object.assign({},t.props),this.telemetryTags)}createDestinationButtonProps(e,t,i){const{enableAffiliateLinks:n,topSitesAffiliates:a}=this.config,r=new _e(e.url);let o=i&&i.toString();o=o?o.concat("tsn_tsu"):o;const s=e&&e.title?e.title.concat(o):o;this.storedTelemetryObject=this.mapTelemetryObject.get(s)?this.mapTelemetryObject.get(s):null,this.topSiteCreateDestinationButtonTelemetryObject=t?t.addOrUpdateChild({name:"frequent_topsite_url",content:{headline:"tsn"},overrideDestinationUrl:"tsu",type:Ft.c.Navigate},this.storedTelemetryObject):null,this.storedTelemetryObject||this.mapTelemetryObject.set(s,this.topSiteCreateDestinationButtonTelemetryObject);const c=this.topSiteCreateDestinationButtonTelemetryObject?this.topSiteCreateDestinationButtonTelemetryObject.render():null;return n&&a&&a[r.domainPathAndQuery]&&0===e.tileSource&&ke.test(a[r.domainPathAndQuery])&&(e.url=e.url.replace(/\/$/,"")+a[r.domainPathAndQuery]),Object.assign({href:e.url,children:e.title},c)}createTopSiteBackPlateTileImage(e){return t=>v.a.createElement("div",{className:t},v.a.createElement(Ze.a,Object.assign({alt:e.domain,src:e.faviconUrl},this.enableBackPlateExp?_i:Mi)))}createTopSiteTileImage(e){return t=>v.a.createElement(Ze.a,{alt:e.domain,src:e.faviconUrl,className:t})}createEnforcedActionButton(){return{title:this.config.enforcedTopSiteLabel,label:this.config.enforcedTopSiteLabel,icon:e=>v.a.createElement(it,null),onInvoke:e=>{e.stopPropagation()}}}createRemoveActionButton(e,t){const i=t?t.addOrUpdateChild({name:"frequent_topsite_remove",type:Ft.f.ActionButton}).render():null;return Object.assign({title:this.config.ariaLabel_removeIcon,label:this.config.ariaLabel_removeIcon,icon:e=>function(e){return v.a.createElement("svg",{className:e,width:"10",height:"10",viewBox:"0 0 10 10",fill:"black",xmlns:"http://www.w3.org/2000/svg"},v.a.createElement("path",{d:"M5.70801 5L10 9.29199L9.29199 10L5 5.70801L0.708008 10L0 9.29199L4.29199 5L0 0.708008L0.708008 0L5 4.29199L9.29199 0L10 0.708008L5.70801 5Z"}))}(e),onInvoke:t=>{t.stopPropagation(),this.removeTileHandler(e.rid,e.title,e.tileSource,e.url)}},i)}createContextMenuActionButton(e,t){return Object.assign({title:this.config&&this.config.contextMenuLabel?this.config.contextMenuLabel:a.defaultAriaMenuHoverText,label:this.config&&this.config.contextMenuLabel?this.config.contextMenuLabel:a.defaultAriaMenuHoverText,icon:e=>v.a.createElement(nt,null),onInvoke:t=>{t.stopPropagation(),this.topSiteActionButton=t.currentTarget,this.topSiteTile=t.currentTarget.parentElement,this.topSiteIndex=this.getTopSiteIndex(e.rid),this.currentRid=e.rid,this.currentUrl=e.url,this.currentName=e.title,this.currentTileSource=e.tileSource;const i=this.getCurrentState();i&&i.showContextMenu?this.closeTopSiteContextMenuHandler():(this.isRecommendedPolicy=e.enforcement&&e.enforcement===Ee.Recommended,this.showTopSiteContextMenuHandler(),this.fireTelemetry(this.topSiteActionButton))}},t.addOrUpdateChild({name:"frequent_topsite_context_menu",behavior:Ft.c.More,content:{headline:this.config&&this.config.contextMenuLabel?this.config.contextMenuLabel:a.defaultAriaMenuHoverText},type:Ft.f.ActionButton},this.topSiteContextMenuTelemetryObject).render())}getTopSiteIndex(e){return this.getCurrentState().renderList.slice().findIndex(t=>parseInt(t.key)===e)}createTopSite(e,t,i,n,a,r,o,s){return v.a.createElement(xt,Object.assign({badge:o,jssStyleSheet:this.getTopSiteStylesOverrides(),title:a.title,key:a.rid,destination:t,actionButton:e,image:i,"aria-label":s,onKeyDown:this.onKeyDownPress.bind(this,a.rid),onMouseEnter:this.handleTopSiteHover.bind(this,a.rid,!0,r),onMouseLeave:this.handleTopSiteHover.bind(this,a.rid,!1,r),onFocus:this.handleTopSiteHover.bind(this,a.rid,!0,r),onBlur:this.handleTopSiteHover.bind(this,a.rid,!1,r)},r.addOrUpdateChild({name:"frequent_topsite_tile",behavior:Ft.c.Rearrange,content:{headline:a.title},destinationUrl:t?t.href:"",type:Ft.f.Tile}).render(),this.generateTargetId(n)))}createReOrderableTopSite(e,t,i,n,a,r,o,s,c){return v.a.createElement(({id:n,index:d})=>{const[{isDragging:l},u]=this.topSitesReorderingService.dragConnector(n,d),[,g]=this.topSitesReorderingService.dropConnector(n,d);return v.a.createElement("div",{ref:e=>g(u(e)),style:{height:this.enableBackPlateExp?pe.TOP_SITE_NEW_TILE_HEIGHT:pe.TOPSITE_TILE_HEIGHT}},v.a.createElement(H,{style:l?{}:pe.TOPSITE_TILE_DISPLAY_NONE,title:a.title,tag:b.div}),v.a.createElement(xt,Object.assign({badge:o,style:l?pe.TOPSITE_TILE_DISPLAY_NONE:{},jssStyleSheet:this.getTopSiteStylesOverrides(),title:a.title,key:a.rid,destination:t,actionButton:e,image:i,"aria-label":s,onMouseEnter:this.handleTopSiteHover.bind(this,a.rid,!0,r),onMouseLeave:this.handleTopSiteHover.bind(this,a.rid,!1,r),onFocus:this.handleTopSiteHover.bind(this,a.rid,!0,r),onBlur:this.handleTopSiteHover.bind(this,a.rid,!1,r),onMouseDown:this.topSitesReorderingService.cacheCurrentTopSiteTileDom,onKeyDown:this.handleReorderableTopSiteKeyDown.bind(this,a.rid)},c,this.generateTargetId(d))))},{id:a.rid,key:a.rid,index:n})}zeroTopSitesErrorHandler(){Ut.a.sendAppErrorEvent(Object.assign(Object.assign({},rt.Ki.ZeroTopSitesError),{message:"Zero top sites returned"}))}addDialogafterContent(){const e=[],t=this.config.suggestedTopSiteList,i=[];return t.map((n,a)=>{const r=this.createTopSiteTileImage(n),o=t.length-1==a;this.addSuggestionButtonRef[a]=v.a.createRef(),i[a]={ref:this.addSuggestionButtonRef[a]};const s=Object.assign(Object.assign({href:"#",children:n.title,id:o?"topsites-dialog-suggested-link":null},i[a]),this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"topsite_add_dialog_suggestedLink",type:Ft.f.ActionButton}).render():null),c={title:n.title,key:n.rid,destination:s,url:n.url,image:r};e.push(c)}),e}geTopSitesLabelStyleOverrides(e,t,i){const n=e?Pi(i):Ai(i);return n.label.visibility=t?"inherit":"hidden",n}createContextMenuItemProps(e,t,i,n){this.topSiteContextMenuActionTelemetryObject=this.mapTelemetryObject.get(e+n)?this.mapTelemetryObject.get(e+n):null,this.topSiteContextMenuTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:n,behavior:Ft.c.Customize,content:{headline:e+" this site"+e},destinationUrl:"",type:Ft.f.ActionButton},this.topSiteContextMenuActionTelemetryObject):null,this.topSiteContextMenuActionTelemetryObject||this.mapTelemetryObject.set(e+n,this.topSiteContextMenuTelemetryObject);return{"aria-label":i,handler:t,labelText:e,telemetryTags:this.topSiteContextMenuTelemetryObject?this.topSiteContextMenuTelemetryObject.render():null}}isMacEnv(){const e=Object(u.c)();return!!(e&&e.CurrentRequestTargetScope&&e.CurrentRequestTargetScope.os)&&e.CurrentRequestTargetScope.os===Qi.a.Macos}getTopSiteBadgeProps(e){if(this.topSitesSmartListManager.shouldRenderSmartList){const t=this.topSitesSmartListManager.getEnabledSmartList(e.rid);if(t&&this.topSitesSmartListManager.smartListBadgePropsMap&&this.topSitesSmartListManager.smartListBadgePropsMap.size>0)return this.topSitesSmartListManager.smartListBadgePropsMap.get(t.experienceType)}return null}getTopSiteAriaLabelProps(e){if(this.topSitesSmartListManager.shouldRenderSmartList){if(this.topSitesSmartListManager.getEnabledSmartList(e.rid))return this.config.smartListAriaLabelText}return null}createSignInStatusContextMenuItemProps(){if(this.topSitesSmartListManager.shouldRenderSmartList&&this.topSitesSmartListManager.hasSignInAvailable(this.currentRid)){let e,t;return this.topSitesSmartListManager.getEnabledSmartList(this.currentRid)?(this.topSitesSmartListManager.getSmartListSignInStatus(this.currentRid)?(e=this.config.smartListConfig.signOutText,t=this.signInSmartListHandler.bind(this,this.currentRid,!1)):(e=this.config.smartListConfig.signInText,t=this.signInSmartListHandler.bind(this,this.currentRid,!0)),this.createContextMenuItemProps(e,t,this.config.ariaLabel_editIcon,"frequent_topsite_smartList_update")):null}return null}createSmartListContextMenuItemProps(){if(this.topSitesSmartListManager.shouldRenderSmartList&&this.topSitesSmartListManager.hasSmartList(this.currentRid)){let e,t;return this.topSitesSmartListManager.getEnabledSmartList(this.currentRid)?(e=this.config.smartListConfig.disableSmartListText,t=this.updateSmartListStateHandler.bind(this,this.currentRid,!1)):(e=this.config.smartListConfig.enableSmartListText,t=this.updateSmartListStateHandler.bind(this,this.currentRid,!0)),this.createContextMenuItemProps(e,t,this.config.ariaLabel_editIcon,"frequent_topsite_smartList_update")}return null}getThemeBackgroundColor(){return this.pageSettingsDataConnector?this.pageSettingsDataConnector.getThemeTextColor():null}applyThemeBackgroundColorOnTopsite(){if(!this.pageSettingsDataConnector)return!1;const e=this.pageSettingsDataConnector.getCurrentState(),t=e.ntpTheme;return!!(e.currentBackgroundImageType===We.a.theme&&t&&!t.usingDefaultTheme&&t.backgroundColorRgba&&t.backgroundColorRgba.length>3)}isCookieConsentRequired(){const e=Ji.a.getInstance().rootReducer.connector(Xe.a.SharedState);return e&&e.getCurrentState().cookieConsentStatus===Qe.b.Required}setIsDarkMode(){const e=matchMedia("(prefers-color-scheme:dark)");this.isDarkMode=e.matches,e.addListener(e=>{this.isDarkMode=e.matches,this.getOrUpdateTopSitesState()})}}var Un=i("do/H"),Vn=i("S1nw");const zn=Object(r.a)(Ki)(ye),Gn={reactComponent:zn,experienceConfigSchema:ze.TopSitesEdgeNextConfigSchema,mockConfig:Un.mockConfig,mockState:Vn.mockTopSitesEdgeNextState,inspector:Ie.inspect}},pCrc:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("jgQC"),a=i("+viU"),r=i("u+Tj");const o=Object(a.a)(r.a)(n.default)},r7RP:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("D57K"),a=i("u5KZ"),r=i("HxRh"),o=i("rvYQ"),s=i("Fpjf");class c{constructor(){this.cmsApi={path:["v1","cms","api","amp"]}}constructApiUrl(e){const t=new URL("/content/",o.b.ContentServiceUrlBase),i=[...this.cmsApi.path];return i.push("list"),i.push(e),t.pathname+=i.join("/"),t}fetchBackfillItems(e,t,i){return Object(n.b)(this,void 0,void 0,(function*(){try{if(!e)throw new Error("Unable to find content id in config");const i=this.constructApiUrl(e),n=yield fetch(i.href),a=yield n.json();if(a&&a.list&&a.list.length)return this.cmsDocumentToRecommendedSearch(a,t);throw new Error("Backfill data couldn't be retrieved")}catch(t){let n;"object"==typeof t?n=t.toString():"string"==typeof t&&(n=t);const o=i?"Recommended Search Below Search Box: ":"Recommended Search Module: ";a.a.sendAppErrorEvent(Object.assign(Object.assign({},r.Yg.ContentFetchError),{message:n,pb:Object.assign(Object.assign({},r.mg.FetchFailure.pb),{customMessage:`${o}Content couldn't be retrieved for contentId = ${e||""}`})}))}}))}cmsDocumentToRecommendedSearch(e,t){const i=[];if(e&&e.list)for(let n=0;n<e.list.length;n++){const a=e.list[n].link&&e.list[n].link.image?this.getCMSImageId(e.list[n].link.image.href):null,r=a?Object(s.g)(a,{width:200,height:t,enableDpiScaling:!1}):null;i.push({query:e.list[n].link.title,url:e.list[n].link.href,images:r?[{imageUrl:r}]:[]})}return{searchItems:i}}fetchRecommendedSearches(e,t,i,o){return Object(n.b)(this,void 0,void 0,(function*(){const n=o||200,s=this.fetchBackfillItems(e.backfillContentId,n,t),c=e.serviceCallParameters.requestId||a.a.getRequestId(),d=i?[{id:c,ext:{image:{w:200,h:n}}}]:[{id:c}],l={ext:{pageType:e.serviceCallParameters.pageType,appId:e.serviceCallParameters.appId},id:c,imp:d,site:{cat:["trendingrecs"],content:{url:"https://www.msn.com/"},domain:"www.msn.com",keywords:"default",page:"https://www.msn.com/",publisher:{ext:{adunitid:e.serviceCallParameters.adUnitId,propertyid:e.serviceCallParameters.propertyId,formcode:e.serviceCallParameters.formCode,partnercode:e.serviceCallParameters.partnerCode},id:"17160724",name:"MSN"}}};let u;const g={method:"GET",credentials:"include"},h=t?"Recommended Search Below Search Box: ":"Recommended Search Module: ";try{let t=null;const i=fetch(e.serviceCallParameters.apiEndpoint+"?appid="+e.serviceCallParameters.appId+"&q="+encodeURI(JSON.stringify(l)),g),n=e.serviceCallParameters.apiTimeoutInMilliSeconds,o=new Promise(e=>{t=setTimeout(e,n)}),c=yield Promise.race([o.then(()=>{throw new Error("timeout: recommended search api response not received within "+e.serviceCallParameters.apiTimeoutInMilliSeconds+" ms.")}),i]);clearTimeout(t);const d=c;if(!d||!d.ok)throw new Error("recommended search service returned error response: "+c.status);try{u=yield d.json()}catch(e){return a.a.sendAppErrorEvent(Object.assign(Object.assign({},r.Yg.ResponseParsingFailed),{message:"Error while getting Json from response.",pb:Object.assign(Object.assign({},r.Yg.ResponseParsingFailed.pb),{customMessage:h+"Error while getting Json from response."})})),s}if(!u||!u.impressions||!u.impressions[0].queries)return a.a.sendAppErrorEvent(Object.assign(Object.assign({},r.Yg.InvalidJsonResponse),{message:"Didn't get valid JSON from response.",pb:Object.assign(Object.assign({},r.Yg.InvalidJsonResponse.pb),{customMessage:h+"Didn't get valid JSON from response."})})),s}catch(e){let t=r.Yg.ServiceCallFailed;return-1!==e.message.indexOf("timeout")&&(t=r.Yg.Timeout),a.a.sendAppErrorEvent(Object.assign(Object.assign({},t),{message:""+e,pb:Object.assign(Object.assign({},t.pb),{customMessage:`${h}${e}`})})),s}return this.getRecommendedSearchResponse(u)}))}getRecommendedSearchResponse(e){return{searchItems:e.impressions[0].queries}}getCMSImageId(e){return e&&e.toLowerCase().indexOf("cms/api/amp/image")>-1?e.substring(e.lastIndexOf("/")+1):null}}},rGfm:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.refreshRiver=new n.a("RiverRefresh"),a.repaintRiver=new n.a("RiverRepaint"),a.riverRefreshed=new n.a("RiverRefreshed"),a.riverQueryUpdated=new n.a("RiverQueryUpdated"),a.riverLocationUpdated=new n.a("RiverLocationUpdated")},tacz:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("G82u");class a{}a.notifyBannerDidAnimate=new n.a("NotifyBannerDidAnimate"),a.setBanner=new n.a("SetBanner"),a.updateBannerHeight=new n.a("UpdateBannerHeight")},"u+Tj":function(e,t,i){"use strict";const n={image:Object.assign({},{display:"block",margin:"0","max-width":"100%",height:"auto"}),image__picture:{display:"block"},image_img:Object.assign({},{display:"block",margin:"0","max-width":"100%",height:"auto"})};t.a=n},uE1O:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ERkP"),a=i.n(n),r=i("4Ixr");class o extends r.a{constructor(){super(...arguments),this.handledProps={managedClasses:void 0,titleText:void 0}}render(){return a.a.createElement("svg",Object.assign({},this.unhandledProps()),this.renderTitleText(this.props),a.a.createElement("path",{d:"M4.02344 15.2734L11.2891 8L4.02344 0.726562L4.72656 0.0234375L12.7109 8L4.72656 15.9766L4.02344 15.2734Z"}))}}},uT2j:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var n=i("OnwC"),a=i("HzrG"),r=i("MZhw"),o=i("1j0g"),s=i("qGiF"),c=i("mObi"),d=i("IlL2"),l=i("r6MD"),u=i("ERkP"),g=i.n(u);class h extends n.a{constructor(){super(...arguments),this.handledProps={tag:void 0,value:void 0,drawBackground:void 0,designSystemMergingFunction:void 0},this.getDesignSystemOverrides=Object(c.a)(e=>({backgroundColor:e})),this.withContext=e=>{const t=this.props.value,i="string"==typeof t?t:"function"==typeof t?t(e):Object(d.a)(e.neutralPalette,t)?Object(l.a)(e.neutralPalette,t):a.b.neutralPalette[t]||h.defaultProps.value(a.b),n=Object.assign({},this.props.style,this.props.drawBackground?{backgroundColor:i}:void 0);return g.a.createElement(o.a,{designSystem:this.getDesignSystemOverrides(i),designSystemMergingFunction:this.props.designSystemMergingFunction},this.tag&&g.a.createElement(this.tag,Object.assign({},this.unhandledProps(),{style:n}),this.props.children)||this.props.children)}}render(){return g.a.createElement(s.a,null,this.withContext)}get tag(){return this.props.tag}}h.defaultProps={tag:"div",value:r.d,drawBackground:!0}},uhNu:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.small="small",e.large="large"}(n||(n={}))},"vX+A":function(e,t,i){"use strict";i.d(t,"a",(function(){return _e})),i.d(t,"b",(function(){return Re}));var n=i("ERkP"),a=i("hE+J"),r=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+r(),REPLACE:"@@redux/REPLACE"+r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+r()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,i){var n;if("function"==typeof t&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(c)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var r=e,d=t,l=[],u=l,g=!1;function h(){u===l&&(u=l.slice())}function p(){if(g)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return d}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(g)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),u.push(e),function(){if(t){if(g)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var i=u.indexOf(e);u.splice(i,1),l=null}}}function b(e){if(!s(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,d=r(d,e)}finally{g=!1}for(var t=l=u,i=0;i<t.length;i++){(0,t[i])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");r=e,b({type:o.REPLACE})}function C(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function i(){e.next&&e.next(p())}return i(),{unsubscribe:t(i)}}})[a.default]=function(){return this},e}return b({type:o.INIT}),(n={dispatch:b,subscribe:m,getState:p,replaceReducer:f})[a.default]=C,n}var d="dnd-core/INIT_COORDS",l="dnd-core/BEGIN_DRAG",u="dnd-core/PUBLISH_DRAG_SOURCE",g="dnd-core/HOVER",h="dnd-core/DROP",p="dnd-core/END_DRAG",m=function(e,t){return e===t};function b(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function f(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!i(e[n],t[n]))return!1;return!0}function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var S={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,i=t.payload;switch(t.type){case d:case l:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case g:return b(e.clientOffset,i.clientOffset)?e:v({},e,{clientOffset:i.clientOffset});case p:case h:return S;default:return e}}var O="dnd-core/ADD_SOURCE",T="dnd-core/ADD_TARGET",w="dnd-core/REMOVE_SOURCE",I="dnd-core/REMOVE_TARGET";function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,i){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:i||null}),e)}function j(e,t){return e.filter((function(e){return e!==t}))}function L(e){return"object"===E(e)}function D(e,t){var i=new Map,n=function(e){return i.set(e,i.has(e)?i.get(e)+1:1)};e.forEach(n),t.forEach(n);var a=[];return i.forEach((function(e,t){1===e&&a.push(t)})),a}function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){A(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var H={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,i=t.payload;switch(t.type){case l:return P({},e,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case u:return P({},e,{isSourcePublic:!0});case g:return P({},e,{targetIds:i.targetIds});case I:return-1===e.targetIds.indexOf(i.targetId)?e:P({},e,{targetIds:j(e.targetIds,i.targetId)});case h:return P({},e,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case p:return P({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case T:return e+1;case w:case I:return e-1;default:return e}}var R=[],N=[];function F(e,t){return e!==R&&(e===N||void 0===t||(i=e,t.filter((function(e){return i.indexOf(e)>-1}))).length>0);var i}function U(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:break;case O:case T:case I:case w:return R;case l:case u:case p:case h:default:return N}var t=e.payload,i=t.targetIds,n=void 0===i?[]:i,a=t.prevTargetIds,r=void 0===a?[]:a,o=D(n,r),s=o.length>0||!f(n,r);if(!s)return R;var c=r[r.length-1],d=n[n.length-1];return c!==d&&(c&&o.push(c),d&&o.push(d)),o}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?z(Object(i),!0).forEach((function(t){q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:U(e.dirtyHandlerIds,{type:t.type,payload:G({},t.payload,{prevTargetIds:k(e,"dragOperation.targetIds",[])})}),dragOffset:x(e.dragOffset,t),refCount:_(e.refCount,t),dragOperation:M(e.dragOperation,t),stateId:V(e.stateId)}}R.__IS_NONE__=!0,N.__IS_ALL__=!0;var Z=i("I9iR"),W=i.n(Z);function K(e,t){return{type:d,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var Y={type:d,payload:{clientOffset:null,sourceClientOffset:null}};function X(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},n=i.publishSource,a=void 0===n||n,r=i.clientOffset,o=i.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(K(r)),Q(t,s,c);var d=te(t,s);if(null!==d){var u=null;r&&(J(o),u=o(d)),e.dispatch(K(r,u));var g=c.getSource(d),h=g.beginDrag(s,d);ee(h),c.pinSource(d);var p=c.getSourceType(d);return{type:l,payload:{itemType:p,item:h,sourceId:d,clientOffset:r||null,sourceClientOffset:u||null,isSourcePublic:!!a}}}e.dispatch(Y)}}function Q(e,t,i){W()(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){W()(i.getSource(e),"Expected sourceIds to be registered.")}))}function J(e){W()("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function ee(e){W()(L(e),"Item must be an object.")}function te(e,t){for(var i=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){i=e[n];break}return i}function ie(e){return function(){if(e.getMonitor().isDragging())return{type:u}}}function ne(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function ae(e){return function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.clientOffset;re(t);var a=t.slice(0),r=e.getMonitor(),o=e.getRegistry();oe(a,r,o);var s=r.getItemType();return se(a,o,s),ce(a,r,o),{type:g,payload:{targetIds:a,clientOffset:n||null}}}}function re(e){W()(Array.isArray(e),"Expected targetIds to be an array.")}function oe(e,t,i){W()(t.isDragging(),"Cannot call hover while not dragging."),W()(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var a=e[n];W()(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");var r=i.getTarget(a);W()(r,"Expected targetIds to be registered.")}}function se(e,t,i){for(var n=e.length-1;n>=0;n--){var a=e[n];ne(t.getTargetType(a),i)||e.splice(n,1)}}function ce(e,t,i){e.forEach((function(e){i.getTarget(e).hover(t,e)}))}function de(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function le(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?de(Object(i),!0).forEach((function(t){ue(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):de(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ge(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.getMonitor(),n=e.getRegistry();he(i);var a=me(i);a.forEach((function(a,r){var o=pe(a,r,n,i),s={type:h,payload:{dropResult:le({},t,{},o)}};e.dispatch(s)}))}}function he(e){W()(e.isDragging(),"Cannot call drop while not dragging."),W()(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function pe(e,t,i,n){var a=i.getTarget(e),r=a?a.drop(n,e):void 0;return function(e){W()(void 0===e||L(e),"Drop result must either be an object or undefined.")}(r),void 0===r&&(r=0===t?{}:n.getDropResult()),r}function me(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function be(e){return function(){var t=e.getMonitor(),i=e.getRegistry();!function(e){W()(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var n=t.getSourceId();return i.getSource(n,!0).endDrag(t,n),i.unpinSource(),{type:p}}}function fe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ce(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ve,ye=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=i}var t,i,n;return t=e,(i=[{key:"subscribeToStateChange",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},n=i.handlerIds;W()("function"==typeof e,"listener must be a function."),W()(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,r=function(){var i=t.store.getState(),r=i.stateId;try{r===a||r===a+1&&!F(i.dirtyHandlerIds,n)||e()}finally{a=r}};return this.store.subscribe(r)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;W()("function"==typeof e,"listener must be a function.");var i=this.store.getState().dragOffset;return this.store.subscribe((function(){var n=t.store.getState().dragOffset;n!==i&&(i=n,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return W()(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return W()(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&ne(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return W()(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var i=t.shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),a=this.getItemType();if(a&&!ne(n,a))return!1;var r=this.getTargetIds();if(!r.length)return!1;var o=r.indexOf(e);return i?o===r.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,n=e.clientOffset,a=e.initialClientOffset,r=e.initialSourceClientOffset,n&&a&&r?fe((i=r,{x:(t=n).x+i.x,y:t.y+i.y}),a):null;var e,t,i,n,a,r}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,i=e.initialClientOffset,t&&i?fe(t,i):null;var e,t,i}}])&&Ce(t.prototype,i),n&&Ce(t,n),e}(),Se=i("XIuK"),xe=i.n(Se),Oe=0;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):W()("string"==typeof e||"symbol"===Te(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function Ie(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ke(e){var t=(Oe++).toString();switch(e){case ve.SOURCE:return"S".concat(t);case ve.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function je(e){switch(e[0]){case"S":return ve.SOURCE;case"T":return ve.TARGET;default:W()(!1,"Cannot parse handler ID: ".concat(e))}}function Le(e,t){var i=e.entries(),n=!1;do{var a=i.next(),r=a.done;if(Ee(a.value,2)[1]===t)return!0;n=!!r}while(!n);return!1}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(ve||(ve={}));var De=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,i,n;return t=e,(i=[{key:"addSource",value:function(e,t){we(e),function(e){W()("function"==typeof e.canDrag,"Expected canDrag to be a function."),W()("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),W()("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var i=this.addHandler(ve.SOURCE,e,t);return this.store.dispatch(function(e){return{type:O,payload:{sourceId:e}}}(i)),i}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){W()("function"==typeof e.canDrop,"Expected canDrop to be a function."),W()("function"==typeof e.hover,"Expected hover to be a function."),W()("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var i=this.addHandler(ve.TARGET,e,t);return this.store.dispatch(function(e){return{type:T,payload:{targetId:e}}}(i)),i}},{key:"containsHandler",value:function(e){return Le(this.dragSources,e)||Le(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];W()(this.isSourceId(e),"Expected a valid source ID.");var i=t&&e===this.pinnedSourceId,n=i?this.pinnedSource:this.dragSources.get(e);return n}},{key:"getTarget",value:function(e){return W()(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return W()(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return W()(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return je(e)===ve.SOURCE}},{key:"isTargetId",value:function(e){return je(e)===ve.TARGET}},{key:"removeSource",value:function(e){var t=this;W()(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:w,payload:{sourceId:e}}}(e)),xe()((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){W()(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:I,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);W()(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){W()(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,i){var n=ke(e);return this.types.set(n,t),e===ve.SOURCE?this.dragSources.set(n,i):e===ve.TARGET&&this.dropTargets.set(n,i),n}}])&&Ie(t.prototype,i),n&&Ie(t,n),e}();function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return c($,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var He=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Be(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var n=Ae(i);this.store=n,this.monitor=new ye(n,new De(n)),n.subscribe(this.handleRefCountChange)}var t,i,n;return t=e,(i=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,i=function(e){return{beginDrag:X(e),publishDragSource:ie(e),hover:ae(e),drop:ge(e),endDrag:be(e)}}(this);return Object.keys(i).reduce((function(n,a){var r,o=i[a];return n[a]=(r=o,function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=r.apply(e,n);void 0!==o&&t(o)}),n}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Pe(t.prototype,i),n&&Pe(t,n),e}();function Me(e,t,i,n){var a=new He(n),r=e(a,t,i);return a.receiveBackend(r),a}var _e=n.createContext({dragDropManager:void 0});function Re(e,t,i,n){return{dragDropManager:Me(e,t,i,n)}}},w339:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("UQo/");var a={backgroundImage:{"background-position":"center","background-repeat":"no-repeat","background-size":"cover",height:"100%",margin:"0",padding:"0",width:"100%"}},r=i("+viU");const o=Object(r.a)(a)(n.default)},wbDW:function(e,t,i){"use strict";i.r(t),i.d(t,"HeaderEdgeNext",(function(){return qi})),i.d(t,"HeaderEdgeNextActions",(function(){return oi.a})),i.d(t,"HeaderEdgeNextConnector",(function(){return Fi})),i.d(t,"HeaderEdgeNextReducer",(function(){return Vi})),i.d(t,"HeaderEdgeNextLayoutIds",(function(){return n})),i.d(t,"ToolingInfo",(function(){return $i}));var n,a=i("D57K"),r=i("uT2j"),o=i("FPTP"),s=i("y2Il"),c=i("5mwN"),d=i("3KaK"),l=i("Jw3B"),u=i("XI4f"),g=i("SP+O"),h=i("QhQn"),p=i("MF9s"),m=i("rRWH"),b=i("fz//"),f=i("0fst"),C=i("rcIs");!function(e){e.aboveFoldGrid="g_abvFold",e.backgroundImageGrid="g_bimg",e.backgroundImage="c_bimg",e.belowTheFold="belowTheFold",e.companyLogo="c_cmpLogo",e.complianceHyperlink="c_chl",e.fadeInOverlay="fade_overlay",e.feedToggle="c_ftoggle",e.header="p_header",e.imageOverlayGrid="g_imgo",e.imageOverlay="c_imgo",e.imageOverlayGradient="c_imgog",e.backGroundImageOverLayGradient="backgroundImageOverlay",e.logo="c_logo",e.meetNow="c_mnow",e.msLogo="c_mslogo",e.msRewards="c_rewards",e.quickLinks="c_ql",e.recommendedSites="c_rs",e.recommendedSearch="c_rec_srch",e.search="c_srch",e.searchForm="srchfrm",e.searchHistory="c_srchh",e.searchHistoryPill="c_srch_hist",e.serviceWaffle="c_waffle",e.settings="c_setting",e.themeButton="c_themebtn",e.welcomeGreeting="c_welcome",e.userProfileDisplay="c_usrp"}(n||(n={}));const v={name:"PromoInformationalCoachmark",coachmarkSource:C.e.Experience,displayDismissX:"true",displayType:C.d.Small,headline:"The new Microsoft Edge is here",leadText:"And with the Informational layout, you’re getting the latest news from the world's best journalists. You can always change it later in Page Settings.",pointerPlacement:C.c.Opposite,position:C.b.Below,targetElement:"SettingsButton",timeoutMilliseconds:1e4,ctaList:[void 0,{ctaText:"Got it",ctaType:"dismiss"}]},y=(C.e.Experience,C.d.Small,C.c.Opposite,C.b.Below,f.a.Over),S=f.a.Over+2,x=f.a.Over+3,O=f.a.Over+4,T={"@global":{"::-webkit-scrollbar:horizontal":{display:"none"},"@keyframes fade":{from:{opacity:0},to:{opacity:1}},"@keyframes scale":{from:{transform:"scale(1.02)"},to:{transform:"scale(1)"}},body:{"overflow-x":"hidden"},"#c_bimg.rc":{opacity:"0 !important",animation:"fade 300ms cubic-bezier(.3, .2, .2, 1) forwards, scale 300ms cubic-bezier(.3, .2, .2, 1) forwards"},"#c_ql.rc":{opacity:"0 !important",animation:"fade 300ms cubic-bezier(.3, .2, .2, 1) forwards"},"#c_sfp.rc":{opacity:"0 !important",animation:"fade 300ms cubic-bezier(.3, .2, .2, 1) forwards"},"#g_abvFold":{"grid-auto-rows":"0 0 0 0 0 !important"},"#g_bimg":{"grid-auto-rows":"max-content !important",overflow:"hidden"}},backgroundImageGrid:{position:"fixed",top:"0",width:"100%"},compliancelink_Container:{bottom:"26px","justify-self":"self-start",position:"relative","z-index":""+x},compliancelink_Hyperlink:{"text-decoration":"none",transition:"none"},compliancelink_Typography:{cursor:"pointer",opacity:"inherit","padding-left":Object(m.c)("8px","initial"),"padding-right":Object(m.c)("initial","8px"),position:"relative"},fadeInOverlay:{height:"100vh",width:"100vw",position:"absolute","pointer-events":"none",top:"0",left:"0",overflow:"hidden",opacity:"0","background-color":"black"},feedToggle:{left:Object(m.c)("auto","95px"),"justify-self":"end",position:"relative",right:Object(m.c)("95px","auto"),top:"44px","z-index":""+x,[Object(l.e)(null,l.a.c2)]:{visibility:"hidden"}},headerEdgeNext_Page:{transition:"height .3s ease"},hiddenImageOverlay:{visibility:"hidden"},hiddenOverlay:{"z-index":""+f.a.Below},hideAboveFold:{"& div":{visibility:"hidden"}},highlightBackgroundImageGrid:{"z-index":""+f.a.Flyout},imageDisabledColor_linkText:{color:u.a,"&:hover":{"text-decoration":"underline","text-decoration-color":u.a},"& p":{color:u.a}},imageEnabledColor_linkText:{color:"#fff",opacity:"0.64","&:hover":{"text-decoration":"underline","text-decoration-color":"#fff"},"& p":{color:"#fff"}},imageOverlayGrid:{height:"156px",overflow:"hidden",position:"fixed",top:"0",width:"100%"},logo:{"z-index":""+x,position:"relative"},logoIconLight:{fill:"#737373"},logoIconDark:{fill:g.c},meetNow:{height:"fit-content","justify-self":"end",left:Object(m.c)("initial","90px"),position:"relative",right:Object(m.c)("90px","initial"),top:"32px",width:"fit-content","z-index":""+x,[Object(l.e)(null,l.a.c2)]:{visibility:"hidden"}},msLogo:{height:"50px","justify-self":"start",left:Object(m.c)("86px","auto"),position:"relative",right:Object(m.c)("auto","86px"),top:"29px",width:"120px","z-index":""+x},msRewards:{"justify-self":"end",position:"relative","z-index":""+(f.a.Nav+3)},imageOverlayGridHighlighted:{"z-index":f.a.Flyout+" !important","& #museumCard":{bottom:"8px !important",position:"fixed",top:"unset !important"},"& > div > div:nth-of-type(2)":{visibility:"hidden"}},quickLinks:{"z-index":""+x,position:"relative","& #TopSitesCommon":{[Object(l.e)(null,l.a.c2)]:{height:"196px"}}},recommendedSearch:{height:"fit-content",position:"relative",width:"fit-content","z-index":""+x},search:{margin:"auto",position:"relative",width:"fit-content","z-index":""+O},searchHistoryPill:{height:"fit-content",position:"relative",width:"fit-content","z-index":""+x},serviceWaffle:{"justify-self":"start",margin:"0px 44px",position:"relative",top:"38px","z-index":""+x},settings:{"justify-self":"end",left:Object(m.c)("initial","36px"),position:"relative",right:Object(m.c)("36px","initial"),top:"38px","z-index":""+x},stickyBackgroundImageGrid:{"background-color":"inherit",height:"108px",position:"fixed",top:"0","z-index":""+y},stickyCompliance:{height:"100px",position:"fixed",top:"0"},stickySearch:{left:"0",position:"fixed",right:"0"},stickyTopElement:{position:"fixed !important"},themeBtn:{"justify-self":"end",left:Object(m.c)("initial","36px"),position:"relative",right:Object(m.c)("36px","initial"),top:"70px","z-index":""+x},userProfileDisplay:{position:"relative","z-index":""+x},welcomeGreeting:{height:"50px","justify-self":"start",left:Object(m.c)("42px","auto"),position:"relative",right:Object(m.c)("auto","42px"),top:"29px",width:"fit-content","z-index":""+x,[Object(l.e)(null,l.a.c2)]:{visibility:"hidden"}},welcomeGreeting_adjusted:{left:Object(m.c)("85px","auto"),right:Object(m.c)("auto","85px")},welcomeGreeting_brandingEnabled:{left:Object(m.c)("auto","85px"),right:Object(m.c)("85px","auto")},visibleImageOverlay:{visibility:"visible","z-index":""+S},visibleOverlay:{animation:"fadeInOut-enter 1500ms","z-index":""+f.a.Overlay,"animation-delay":"400ms","animation-fill-mode":"forwards"},"@keyframes fadeInOut-enter":{"0%":{opacity:"0"},"40%":{opacity:"0.6"},"60%":{opacity:"0.6"},"100%":{opacity:"0"}}},w={companyLogo:{left:Object(m.c)("85px","auto"),position:"fixed",right:Object(m.c)("auto","85px"),top:"54px",transform:"translateY(-50%);","z-index":""+x},hidden:{visibility:"hidden"}},I={companyLogo:{position:"relative",top:"50%",left:Object(m.c)("50%","28%"),transform:"translate(-50%, -50%)","z-index":""+x},companyLogo_backplate:{left:Object(m.c)("88px","auto"),position:"fixed",right:Object(m.c)("auto","88px"),top:"28px",background:h.a,"border-radius":"100px","z-index":""+x},hidden:{visibility:"hidden"}},E={companyLogo:{left:Object(m.c)("auto","85px"),position:"fixed",right:Object(m.c)("85px","auto"),top:"54px",transform:"translateY(-50%);","z-index":""+x},hidden:{visibility:"hidden"}},k={companyLogo:{position:"relative",top:"50%",left:Object(m.c)("50%","28%"),transform:"translate(-50%, -50%)","z-index":""+x},companyLogo_backplate:{left:Object(m.c)("auto","88px"),position:"fixed",right:Object(m.c)("88px","auto"),top:"28px",background:h.a,"border-radius":"100px","z-index":""+x},hidden:{visibility:"hidden"}},j={"@global":{"::-webkit-scrollbar":{"background-color":p.k},"::-webkit-scrollbar-thumb":{"background-color":"rgba(255, 255, 255, 0.53)","border-radius":"8px",border:Object(b.a)("solid {0}",p.k),"&:hover":{"background-color":"#AEAEAE"},"&:active":{"background-color":"#989898"}}}},L={"@global":{"::-webkit-scrollbar":{"background-color":p.k},"::-webkit-scrollbar-thumb":{"background-color":"rgba(0, 0, 0, 0.48)","border-radius":"8px",border:Object(b.a)("solid {0}",p.k),"&:hover":{"background-color":"#686868"},"&:active":{"background-color":"#808080"}}}};var D=i("6u3Q"),B=i("HzrG");var P=i("+viU"),A=i("OnwC"),H=i("pCrc"),M=i("ERkP"),_=i.n(M);class R extends A.a{constructor(e){super(e),this.handledProps={altText:void 0,image:void 0,alignRight:void 0,showBackplate:void 0,managedClasses:void 0}}render(){if(this.props.image){const{companyLogo:e,companyLogo_backplate:t}=this.props.managedClasses||{};return this.props.showBackplate?_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:t},_.a.createElement(H.a,{src:this.props.image,className:e,alt:this.props.altText}))):_.a.createElement(H.a,{src:this.props.image,className:e,alt:this.props.altText})}return null}}const N=Object(P.a)(()=>({companyLogo:{"max-height":"24px","max-width":"114px",height:"auto",width:"auto",[Object(l.e)(null,l.a.c2)]:{display:"none"}},companyLogo_backplate:{"max-height":"58px","max-width":"155px",height:"48px",width:"148px",[Object(l.e)(null,l.a.c2)]:{display:"none"}}}))(R);var F=i("qGiF"),U=i("19qY"),V=i("Zn5T"),z=i("CiAa"),G=i("w339");class q extends A.a{constructor(){super(...arguments),this.handledProps={height:void 0,imageSource:void 0,imageGradient:void 0,managedClasses:void 0}}render(){const{imageOverlay:e,imageOverlayGradient:t}=this.props.managedClasses||{};return _.a.createElement(_.a.Fragment,null,_.a.createElement(G.a,{className:e,url:this.props.imageSource,id:"backgroundImageOverlay",jssStyleSheet:{backgroundImage:{height:this.props.height+"px"}}}),_.a.createElement("div",{className:t,id:"imageOverlayGradient",style:{height:this.props.height+"px",backgroundImage:this.props.imageGradient}}))}}const $=Object(P.a)({imageOverlay:{position:"absolute"},imageOverlayGradient:{"background-attachment":"fixed","background-image":"radial-gradient(rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.5) 100%), radial-gradient(rgba(0, 0, 0, 0) 33%, rgba(0, 0, 0, 0.3) 166%),linear-gradient(180deg, rgba(0, 0, 0, 0) 0%,rgba(0, 0, 0, 0) 0% 75%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)","background-position":"top !important",height:"100%",position:"absolute",top:"-156px",width:"100%"}})(q);var Z=i("+Tyi"),W=i("Z3LZ"),K=i("+8mm");let Y=!1;function X(){window.pageYOffset>0&&Q()}function Q(){const e=Object(W.g)();e&&K.a.updateBelowTheFoldTransitionStart.getActionSender(e).send(!0),Y=!0,window.removeEventListener("scroll",X)}const J={initialize:function(){window.addEventListener("scroll",X,{passive:!0})},handleSettingUpdate:function(e){Y||"always"!==e&&"headingsonly"!==e&&"peek"!==e||Q()}};var ee=i("o1qX"),te=i("Gy7L");let ie,ne;function ae(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let i=0;i<t;i++){const t=e[i].intersectionRatio;t>=.2?(ie.style.visibility="",ie.style.opacity=t*t+""):(ie.style.opacity="0",ie.style.visibility="hidden")}})}const re={initialize:function(){ie=document.getElementById(n.logo)},updateObserver:function(){ie&&(ne||function(){if(!window.IntersectionObserver)return;ne=new window.IntersectionObserver(ae,{root:null,rootMargin:"-7% 0% 0%",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),ne.observe(ie)}())},removeListeners:function(){ne&&(ne.unobserve(ie),ne=null)}};let oe,se;let ce;function de(e){window.requestAnimationFrame(()=>{const t=e&&e.length;for(let i=0;i<t;i++){const t=e[i];if(t.intersectionRatio<=.9){const e=se-t.intersectionRect.height;e>40||e<=0?(oe.style.opacity="0",oe.style.pointerEvents="none"):(oe.style.opacity=(40-e)/40+"",oe.style.pointerEvents="")}else oe.style.opacity="1",oe.style.pointerEvents=""}})}const le={initialize:function(){oe=document.getElementById(n.quickLinks)},updateObserver:function(){oe&&(se=oe.clientHeight,ce||function(){if(!window.IntersectionObserver)return;ce=new window.IntersectionObserver(de,{root:null,rootMargin:"-110px 0px 0px",threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),ce.observe(oe)}())},removeListeners:function(){ce&&(ce.unobserve(oe),ce=null)},onQuickLinksTabFocus:function(){"0"===oe.style.opacity&&window.scrollTo({top:0,behavior:"smooth"})}};let ue,ge,he,pe,me;const be=()=>{fe(ue,ge,he)};function fe(e,t,i){ue=e,ge=t,he=i,pe=!ge&&"always"!==he,me=ge&&"always"!==he,pe?re.updateObserver():re.removeListeners(),ue?le.updateObserver():le.removeListeners()}function Ce(e){const t=e.target;e.keyCode===te.a.tab&&t instanceof HTMLElement&&t.className.includes("topSite")&&le.onQuickLinksTabFocus()}const ve={configure:function(e){},initialize:function(){re.initialize(),le.initialize(),window.addEventListener("resize",()=>{window.requestAnimationFrame(be)}),window.addEventListener("keyup",Ce)},updateObservers:fe,removeListeners:function(){re.removeListeners(),le.removeListeners(),window.removeEventListener("resize",be),window.removeEventListener("keyup",Ce)}};var ye=i("pLgf"),Se=i("I6Lx"),xe=i("iCAe");const Oe={belowSearchBoxItemsHeight:32,belowSearchBoxItemsTopPaddingInPx:11,belowSearchBoxItemsBottomPaddingInPx:48,logoBottomPaddingInPx:72,logoBottomPaddingInPx_alternate:48,logoBottomPaddingInPx_searchHistoryPill:48,pageTopPaddingInPx:32,searchBottomPaddingInPx:49,quickLinkPaddingInPx:37,minHeaderHeightInPx:108,pivotsRowHeight:50,quickLinksTopPaddingV3:20,extraPaddingForHeader:24},Te=300,we="hidden",Ie="auto";const Ee={getTranslate:function(e,t,i,n){const a=function(e,t,i){const n={duration:i,delay:0,easing:"cubic-bezier(.3, .2, .2, 1)",fill:"none"};return new ye.AnimateTo(e,{y:t},n)}(e,t,i),r=()=>{n&&"function"==typeof n&&n(),window.requestAnimationFrame(()=>{e.style.transform="translateY("+t+"px)"})};return Se.b.IsPrerender?r():a.onFinish=r,a},getFade:function(e,t,i,n,a){const r=function(e,t,i,n){const a={duration:i,delay:n||0,easing:"cubic-bezier(.3, .2, .2, 1)",fill:"none"};return new ye.AnimateTo(e,{opacity:t},a)}(e,t,i,n),o=()=>{a&&"function"==typeof a&&a(),window.requestAnimationFrame(()=>{e.style.opacity=t+"",e.style.visibility=t?"":we})};return Se.b.IsPrerender?o():r.onFinish=o,r},getScale:function(e,t,i,n){const a=function(e,t,i,n){return new ye.AnimateTo(e,{scale:t},{duration:i,delay:n||0,easing:"cubic-bezier(.3, .2, .2, 1)",fill:"none"})}(e,t,i),r=()=>{n&&"function"==typeof n&&n(),window.requestAnimationFrame(()=>{e.style.transform="scale("+t+")"})};return Se.b.IsPrerender?r():a.onFinish=r,a},setHeight:function(e,t,i){e.style.transition="height "+i+"ms ease",e.style.height=t+"px",setTimeout(()=>e.style.transition="none",i)}};var ke=i("HDSB"),je=i("plCa"),Le=i("hWAW");let De,Be,Pe,Ae,He,Me,_e,Re,Ne,Fe,Ue,Ve,ze,Ge,qe,$e,Ze,We,Ke,Ye,Xe,Qe,Je,et,tt,it,nt,at,rt,ot,st,ct,dt,lt,ut,gt,ht,pt,mt,bt,ft,Ct,vt,yt,St,xt=Oe,Ot=()=>{},Tt=()=>{};const wt=()=>{window.requestAnimationFrame(()=>{Bt(De,Be,Pe,Me,He,_e,!1,!0,null,Fe)})};let It,Et,kt=!!Object(ke.a)()&&(window.needsHydrate||Se.b.IsPrerender);const jt=()=>{Object(xe.c)(xe.a.search,!0)},Lt=()=>{Object(xe.c)(xe.a.search,!1)},Dt=(e,t)=>{let i;switch(e){case xe.a.msRewards:i=ot;break;case xe.a.settings:i=Qe;break;case xe.a.addTopSite:case xe.a.editTopSite:i=Je;break;case xe.a.search:i=Ke;break;case xe.a.searchHistoryMoreOptions:i=nt;break;case xe.a.waffle:i=rt}i&&(i.style.zIndex=t?f.a.Flyout.toString():null)};function Bt(e,t,i,a,r,o,s,c,d,l){if(!(Ge&&Qe&&Ke&&$e&&Ze&&Je&&$e.children[0]&&Ke.children[0]&&Je.children[0])){if(globalThis.headerEdgeNextTest)return;let n="";try{n="Null elements-"+(Ge?"":"backgroundImageElement,")+(Qe?"":"settingsElement,")+(Ke?"":"searchElement,")+($e?"":"logoElement,")+(Ze?"":"headerPageElement,")+(Je?"":"quickLinksElement,")+($e&&$e.children&&$e.children[0]?"":"logoElement.children[0],")+(Ke&&Ke.children&&Ke.children[0]?"":"searchElement.children[0],")+(Je&&Je.children&&Je.children[0]?"":"quickLinksElement.children[0],")+"; initialRender:"+s+",elementResizeEvent:"+d+",scrollDisabled:"+c+",cachedRender:"+kt+",needsHydrate:"+(window&&window.needsHydrate)+",isPrerender:"+(Se.b&&Se.b.IsPrerender)+"; quickLinksFlag:"+e+",imageOfTheDayFlag:"+t+",headerExpandedFlag:"+i+",currentFeedSetting:"+a+",welcomeFlag:"+r+",searchHistoryPillFlag:"+o}catch(e){}throw new Error("Layout is corrupt. "+n)}if(l||(l=0),Fe=l,De=Je&&e,Be=t,Pe=i,He=r,Me=a,Ae=!Be&&"always"!==Me,Ve=xt.anchorSearchBoxInInspirationalLayout&&Be&&"always"!==Me,_e=xt.enableNeglectSearchHistoryHeightInform?o&&"always"!==a:o,st=at&&Be&&"always"!==Me||nt&&_e,Be?Ge.style.visibility="":s&&(Ge.style.visibility=we),Je&&(De?Je.style.visibility="":s&&(Je.style.visibility=we)),Ae?$e.style.visibility="":s&&($e.style.visibility=we),"off"===a?ze.style.overflow=we:tt.style.minHeight="100vh",kt||d||!s||(Ge.style.opacity="0",Ge.style.transform="scale(1.02)"),gt=document.documentElement.clientHeight-It-Et,ct=$e.children[0].clientHeight,dt=Ke.children[0].clientHeight,lt=Je.children[0].clientHeight,xt.enableSearchHistoryV3&&0!=lt&&"always"!=a){const e=parseInt(Je.style.height);e&&(lt=e)}mt=it?it.offsetHeight:0,$e.style.height=ct+"px",Ke.style.height=dt+"px",Je.style.height=lt+"px",ht=function(e){if(e&&!Pe)return gt-xt.pivotsRowHeight-mt-e;if("onscroll"===Me||"off"===Me)return gt;if("headingsonly"===Me||"peek"===Me||Be&&Pe)return gt-xt.pivotsRowHeight-mt;let t=xt.quickLinkPaddingInPx,i=0;xt.enableQuickLinksPaddingReducedInform&&(t=xt.quickLinksTopPaddingV3,lt&&(i=xt.extraPaddingForHeader));if(st&&!xt.enableSearchHistoryV3)return dt+xt.pageTopPaddingInPx+xt.belowSearchBoxItemsTopPaddingInPx+xt.belowSearchBoxItemsHeight+(De?xt.belowSearchBoxItemsBottomPaddingInPx+lt+t:32);if(xt.enableSearchHistoryV3&&"always"===Me&&"c3"===Object(je.a)().currentColumnArrangement&&Je&&Je.children[0]){const e=Je.children[0];e&&e.style&&"auto"===e.style.height&&(i=xt.extraPaddingForHeader)}return dt+xt.pageTopPaddingInPx+(De?xt.searchBottomPaddingInPx+lt+t:32)+i}(l),bt=function(){if(!Ae)return 0;const e=ct+xt.logoBottomPaddingInPx+dt+xt.searchBottomPaddingInPx+(De?lt:0);return(ht-e)/2}(),ft=bt+function(){if(Ae)return ct+(st&&!xt.enableSearchHistoryV3?xt.logoBottomPaddingInPx_alternate:xt.logoBottomPaddingInPx);if(Ne&&"always"!==Me)return Be&&Pe||"headingsonly"!==Me&&"peek"!==Me?.15*gt:xt.pageTopPaddingInPx;return(Be&&Pe||"always"!==Me)&&!Ve?.15*gt:xt.pageTopPaddingInPx}(),yt=ft+Pt(),Ct=(Ve?.15*gt:ft)+function(){if(Be){if("headingsonly"===Me||"peek"===Me)return Re?xt.searchBottomPaddingInPx+dt+(lt?0:30):Ne?function(){if(st)return xt.belowSearchBoxItemsHeight+xt.belowSearchBoxItemsBottomPaddingInPx+(lt?0:30);return xt.searchBottomPaddingInPx+dt+(lt?0:30)}():.7*ht-lt+(st&&!xt.enableSearchHistoryV3&&0===Fe?xt.belowSearchBoxItemsHeight:0);if("onscroll"===Me||"off"===Me)return.7*gt-lt}let e=30;lt?e=xt.enableSearchHistoryV3?xt.quickLinksTopPaddingV3:0:xt.enableQuickLinksPaddingReducedInform&&(e=12);if(st){const t=xt.enableSearchHistoryV3?0:xt.belowSearchBoxItemsHeight;return Pt()+t+xt.belowSearchBoxItemsBottomPaddingInPx+e}return xt.searchBottomPaddingInPx+dt+e}(),We&&We.children&&We.children[0]&&(ut=We.children[0].clientHeight,We.style.height=ut+"px",vt=ht-ut);const u=s?0:Te,g=!c&&!kt&&!d,h=new ye.AnimateGroup(function(e,t,i){const a=[];a.push(Ee.getTranslate($e,bt,e)),a.push(Ee.getTranslate(Ke,ft,e)),st&&(nt&&a.push(Ee.getTranslate(nt,yt,"hidden"!==nt.style.visibility?e:0)),at&&a.push(Ee.getTranslate(at,yt,e)));Je&&a.push(Ee.getTranslate(Je,Ct,e)),We&&We.children&&We.children[0]&&a.push(Ee.getTranslate(We,vt,e));if(t){a.push(Ee.getFade($e,Ae?1:0,e)),Je&&a.push(Ee.getFade(Je,De?1:0,e,0)),nt&&a.push(Ee.getFade(nt,_e?1:0,e));const t=Be&&!e||e?Te:0;a.push(Ee.getFade(Ge,Be?1:0,t,0)),a.push(Ee.getScale(Ge,1,t))}ht>=xt.minHeaderHeightInPx?(pt="headingsonly"===Me||"peek"===Me?ht+xt.pivotsRowHeight+It+Et+mt+i:ht+It+Et,!Ue||"always"!=Me&&"peek"!=Me||(pt=gt),Ee.setHeight(Ge,pt,e),qe=document.getElementById(n.backGroundImageOverLayGradient),qe&&Ee.setHeight(qe,pt,e)):Ge.style.transition="none";return Ee.setHeight(Ze,ht,e),a}(u,g,l)),p=()=>{d||Tt(),"off"!==a&&window.requestAnimationFrame(()=>setTimeout(()=>ze.style.overflowY=Ie)),kt=!1};Se.b.IsPrerender?p():h.onFinish=p,c||window.scrollTo(0,0),Ze.style.height=ht+"px",Ot(),h.play(),et&&(s||et.style.visibility===we&&He||""===et.style.visibility&&!He)&&(He?et.style.visibility="":s&&(et.style.visibility=we),Ee.getFade(et,He?1:0,u).play())}function Pt(){return dt+xt.belowSearchBoxItemsTopPaddingInPx}const At={configure:function(e,t,i,n,a){e=e||{},Re=i&&i||!1,Ne=n&&n||!1,Ue=a||!1,xt=Object.assign(Object.assign({},Oe),e)},getHeaderHeight:function(){return ht},getHeaderImageHeight:function(){return pt},initialize:function(e){ze=document.body,Ze=document.getElementById(n.header),Ke=document.getElementById(n.search),Ye=document.getElementById(n.searchForm),$e=document.getElementById(n.logo),Je=document.getElementById(n.quickLinks),Ge=document.getElementById(n.backgroundImage),qe=document.getElementById(n.backGroundImageOverLayGradient),We=document.getElementById(n.complianceHyperlink),Qe=document.getElementById(n.settings),ot=document.getElementById(n.msRewards),et=document.getElementById(n.welcomeGreeting),Xe=document.getElementById(n.searchHistory),tt=document.getElementById(n.belowTheFold),It=Object(Le.a)(),it=document.getElementById(n.recommendedSites),at=document.getElementById(n.recommendedSearch),Et=0,nt=document.getElementById(n.searchHistoryPill),rt=document.getElementById(n.serviceWaffle),St=e===m.a.rtl,Xe&&Ke.appendChild(Xe),window.addEventListener("resize",wt),Ke&&Ye&&(Ye.addEventListener("autosuggestShown",jt),Ye.addEventListener("autosuggestHide",Lt)),Object(xe.b)(Dt)},onLayoutAnimationComplete:function(e){Tt=e},onLayoutAnimationStart:function(e){Ot=e},removeListeners:function(){window.removeEventListener("resize",wt),Ke&&Ye&&(Ye.removeEventListener("autosuggestShown",jt),Ye.removeEventListener("autosuggestHide",Lt)),Object(xe.d)(Dt)},reportSearchYPosition:function(){return ft},scrollToShowFeed:function(e){let t;t=e||("always"===Me?De?xt.searchBottomPaddingInPx-xt.pageTopPaddingInPx+lt+xt.quickLinkPaddingInPx:0:"headingsonly"===Me||"peek"===Me?gt-xt.pivotsRowHeight-dt-2*xt.pageTopPaddingInPx-Fe:gt-dt-2*xt.pageTopPaddingInPx),window.scrollTo({top:t,behavior:"smooth"})},updateLayout:Bt,updateLayoutOnCookieBannerDismissal:function(){It=0,window.requestAnimationFrame(()=>{Bt(De,Be,Pe,Me,He,_e,!1,!0)})},updateBannerManagerHeight:function(e){Et=e,window.requestAnimationFrame(()=>{Bt(De,Be,Pe,Me,He,_e)})},updateLayoutOnElementsSizeChange:function(e,t){window.requestAnimationFrame(()=>{Bt(De,Be,Pe,Me,He,_e,!e,!0,!0,t)})}},Ht={searchDistanceToTop:32,complianceDistanceToTop:108,backgroundImageDistanceToTop:108,pivotsRowHeight:50};var Mt=i("1aPi"),_t=i("3ZGc");let Rt,Nt,Ft,Ut,Vt,zt,Gt,qt,$t,Zt,Wt,Kt,Yt,Xt,Qt=Ht;function Jt(e,t){Ft=Gt(),Kt=e,Zt=Kt?Qt.pivotsRowHeight:0,Wt=t,Wt||(Wt=0),ii(),ei()}function ei(){window.requestAnimationFrame(()=>{const e=document.getElementById(n.recommendedSites),t=e&&Kt?e.offsetHeight:0,i=Math.max(document.documentElement.scrollTop,document.body.scrollTop);if(Nt){const e=Ft-i+Yt+Xt;!Ut.state.stickySearch&&e<=Qt.searchDistanceToTop?Ut.setState({stickySearch:!0},()=>ii()):Ut.state.stickySearch&&e>Qt.searchDistanceToTop&&Ut.setState({stickySearch:!1},()=>ii())}if(Rt){const e=Math.max(Rt.offsetHeight-Zt-t-Wt-Qt.backgroundImageDistanceToTop,0);!Ut.state.stickyBackgroundImage&&i>e?Ut.setState({stickyBackgroundImage:!0}):Ut.state.stickyBackgroundImage&&i<=e&&Ut.setState({stickyBackgroundImage:!1})}if(zt){const e=Vt.offsetHeight-Qt.complianceDistanceToTop;!Ut.state.stickyComplianceLink&&i>e?Ut.setState({stickyComplianceLink:!0},()=>ti()):Ut.state.stickyComplianceLink&&i<=e&&Ut.setState({stickyComplianceLink:!1},()=>ti())}if(Yt>0||Xt>0){const e=Yt>0&&i>Yt||Xt>0&&i>Xt;!Ut.state.stickyTopRowElements&&e?Ut.setState({stickyTopRowElements:!0}):Ut.state.stickyTopRowElements&&!e&&Ut.setState({stickyTopRowElements:!1})}})}function ti(){zt&&(Ut.state.stickyComplianceLink?zt.style.top=Object(_t.a)(Qt.complianceDistanceToTop-Vt.offsetHeight-26):zt.style.top="-26px")}function ii(){Nt&&(Ut.state.stickySearch?Nt.style.top=Object(_t.a)(Qt.searchDistanceToTop-Ft):Nt.style.top="0px")}const ni={configure:function(e){e&&(Qt=Object.assign(Object.assign({},Ht),e))},initialize:function(e,t,i,a){Rt=document.getElementById(n.backgroundImage),Nt=document.getElementById(n.search),zt=document.getElementById(n.complianceHyperlink),Vt=document.getElementById(n.header),Yt=Object(Le.a)(),Xt=0,Ut=e,Gt=t,Kt=i,Zt=i?Qt.pivotsRowHeight:0,Wt=a,Wt||(Wt=0),Ft=Gt(),zt&&ti(),ii(),window.addEventListener("scroll",ei,{passive:!0}),qt=Object(Mt.a)(()=>{Jt(Kt,Wt)},300,{leading:!1,trailing:!0}),window.addEventListener("resize",qt),$t=new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&"style"===t.attributeName&&qt()}),$t.observe(Rt,{attributes:!0,attributeFilter:["style"]})},updateStickyAfterBannerDismissal:function(){Xt=0,Ut.setState({stickyTopRowElements:!0})},updateSticky:Jt,updateBannerManagerHeight:function(e){Xt=e,Ut.setState({stickyTopRowElements:!1,stickySearch:!1})},updateCookieBannerHeight:function(){Yt=0,Ut.setState({stickyTopRowElements:!0})},removeListeners:function(){window.removeEventListener("scroll",ei),window.removeEventListener("resize",qt),$t&&$t.disconnect()}};class ai extends c.a{constructor(e){super(e),this.handledProps=Object.assign(Object.assign({},c.b),{applyThemeBackgroundColor:void 0,backgroundImageHighlighted:void 0,companyLogo:void 0,complianceHyperlink:void 0,designSystem:void 0,enableDefaultScrollbar:void 0,fadeOverlayAnimated:void 0,greetingEnabled:void 0,headerExpanded:void 0,imageSource:void 0,imageOfTheDayEnabled:void 0,imageGradient:void 0,layout:void 0,noFeedBackgroundEnabled:void 0,managedClasses:void 0,peekHeight:void 0,quickLinksEnabled:void 0,searchHistoryShown:void 0,selectedFeedDisplaySetting:void 0,themeBackgroundColor:void 0,updateHeaderExpandCollapseCallback:void 0,updateHeaderLayoutChangeCallback:void 0,complianceHyperlinkTelemetryObject:void 0}),this.markTTVRComplete=!1,this.onHeaderClick=e=>{this.props.imageOfTheDayEnabled&&this.props.updateHeaderExpandCollapseCallback(!this.props.headerExpanded)},this.registerObserverToReportTTVR=()=>{U.a.layoutAnimationComplete.registerObserver(()=>{this.markTTVRComplete||(window.requestAnimationFrame(()=>window.setTimeout(()=>super.markTimeToVisuallyReady(!1))),this.markTTVRComplete=!0)})},this.state={stickySearch:!1,stickyBackgroundImage:!1,stickyComplianceLink:!1,stickyTopRowElements:!0},this.registerObserverToReportTTVR()}componentDidUpdate(e){super.componentDidUpdate(),e.quickLinksEnabled===this.props.quickLinksEnabled&&e.imageOfTheDayEnabled===this.props.imageOfTheDayEnabled&&e.selectedFeedDisplaySetting===this.props.selectedFeedDisplaySetting&&e.greetingEnabled===this.props.greetingEnabled&&e.headerExpanded===this.props.headerExpanded&&e.searchHistoryShown===this.props.searchHistoryShown&&e.peekHeight===this.props.peekHeight||(At.updateLayout(this.props.quickLinksEnabled,this.props.imageOfTheDayEnabled,this.props.headerExpanded,this.props.selectedFeedDisplaySetting,this.props.greetingEnabled,this.props.searchHistoryShown,null,null,null,this.props.peekHeight),ve.updateObservers(this.props.quickLinksEnabled,this.props.imageOfTheDayEnabled,this.props.selectedFeedDisplaySetting),ni.updateSticky("headingsonly"===this.props.selectedFeedDisplaySetting||"peek"===this.props.selectedFeedDisplaySetting,this.props.peekHeight),e.selectedFeedDisplaySetting===this.props.selectedFeedDisplaySetting&&e.imageOfTheDayEnabled===this.props.imageOfTheDayEnabled||this.props.updateHeaderLayoutChangeCallback(this.props.selectedFeedDisplaySetting),(e.selectedFeedDisplaySetting!==this.props.selectedFeedDisplaySetting||this.props.peekHeight)&&J.handleSettingUpdate(this.props.selectedFeedDisplaySetting))}componentDidMount(){super.componentDidMount(),At.initialize(this.direction),At.updateLayout(this.props.quickLinksEnabled,this.props.imageOfTheDayEnabled,this.props.headerExpanded,this.props.selectedFeedDisplaySetting,this.props.greetingEnabled,this.props.searchHistoryShown,!0,null,null,this.props.peekHeight),ni.initialize(this,At.reportSearchYPosition,"headingsonly"===this.props.selectedFeedDisplaySetting||"peek"===this.props.selectedFeedDisplaySetting,this.props.peekHeight),ve.initialize(),ve.updateObservers(this.props.quickLinksEnabled,this.props.imageOfTheDayEnabled,this.props.selectedFeedDisplaySetting),J.initialize();const e=document.getElementById("BingImageOverlay");e&&e.addEventListener("click",this.onHeaderClick)}componentWillUnmount(){At.removeListeners(),ni.removeListeners(),ve.removeListeners()}render(){return super.render(),_.a.createElement(F.a,null,e=>{this.styleLayout(this.layoutMapper(this.props.layout),e),this.direction=e.direction;let t=Object(D.e)(e)?j:L,i=Object(D.e)(e)?d.a:d.d;const n=this.props.themeBackgroundColor;return this.props.applyThemeBackgroundColor&&(i=n),n&&(t=((e,t)=>({"@global":{"::-webkit-scrollbar":{"background-color":e},"::-webkit-scrollbar-thumb":{"background-color":t?"rgba(255, 255, 255, 0.53)":"rgba(0, 0, 0, 0.48)","border-radius":"8px",border:Object(b.a)("solid {0}",()=>e),"&:hover":{"background-color":t?"#AEAEAE":"#686868"},"&:active":{"background-color":t?"#989898":"#808080"}}}}))(n,Object(D.e)(Object.assign(Object.assign({},B.b),{backgroundColor:n})))),_.a.createElement(r.a,{value:i},_.a.createElement(Z.a,Object.assign({jssStyleSheet:this.props.enableDefaultScrollbar?{}:t},this.props.layout,{className:this.generateClassNames("HeaderEdgeNext_Page")},this.unhandledProps(),{requestContext:this.props.requestContext})))})}layoutMapper(e){const t=new Map,i=e.children;if(i)for(let e=0;e<i.length;e++){const n=i[e];t[n.id]=n;const a=n.children;if(a)for(let e=0;e<a.length;e++){const i=a[e];t[i.id]=i}}return t}styleLayout(e,t){const{managedClasses:i}=this.props;var a;if(e[n.logo]&&(e[n.logo].className=i.logo,e[n.logo].children=(a=Object(D.e)(t)?i.logoIconDark:i.logoIconLight,_.a.createElement("svg",{className:a||null,version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 226 48",height:"48px",width:"225px"},_.a.createElement("path",{key:"MicrosoftLogo1",id:"microsoft",d:"M93.6,9.6v28.8h-5V15.8h-0.1l-8.9,22.6h-3.3l-9.1-22.6h-0.1v22.6h-4.6V9.6h7.2l8.3,21.3h0.1\r\n            l8.7-21.3H93.6L93.6,9.6z M97.7,11.8c0-0.8,0.3-1.5,0.9-2c0.6-0.5,1.3-0.8,2.1-0.8c0.9,0,1.6,0.3,2.1,0.9c0.5,0.5,0.9,1.2,0.9,2\r\n            s-0.3,1.5-0.9,2c-0.6,0.5-1.3,0.8-2.1,0.8c-0.9,0-1.5-0.3-2.1-0.8C98.1,13.2,97.7,12.5,97.7,11.8z M103.1,17.7v20.7h-4.9V17.7H103.1\r\n            z M117.9,34.9c0.7,0,1.5-0.2,2.4-0.5c0.9-0.3,1.7-0.8,2.4-1.3v4.5c-0.8,0.5-1.7,0.8-2.7,1c-1,0.2-2.1,0.3-3.3,0.3\r\n            c-3.1,0-5.5-0.9-7.4-2.9c-1.9-1.9-2.9-4.4-2.9-7.3c0-3.3,1-6.1,2.9-8.2c1.9-2.1,4.7-3.2,8.3-3.2c0.9,0,1.8,0.1,2.7,0.3\r\n            c0.9,0.3,1.7,0.5,2.2,0.8v4.7c-0.7-0.5-1.5-1-2.3-1.3c-0.8-0.3-1.6-0.5-2.4-0.5c-1.9,0-3.5,0.6-4.7,1.9c-1.2,1.3-1.8,2.9-1.8,5.1\r\n            c0,2.1,0.5,3.7,1.7,4.9C114.4,34.3,115.9,34.9,117.9,34.9z M136.5,17.4c0.4,0,0.7,0,1.1,0.1c0.3,0.1,0.6,0.1,0.8,0.2v4.9\r\n            c-0.3-0.2-0.6-0.3-1.1-0.5c-0.5-0.2-1.1-0.3-1.8-0.3c-1.2,0-2.2,0.5-3,1.5c-0.8,1-1.3,2.5-1.3,4.7v10.4h-4.9V17.7h4.9V21h0.1\r\n            c0.5-1.1,1.1-2,2-2.7C134.1,17.7,135.2,17.4,136.5,17.4z M138.6,28.4c0-3.4,0.9-6.1,2.9-8.1c1.9-2,4.6-3,8.1-3\r\n            c3.2,0,5.7,0.9,7.5,2.9c1.8,1.9,2.7,4.5,2.7,7.8c0,3.3-0.9,6-2.9,8c-1.9,2-4.5,3-7.9,3c-3.2,0-5.7-0.9-7.6-2.8\r\n            C139.5,34.2,138.6,31.6,138.6,28.4z M143.7,28.2c0,2.1,0.5,3.8,1.5,4.9c1,1.1,2.4,1.7,4.2,1.7c1.8,0,3.1-0.6,4.1-1.7\r\n            c0.9-1.1,1.4-2.8,1.4-5.1c0-2.2-0.5-3.9-1.5-5c-0.9-1.1-2.3-1.7-4-1.7c-1.8,0-3.1,0.6-4.1,1.8C144.1,24.3,143.7,26,143.7,28.2z\r\n            M167,23.2c0,0.7,0.2,1.3,0.7,1.7c0.5,0.4,1.4,0.9,2.9,1.5c1.9,0.8,3.3,1.7,4.1,2.6c0.8,1,1.2,2.1,1.2,3.5c0,1.9-0.7,3.5-2.3,4.7\r\n            c-1.5,1.2-3.5,1.8-6.1,1.8c-0.9,0-1.8-0.1-2.9-0.3c-1.1-0.2-1.9-0.5-2.7-0.8V33c0.9,0.6,1.9,1.1,2.9,1.5c1,0.3,1.9,0.5,2.8,0.5\r\n            c1.1,0,1.9-0.1,2.4-0.5c0.5-0.3,0.8-0.8,0.8-1.5c0-0.7-0.3-1.3-0.8-1.7c-0.5-0.5-1.6-1-3.1-1.6c-1.8-0.7-3.1-1.6-3.8-2.5\r\n            s-1.1-2.1-1.1-3.6c0-1.9,0.7-3.4,2.2-4.6c1.5-1.2,3.4-1.8,5.7-1.8c0.7,0,1.5,0.1,2.4,0.3c0.9,0.1,1.7,0.4,2.3,0.6v4.6\r\n            c-0.7-0.4-1.4-0.8-2.3-1.1c-0.9-0.3-1.7-0.5-2.5-0.5c-0.9,0-1.7,0.2-2.1,0.5C167.3,22.1,167,22.5,167,23.2z M177.9,28.4\r\n            c0-3.4,0.9-6.1,2.9-8.1s4.6-3,8.1-3c3.2,0,5.7,0.9,7.5,2.9c1.8,1.9,2.7,4.5,2.7,7.8c0,3.3-0.9,6-2.9,8c-1.9,2-4.5,3-7.9,3\r\n            c-3.2,0-5.7-0.9-7.6-2.8C178.9,34.2,177.9,31.6,177.9,28.4z M183,28.2c0,2.1,0.5,3.8,1.5,4.9c1,1.1,2.4,1.7,4.2,1.7\r\n            c1.8,0,3.1-0.6,4.1-1.7c0.9-1.1,1.4-2.8,1.4-5.1c0-2.2-0.5-3.9-1.5-5c-0.9-1.1-2.3-1.7-4-1.7c-1.8,0-3.1,0.6-4.1,1.8\r\n            C183.5,24.3,183,26,183,28.2z M215.3,21.7H208v16.7h-4.9V21.7h-3.5v-4h3.5v-2.9c0-2.2,0.7-3.9,2.1-5.3c1.4-1.4,3.2-2.1,5.4-2.1\r\n            c0.6,0,1.1,0,1.6,0.1c0.5,0.1,0.9,0.1,1.2,0.3V12c-0.1-0.1-0.5-0.2-0.9-0.3c-0.4-0.1-0.9-0.2-1.4-0.2c-1,0-1.8,0.3-2.3,0.9\r\n            c-0.5,0.7-0.8,1.6-0.8,2.8v2.5h7.3V13l4.9-1.5v6.1h4.9v4h-4.9v9.7c0,1.3,0.2,2.2,0.7,2.7c0.5,0.5,1.2,0.8,2.2,0.8\r\n            c0.3,0,0.6-0.1,1-0.2c0.4-0.1,0.7-0.3,1.1-0.5v4c-0.3,0.2-0.8,0.3-1.5,0.5c-0.7,0.1-1.4,0.2-2.1,0.2c-2.1,0-3.6-0.5-4.6-1.7\r\n            c-1-1.1-1.5-2.7-1.5-4.9V21.7L215.3,21.7z"}),_.a.createElement("path",{key:"MicrosoftLogo2",id:"blue",d:"M22.8,25.2H0V48h22.8V25.2z",fill:"#00A4EF"}),_.a.createElement("path",{key:"MicrosoftLogo3",id:"yellow",d:"M48,25.2H25.2V48H48V25.2z",fill:"#FFB900"}),_.a.createElement("path",{key:"MicrosoftLogo4",id:"green",d:"M48,0H25.2v22.8H48V0z",fill:"#7FBA00"}),_.a.createElement("path",{key:"MicrosoftLogo5",id:"red",d:"M22.8,0H0v22.8h22.8V0z",fill:"#F25022"})))),e[n.userProfileDisplay]&&(e[n.userProfileDisplay].className=i.userProfileDisplay),e[n.quickLinks]&&(e[n.quickLinks].className=i.quickLinks),e[n.settings]&&(e[n.settings].className=i.settings+(this.state.stickyTopRowElements?" "+i.stickyTopElement:"")),e[n.msRewards]&&(e[n.msRewards].className=i.msRewards),e[n.feedToggle]&&(e[n.feedToggle].className=i.feedToggle+(this.state.stickyTopRowElements?" "+i.stickyTopElement:"")),e[n.complianceHyperlink]&&(e[n.complianceHyperlink].className=i.compliancelink_Container+(this.state.stickyComplianceLink?" "+i.stickyCompliance:""),e[n.complianceHyperlink].children=this.renderComplianceLink(this.props.complianceHyperlink)),e[n.search]&&(e[n.search].className=Object(ee.a)(i.search,[i.stickySearch,this.state.stickySearch])),e[n.msLogo]&&(e[n.msLogo].className=i.msLogo+(this.state.stickyTopRowElements?" "+i.stickyTopElement:"")),e[n.backgroundImageGrid]){let t;t=this.state.stickyBackgroundImage&&!this.props.noFeedBackgroundEnabled?" "+i.stickyBackgroundImageGrid:this.props.backgroundImageHighlighted?" "+i.highlightBackgroundImageGrid:"",e[n.backgroundImageGrid].className=i.backgroundImageGrid+t}if(e[n.welcomeGreeting]){let t="";e[n.serviceWaffle]&&(t+=" "+i.welcomeGreeting_adjusted),e[n.msLogo]&&(t+=" "+i.welcomeGreeting_brandingEnabled),this.state.stickyTopRowElements&&(t+=" "+i.stickyTopElement),e[n.welcomeGreeting].className=i.welcomeGreeting+t}e[n.serviceWaffle]&&(e[n.serviceWaffle].className=i.serviceWaffle+(this.state.stickyTopRowElements?" "+i.stickyTopElement:"")),e[n.companyLogo]&&(e[n.companyLogo].children=this.getCompanyLogoComponent()),e[n.fadeInOverlay]&&(e[n.fadeInOverlay].className=i.fadeInOverlay+" "+(this.props.fadeOverlayAnimated?i.visibleOverlay:i.hiddenOverlay)),this.props.noFeedBackgroundEnabled&&e[n.imageOverlayGrid]&&(e[n.imageOverlayGrid].className=i.imageOverlayGrid+" "+(this.state.stickyBackgroundImage||"always"==this.props.selectedFeedDisplaySetting?i.visibleImageOverlay:i.hiddenImageOverlay),this.props.backgroundImageHighlighted&&"always"==this.props.selectedFeedDisplaySetting&&(e[n.imageOverlayGrid].className+=" "+i.imageOverlayGridHighlighted),e[n.imageOverlay].children=this.getImageOverlayComponent()),e[n.aboveFoldGrid]&&(e[n.aboveFoldGrid].className=this.props.headerExpanded&&!this.state.stickyBackgroundImage?i.hideAboveFold:null),e[n.meetNow]&&(e[n.meetNow].className=i.meetNow+(this.state.stickyTopRowElements?" "+i.stickyTopElement:"")),e[n.recommendedSearch]&&(e[n.recommendedSearch].className=i.recommendedSearch),e[n.searchHistoryPill]&&(e[n.searchHistoryPill].className=i.searchHistoryPill),e[n.themeButton]&&(e[n.themeButton].className=i.themeBtn+(this.state.stickyTopRowElements?" "+i.stickyTopElement:""))}renderComplianceLink(e){if(e){const{children:t}=e,i=Object(a.g)(e,["children"]),{managedClasses:n}=this.props;let r=null;return this.props.complianceHyperlinkTelemetryObject&&(this.props.complianceHyperlinkTelemetryObject.contract.content.headline=t.toString(),this.props.complianceHyperlinkTelemetryObject.contract.destinationUrl=i.href,r=this.props.complianceHyperlinkTelemetryObject.render()),_.a.createElement(z.default,Object.assign({className:n.compliancelink_Hyperlink+" "+(this.props.imageOfTheDayEnabled?n.imageEnabledColor_linkText:n.imageDisabledColor_linkText)},i,r),_.a.createElement(o.a,{size:s.a._9,"data-mscc-ic":"false",className:n.compliancelink_Typography},t))}return null}getCompanyLogoComponent(){if(this.props.companyLogo){let e=void 0;return e=this.props.companyLogo.alignRight?this.props.companyLogo.showBackplate?k:E:this.props.companyLogo.showBackplate?I:w,_.a.createElement(N,Object.assign({jssStyleSheet:e},this.props.companyLogo))}}getImageOverlayComponent(){if(!this.props.imageSource)return null;const e=At.getHeaderImageHeight();return e?_.a.createElement($,{imageSource:this.props.imageSource,height:e,imageGradient:this.props.imageGradient}):null}}ai.defaultProps={experienceName:V.a.headerEdgeNext};var ri=i("ztvb"),oi=i("5GsF"),si=i("nP4O"),ci=i("4k19"),di=i("eoyk"),li=i("/FGi"),ui=i("Ac7j"),gi=i("jE1l");var hi,pi=i("s9+9"),mi=i("dTwT"),bi=i("AV1t"),fi=i("D/6c"),Ci=i("XTYY"),vi=i("sRsp");(hi||(hi={})).inspect=function(e){const t=vi.a.inspect(e);t.props=Object.assign(Object.assign({},t.props),e.config.styles);const i={designSystem:e.config.designSystemOverrides,layout:t.props,headerExpanded:null!=e.state.headerExpanded&&e.state.headerExpanded,enableDefaultScrollbar:e.config.enableDefaultScrollbar};return i.imageOfTheDayEnabled=e.state.currentLayout===ci.i.informational||e.state.currentLayout===ci.i.inspirational||e.state.imageOfTheDayEnabled,e.connectorArgs&&e.connectorArgs.isSearchHistoryShown&&(i.searchHistoryShown=e.connectorArgs.isSearchHistoryShown&&e.state.isSearchHistoryItemPresent&&e.config.enableSearchHistory||!1),i.quickLinksEnabled=e.state.quickLinksEnabled||e.state.currentLayout===ci.i.inspirational||e.state.currentLayout===ci.i.informational||e.state.currentLayout===ci.i.focused,i.greetingEnabled=e.state.greetingEnabled,i.backgroundImageHighlighted=e.state.backgroundImageHighlighted||!1,i.complianceHyperlink=e.config.complianceHyperlink,i.selectedFeedDisplaySetting=e.state.selectedFeedDisplaySetting,i.fadeOverlayAnimated=e.state.fadeOverlayAnimated||!1,i.headerExpanded=e.state.headerExpanded||!1,i.noFeedBackgroundEnabled=e.config.noFeedBackgroundEnabled&&e.state.imageOfTheDayEnabled&&("headingsonly"==e.state.selectedFeedDisplaySetting||"always"==e.state.selectedFeedDisplaySetting||"peek"==e.state.selectedFeedDisplaySetting)||!1,i.imageSource=e.state.imageSource,i.imageGradient=e.state.imageGradient,e.connectorArgs&&e.connectorArgs.companyLogo&&(i.companyLogo=e.connectorArgs.companyLogo),{props:i,missingChildren:t.missingChildren}};var yi=i("w0HK"),Si=i("Am8i"),xi=i("u5KZ"),Oi=i("JnE6"),Ti=i("+djJ"),wi=i("YbBQ"),Ii=i("1Xm9"),Ei=i("tacz"),ki=i("kLs4"),ji=i("WfnD"),Li=i("3Amp"),Di=i("rGfm"),Bi=i("hnBi"),Pi=i("OhtH"),Ai=i("lXoh"),Hi=i("KRKw"),Mi=i("y+Kz");function _i(){return Object(mi.a)().getObject(Mi.A,!0)&&(!function(){const e=Bi.a.getInstance().rootReducer.connector(pi.a.SharedState);return e&&e.getCurrentState().cookieConsentStatus===Hi.b.Required}()||Object(mi.a)().supported)}var Ri=i("A8DD"),Ni=i("MSQM");class Fi extends ji.a{constructor(e,t,i,n,a,r,o){super(e,t,i,n,a,r,o),this.focusRedirectEnabled=!1,this.hideCoachmark=!1,this.autoScrollFiredOnce=!1,this.updateHeaderLayoutChange=e=>{this.bingImageDataConnector&&this.bingImageDataConnector.updateLayoutStatus(e)},this.updateHeaderExpandCollapse=e=>{!e&&this.bingImageDataConnector&&this.bingImageDataConnector.updateHeaderExpandedStatus(e)},this.getCompanyLogoFromLocalStorage=()=>{const e=Object(mi.a)().getObject("companyLogo",null);if(!e||!e.default_logo)return"";return!this.getCurrentState().imageOfTheDayEnabled||!e.light_logo?e.default_logo||"":e.light_logo||""},this.renderIfOffline=!0,At.configure(Object.assign({},r.layoutConfig),r.enableCloserTopSiteExp,r.enableCloserSearchTopSiteExp,r.noFeedBackgroundEnabled),ni.configure(Object.assign(Object.assign({},r.layoutConfig),r.stickyConfig)),this.chromiumPageSettingsDataConnector=i.connector(pi.a.ChromiumPageSettings),this.layoutDataConnector=this.chromiumPageSettingsDataConnector||i.connector(pi.a.PageLayout),this.bingImageDataConnector=i.connector(pi.a.BingImageData),this.edgeChromiumStorageProvider=new si.a,this.getInitialStateFromSettingsStorage()}mapStateToProps(e){const t={config:this.config,children:this.childComponentInstanceList,state:e,connectorArgs:{companyLogo:this.coerceCompanyLogoProps(),isSearchHistoryShown:this.checkIfSearchHistoryIsShown()}},i=this.layoutDataConnector&&this.layoutDataConnector.getCurrentState();let n=0;i&&i.peekHeight&&(n=i.peekHeight);const a=hi.inspect(t);return Object.assign(Object.assign(Object.assign({},a.props),this.telemetryTags),{enableDefaultScrollbar:a.props.enableDefaultScrollbar,headerExpanded:e.headerExpanded,updateHeaderExpandCollapseCallback:this.updateHeaderExpandCollapse,updateHeaderLayoutChangeCallback:this.updateHeaderLayoutChange,complianceHyperlinkTelemetryObject:this.complianceHyperlinkTelemetryObject,themeBackgroundColor:this.getThemeBackgroundColor(),applyThemeBackgroundColor:this.applyThemeBackgroundColor(),requestContext:this.requestContext,peekHeight:n})}onComponentConnect(e){return Object(a.b)(this,void 0,void 0,(function*(){const{layoutConfig:t,localizedStrings:i,enableEnterpriseCoachmarks:n}=this.config,a=t&&t.pivotsRowHeight,r=t&&t.recommendedSitesEnabled;yield ji.a.prototype.onComponentConnect.call(this,Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e&&e.context),{pivotsRowHeight:a,recommendedSitesEnabled:r})})),this.registerCallbacks(),ui.a.readyToShowRecommendedLayoutAppliedCoachmark.registerObserver(e=>{Bi.a.getInstance().rootReducer.getDataConnector(pi.a.CoachmarkData).then(t=>{let a,r;if(e&&e.params&&e.params.length&&e.params[0]&&e.params[0].currentLayout){const t=e.params[0].currentLayout;t===ci.i.informational?(a=i.recommendedLayoutAppliedCoachmarkHeadline,r=i.recommendedLayoutAppliedCoachmarkText):t===ci.i.inspirational?(a=i.inspirationalLayoutAppliedCoachmarkHeadline,r=i.inspirationalLayoutAppliedCoachmarkText):t===ci.i.focused?(a=i.focusedLayoutAppliedCoachmarkHeadline,r=i.focusedLayoutAppliedCoachmarkText):t===ci.i.custom&&(a=i.customLayoutAppliedCoachmarkHeadline,r=i.customLayoutAppliedCoachmarkText)}a&&r&&Object(Ni.a)().then(()=>{setTimeout(()=>{t.addCoachmark([Object.assign(Object.assign({},v),{ctaList:[void 0,{ctaText:i.promoCoachmarkCtaText,ctaType:"dismiss"}],headline:a,leadText:r})],!!n)},1e3)})})});const o=this.chromiumPageSettingsDataConnector.getPromoFormParamList();if(o){const e=new URLSearchParams(window.location.search).get("form");if(e){o.includes(e.toUpperCase())&&ki.a.readyToAddCoachmark.registerObserver(()=>{Bi.a.getInstance().rootReducer.getDataConnector(pi.a.CoachmarkData).then(e=>{e.addCoachmark([Object.assign(Object.assign({},v),{headline:i.promoCoachmarkHeadline,leadText:i.promoCoachmarkText,ctaList:[void 0,{ctaText:i.promoCoachmarkCtaText,ctaType:"dismiss"}]})])})})}}if(this.complianceHyperlinkTelemetryObject=this.telemetryObject?this.telemetryObject.addOrUpdateChild({name:"ComplianceHyperlink",behavior:Si.c.Navigate,content:{headline:""},destinationUrl:"",type:Si.f.Interaction},this.complianceHyperlinkTelemetryObject):null,!this.chromiumPageSettingsDataConnector){const e=this.layoutDataConnector&&this.layoutDataConnector.getCurrentState();return this.onLayoutSettingsLoaded(e),void oi.a.layoutChange.getActionSender(this).send(e)}const s=this.chromiumPageSettingsDataConnector.getCurrentState();if(s)return s.isLoadCompleted?(this.onLayoutSettingsLoaded(s),this.onChromiumPageSettingsLoaded(s),void oi.a.layoutChange.getActionSender(this).send(s)):void ui.a.pageLayoutStateLoaded.registerObserver(()=>{const e=this.chromiumPageSettingsDataConnector.getCurrentState();this.onLayoutSettingsLoaded(e),this.onChromiumPageSettingsLoaded(e),oi.a.layoutChange.getActionSender(this).send(e)})}))}onLayoutSettingsLoaded(e){return Object(a.b)(this,void 0,void 0,(function*(){e&&(this.markInvalidTtvrMarkers(e),e.peekHeight||!this.config.enableNewsPeek||e.currentLayout!==ci.i.inspirational&&"peek"!==e.selectedFeedDisplaySetting||this.triggerDelayedPeek())}))}onChromiumPageSettingsLoaded(e){return Object(a.b)(this,void 0,void 0,(function*(){if(!e)return;const{openSettingsDialogFlyout:t,configData:i}=e;t&&Object(W.j)().then(()=>{oi.a.animateFadeOverlay.getActionSender(this).send(t)}),i?this.onChromiumConfigDataLoaded(i):ui.a.updateConfigData.registerObserver(()=>{const e=this.chromiumPageSettingsDataConnector.getCurrentState();e&&e.configData&&this.onChromiumConfigDataLoaded(e.configData)})}))}onChromiumConfigDataLoaded(e){return Object(a.b)(this,void 0,void 0,(function*(){this.focusRedirectEnabled=e.inPageSearchBoxType===gi.b.redirect;const t=e.enabledFeatures&&e.enabledFeatures.includes("msAllowThemeInstallationFromChromeStore"),i=window&&window.chrome&&window.chrome.embeddedSearch&&window.chrome.embeddedSearch.newTabPage;t&&i&&(i.onthemechange=()=>{Object(fi.b)()})}))}getInitialStateFromSettingsStorage(){this.edgeChromiumStorageProvider.loadSynchronizedSettingsFromStorage();1==this.edgeChromiumStorageProvider.fetchProperty("CoachmarkUserPreference")&&(this.hideCoachmark=!0)}registerCallbacks(){Ii.a.toggleMuseumCreditsCard.registerObserver(e=>{const t=e&&e.params;if(!t||!t.length)return;const i=t[0];if(i){const e=document.createEvent("MouseEvents");e.initEvent("click",!0,!1);document.body.dispatchEvent(e)}oi.a.highlightBackgroundImage.getActionSender(this).send(i)}),bi.a.hasExperienceRegistered(V.a.bannerManager)&&(Ei.a.updateBannerHeight.registerObserver(e=>{const t=e.params[0];0!==t&&(ni.updateBannerManagerHeight(t),At.updateBannerManagerHeight(t))}),Ei.a.notifyBannerDidAnimate.registerObserver(e=>{e.params[0]||(ni.updateStickyAfterBannerDismissal(),At.updateBannerManagerHeight(0))})),li.a.updateHeaderExpandedState.registerObserver(e=>{const t=e&&e.params;if(!t||!t.length)return;const i=t[0];oi.a.expandCollapseHeader.getActionSender(this).send(i)}),this.config&&this.config.noFeedBackgroundEnabled&&(this.updateBackgroundImageOverlay(),Ii.a.updateBingImageSourceStep2.registerObserver(e=>{this.updateBackgroundImageOverlay()}),this.updateBackgroundImageOverlayGradient(),Ii.a.updateSearchHistoryBingImageOverlayVisibility.registerObserver(e=>{this.updateBackgroundImageOverlayGradient(),this.positionMuseumCard(!0)}),oi.a.elementsSizeChange.registerObserver(e=>{this.positionMuseumCard()})),Li.a.cookieConsentStatus.registerObserver(e=>{ni.updateCookieBannerHeight(),At.updateLayoutOnCookieBannerDismissal()}),Di.a.riverRefreshed.registerObserver(()=>{At.scrollToShowFeed()}),oi.a.elementsSizeChange.registerObserver(e=>{const t=e&&e.params;t&&t.length&&At.updateLayoutOnElementsSizeChange(t[0],t[1])}),di.a.updateLayout.registerObserver(e=>{const t=e&&e.params;if(!t||t.length<1)return;const i=t[0];!i.peekHeight&&this.config.enableNewsPeek&&"peek"===i.selectedFeedDisplaySetting&&this.triggerDelayedPeek(),oi.a.layoutChange.getActionSender(this).send(i)}),Ai.a.searchHistoryToggleUpdated.registerObserver(e=>{const t=e&&e.params,i=t.length>1&&t[1];!t||t.length<1||i||oi.a.getSearchHistoryVisibility.getActionSender(this).send()}),Pi.a.hideSearchHistory.registerObserver(e=>{oi.a.getSearchHistoryVisibility.getActionSender(this).send()}),Pi.a.fetchSearchHistory.registerObserver(e=>{const t=e&&e.params;t&&t.length&&oi.a.getSearchHistoryItemStatus.getActionSender(this).send(t[0])}),At.onLayoutAnimationStart(()=>{U.a.layoutAnimationStart.getActionSender(this).send()}),At.onLayoutAnimationComplete(()=>{U.a.layoutAnimationComplete.getActionSender(this).send({height:At.getHeaderHeight()})});const e=Object(yi.a)();e&&(e.addSwitchListener(e=>{if(e.oldSelection){const e=this.getCurrentState();e.imageOfTheDayEnabled&&e.headerExpanded?(this.updateHeaderExpandCollapse(!1),setTimeout(At.scrollToShowFeed,500)):At.scrollToShowFeed()}}),e.addClickListener(e=>{e||At.scrollToShowFeed()}))}markInvalidTtvrMarkers(e){Object(Ti.k)(V.a.headerEdgeNext,!0),e&&(e.quickLinksEnabled||Object(Ti.k)(V.a.topSitesEdgeNext,!0),e.imageOfTheDayEnabled||Object(Ti.k)(V.a.backgroundImageEdgeNext,!0),"onscroll"!==e.selectedFeedDisplaySetting&&"headingsonly"!==e.selectedFeedDisplaySetting&&"off"!==e.selectedFeedDisplaySetting||(Object(Ti.k)(V.a.river,!0),Object(Ti.k)(V.a.stripeView,!0)))}coerceCompanyLogoProps(){const{companyLogo:e}=this.config;if(e&&e.enabled){const t=e.altText||"",i=this.getCompanyLogoFromLocalStorage(),n=this.chromiumPageSettingsDataConnector.getCurrentState(),a=n&&n.ntpTheme&&n.ntpTheme.isNtpBackgroundDark;return{altText:t,image:i,alignRight:e.alignRight,showBackplate:this.getCurrentState().currentLayout===ci.i.focused&&!a}}return null}checkIfSearchHistoryIsShown(){return!this.focusRedirectEnabled&&_i()}getThemeBackgroundColor(){const e=this.chromiumPageSettingsDataConnector.getCurrentState().ntpTheme;let t=null;if(e&&!e.usingDefaultTheme&&e.backgroundColorRgba&&e.backgroundColorRgba.length>3){const i=e.backgroundColorRgba,n={r:i[0],g:i[1],b:i[2],a:i[3]};t=Ci.a.rgbNumberToCssHexColor(Ci.a.parsedColorToNumber(n))}return t}applyThemeBackgroundColor(){const e=this.chromiumPageSettingsDataConnector.getCurrentState(),t=e.ntpTheme;return!!(e.currentBackgroundImageType===ci.a.theme&&t&&!t.imageUrl&&!t.usingDefaultTheme&&t.backgroundColorRgba&&t.backgroundColorRgba.length>3)}fireAutoScrollTelemetryEvent(e){this.autoScrollFiredOnce||(xi.a.scheduleContentViewEvent(Oi.b.AutoScroll),this.autoScrollFiredOnce=!0),e.preventDefaultScroll=!0}removeScrollListener(){setTimeout(()=>{document.removeEventListener("scroll",this.fireAutoScrollTelemetryEvent)},400)}triggerDelayedPeek(){Promise.all([Object(Ri.a)(),Object(W.i)(),Object(Ni.a)(),Object(Ti.s)()]).then(()=>{Object(wi.a)(),setTimeout(()=>{Object(wi.b)()||(document.addEventListener("scroll",this.fireAutoScrollTelemetryEvent),At.scrollToShowFeed(this.config.peekScrollLengthInPx),this.removeScrollListener())},this.config.triggerPeekTimeoutInSecs)})}updateBackgroundImageOverlay(){Object(W.j)().then(()=>{const e=document.getElementById("backgroundImage1"),t=e&&window.getComputedStyle(e),i=t&&t.backgroundImage,n=i&&i.match(/\((.*?)\)/)[1].replace(/('|")/g,"");n&&setTimeout(()=>{oi.a.updateBackgroundImageOverlay.getActionSender(this).send(n),this.positionMuseumCard()},100)})}updateBackgroundImageOverlayGradient(){Object(W.j)().then(()=>{const e=document.getElementById("BingImageOverlay"),t=e&&window.getComputedStyle(e),i=t&&t.backgroundImage;i&&oi.a.updateBackgroundImageOverlayGradient.getActionSender(this).send(i)})}positionMuseumCard(e){const t=this.chromiumPageSettingsDataConnector.getCurrentState();if(t)if("always"===t.selectedFeedDisplaySetting){const t=document.getElementById("museumCard"),i=document.getElementById(n.belowTheFold);if(!t||!i)return;if(!e){const e=document.getElementById(n.imageOverlay);e&&e.appendChild(t)}t.style&&setTimeout(()=>{const e=i.getBoundingClientRect();t.style.top=(e&&e.top-50)+"px",t.style.bottom="auto",t.style.position="fixed"},200)}else if(e){const e=document.getElementById("museumCard"),t=document.getElementById("backgroundImage");if(!e||!t)return;t.appendChild(e),e.style&&(e.style.removeProperty("top"),e.style.removeProperty("bottom"),e.style.removeProperty("position"))}}}var Ui=i("05Au");class Vi{reduce(e,t){if(!e)return Object.assign(Object.assign({},ci.e),{headerExpanded:!1});if(!t)return e;let i,n=!1;return n=Ui.a.handleAction(t,oi.a.layoutChange,t=>{i=Object.assign(Object.assign({},e),t)}),n=Ui.a.handleAction(t,oi.a.expandCollapseHeader,t=>{i=Object.assign(Object.assign({},e),{headerExpanded:t})}),n=n||Ui.a.handleAction(t,oi.a.highlightBackgroundImage,t=>{i=Object.assign(Object.assign({},e),{backgroundImageHighlighted:t})}),n=n||Ui.a.handleAction(t,oi.a.animateFadeOverlay,t=>{i=Object.assign(Object.assign({},e),{fadeOverlayAnimated:t})}),n=Ui.a.handleAction(t,oi.a.expandCollapseHeader,t=>{i=Object.assign(Object.assign({},e),{headerExpanded:t})}),n=Ui.a.handleAction(t,oi.a.getSearchHistoryVisibility,()=>{i=Object.assign({},e)}),n=Ui.a.handleAction(t,oi.a.getSearchHistoryItemStatus,t=>{i=Object.assign(Object.assign({},e),{isSearchHistoryItemPresent:t})}),n=Ui.a.handleAction(t,oi.a.updateBackgroundImageOverlay,t=>{i=Object.assign(Object.assign({},e),{imageSource:t})}),n=Ui.a.handleAction(t,oi.a.updateBackgroundImageOverlayGradient,t=>{i=Object.assign(Object.assign({},e),{imageGradient:t})}),i||e}}var zi=i("OxLm"),Gi=i("Fg+o");const qi=Object(P.a)(T)(ai),$i={reactComponent:qi,experienceConfigSchema:ri.HeaderEdgeChromiumConfigSchema,mockConfig:zi.mockConfig,mockState:Gi.mockState,inspector:hi.inspect}},zeXT:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("MF9s"),a=i("6u3Q"),r=i("6QMD");const o=Object(r.d)(e=>{const t=Object(n.W)(e),i=Object(a.a)(e),r=Object(n.v)(e),o=i+(Object(a.e)(e)?-1:1)*r;return Object(a.d)(o,t)})},ztvb:function(e,t){}}]);